/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "https://podrezo.github.io/samegame/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@createjs/easeljs/dist/easeljs.min.js":
/*!************************************************************!*\
  !*** ./node_modules/@createjs/easeljs/dist/easeljs.min.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * @license
 * EaselJS
 * Visit https://createjs.com for documentation, updates and examples.
 *
 * Copyright (c) 2017 gskinner.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 */
!function(t,e,i){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function t(){throw n(this,t),new Error("\n\t\t\tStageGL is not currently supported on the EaselJS 2.0 branch.\n\t\t\tEnd of Q1 2018 is targetted for StageGL support.\n\t\t\tFollow @CreateJS on Twitter for updates.\n\t\t")},h=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(this,t),this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=i,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}return t.prototype.preventDefault=function(){return this.defaultPrevented=this.cancelable,this},t.prototype.stopPropagation=function(){return this.propagationStopped=!0,this},t.prototype.stopImmediatePropagation=function(){return this.immediatePropagationStopped=this.propagationStopped=!0,this},t.prototype.remove=function(){return this.removed=!0,this},t.prototype.clone=function(){var e=new t(this.type,this.bubbles,this.cancelable);for(var i in this)this.hasOwnProperty(i)&&(e[i]=this[i]);return e},t.prototype.set=function(t){for(var e in t)this[e]=t[e];return this},t.prototype.toString=function(){return"["+this.constructor.name+" (type="+this.type+")]"},t}(),l=function(){function t(){n(this,t),this._listeners=null,this._captureListeners=null}return t.initialize=function(e){var i=t.prototype;e.addEventListener=i.addEventListener,e.on=i.on,e.removeEventListener=e.off=i.removeEventListener,e.removeAllEventListeners=i.removeAllEventListeners,e.hasEventListener=i.hasEventListener,e.dispatchEvent=i.dispatchEvent,e._dispatchEvent=i._dispatchEvent,e.willTrigger=i.willTrigger},t.prototype.addEventListener=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=void 0,r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&(this.removeEventListener(t,e,i),r=n[t]),r?r.push(e):n[t]=[e],e},t.prototype.on=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,r),n&&t.remove()},s)},t.prototype.removeEventListener=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this._captureListeners:this._listeners;if(i){var n=i[t];if(n)for(var r=n.length,s=0;s<r;s++)if(n[s]===e){1===r?delete i[t]:n.splice(s,1);break}}},t.prototype.off=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.removeEventListener(t,e,i)},t.prototype.removeAllEventListeners=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},t.prototype.dispatchEvent=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof t){var n=this._listeners;if(!(e||n&&n[t]))return!0;t=new h(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var r=this,s=[r];r.parent;)s.push(r=r.parent);var o=s.length,a=void 0;for(a=o-1;a>=0&&!t.propagationStopped;a--)s[a]._dispatchEvent(t,1+(0==a));for(a=1;a<o&&!t.propagationStopped;a++)s[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},t.prototype.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},t.prototype.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},t.prototype.toString=function(){return"["+(this.constructor.name+this.name?" "+this.name:"")+"]"},t.prototype._dispatchEvent=function(t,e){var i=1===e?this._captureListeners:this._listeners;if(t&&i){var n=i[t.type],r=void 0;if(!n||0===(r=n.length))return;try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1,n=n.slice();for(var s=0;s<r&&!t.immediatePropagationStopped;s++){var o=n[s];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1===e),t.removed=!1)}}},t}(),u=0,c=function(){function t(){throw n(this,t),"UID cannot be instantiated"}return t.get=function(){return t._nextID++},r(t,null,[{key:"_nextID",get:function(){return u},set:function(t){u=t}}]),t}(),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.setValues(e,i)}return t.prototype.setValues=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t,this.y=e,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"["+this.constructor.name+" (x="+this.x+" y="+this.y+")]"},t}(),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,t),this.setValues(e,i,r,s,o,a)}return t.prototype.setValues=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},t.prototype.append=function(t,e,i,n,r,s){var o=this.a,a=this.b,h=this.c,l=this.d;return 1==t&&0==e&&0==i&&1==n||(this.a=o*t+h*e,this.b=a*t+l*e,this.c=o*i+h*n,this.d=a*i+l*n),this.tx=o*r+h*s+this.tx,this.ty=a*r+l*s+this.ty,this},t.prototype.prepend=function(t,e,i,n,r,s){var o=this.a,a=this.c,h=this.tx;return this.a=t*o+i*this.b,this.b=e*o+n*this.b,this.c=t*a+i*this.d,this.d=e*a+n*this.d,this.tx=t*h+i*this.ty+r,this.ty=e*h+n*this.ty+s,this},t.prototype.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.appendTransform=function(e,i,n,r,s,o,a,h,l){var u=void 0,c=void 0,p=void 0;return s%360?(u=s*t.DEG_TO_RAD,c=Math.cos(u),p=Math.sin(u)):(c=1,p=0),o||a?(o*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,i),this.append(c*n,p*n,-p*r,c*r,0,0)):this.append(c*n,p*n,-p*r,c*r,e,i),(h||l)&&(this.tx-=h*this.a+l*this.c,this.ty-=h*this.b+l*this.d),this},t.prototype.prependTransform=function(e,i,n,r,s,o,a,h,l){var u=void 0,c=void 0,p=void 0;return s%360?(u=s*t.DEG_TO_RAD,c=Math.cos(u),p=Math.sin(u)):(c=1,p=0),(h||l)&&(this.tx-=h,this.ty-=l),o||a?(o*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.prepend(c*n,p*n,-p*r,c*r,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),e,i)):this.prepend(c*n,p*n,-p*r,c*r,e,i),this},t.prototype.rotate=function(e){e*=t.DEG_TO_RAD;var i=Math.cos(e),n=Math.sin(e),r=this.a,s=this.b;return this.a=r*i+this.c*n,this.b=s*i+this.d*n,this.c=-r*n+this.c*i,this.d=-s*n+this.d*i,this},t.prototype.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},t.prototype.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},t.prototype.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*r)/s,this.ty=-(t*this.ty-e*r)/s,this},t.prototype.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.prototype.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},t.prototype.transformPoint=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p;return i.x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},t.prototype.decompose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return Math.abs(1-i/n)<1e-5?(e.rotation=n/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},t.prototype.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.prototype.toString=function(){return"["+this.constructor.name+" (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t}();d.DEG_TO_RAD=Math.PI/180,d.identity=new d;var f=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments[2],s=arguments[3],o=arguments[4];n(this,t),this.setValues(e,i,r,s,o)}return t.prototype.setValues=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2],n=arguments[3],r=arguments[4];return this.visible=t,this.alpha=e,this.shadow=i,this.compositeOperation=n,this.matrix=r||this.matrix&&this.matrix.identity()||new d,this},t.prototype.append=function(t,e,i,n,r){return this.alpha*=e,this.shadow=i||this.shadow,this.compositeOperation=n||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this},t.prototype.prepend=function(t,e,i,n,r){return this.alpha*=e,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||n,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this},t.prototype.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.prototype.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},t}(),v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.setValues(e,i,r,s)}return t.prototype.setValues=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.x=t,this.y=e,this.width=i,this.height=n,this},t.prototype.extend=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t+i>this.x+this.width&&(this.width=t+i-this.x),e+n>this.y+this.height&&(this.height=e+n-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},t.prototype.pad=function(t,e,i,n){return this.x-=e,this.y-=t,this.width+=e+n,this.height+=t+i,this},t.prototype.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},t.prototype.contains=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+n<=this.y+this.height},t.prototype.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},t.prototype.intersection=function(e){var i=e.x,n=e.y,r=i+e.width,s=n+e.height;return this.x>i&&(i=this.x),this.y>n&&(n=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<s&&(s=this.y+this.height),r<=i||s<=n?null:new t(i,n,r-i,s-n)},t.prototype.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.toString=function(){return"["+this.constructor.name+" (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},t}(),g=function(){function t(){n(this,t),this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}return t.prototype.getBounds=function(t){return t},t.prototype.shaderParamSetup=function(t,e,i){},t.prototype.applyFilter=function(t,e,i,n,r,s,o,a){s=s||t,null==o&&(o=e),null==a&&(a=i);try{var h=t.getImageData(e,i,n,r);if(this._applyFilter(h))return s.putImageData(h,o,a),!0}catch(t){}return!1},t.prototype.toString=function(){return"["+this.constructor.name+"]"},t.prototype.clone=function(){return new t},t.prototype._applyFilter=function(t){return!0},t}(),_=function(t){function e(){n(this,e);var i=o(this,t.call(this));return i.width=void 0,i.height=void 0,i.x=void 0,i.y=void 0,i.scale=1,i.offX=0,i.offY=0,i.cacheID=0,i._filterOffX=0,i._filterOffY=0,i._cacheDataURLID=0,i._cacheDataURL=null,i._drawWidth=0,i._drawHeight=0,i._boundRect=new v,i}return s(e,t),e.getFilterBounds=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v,i=t.filters,n=i&&i.length;if(!!n<=0)return e;for(var r=0;r<n;r++){var s=i[r];if(s&&s.getBounds){var o=s.getBounds();o&&(0==r?e.setValues(o.x,o.y,o.width,o.height):e.extend(o.x,o.y,o.width,o.height))}}return e},e.prototype.define=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments[6];if(!t)throw"No symbol to cache";this._options=o,this._useWebGL=void 0!==o,this.target=t,this.width=n>=1?n:1,this.height=r>=1?r:1,this.x=e,this.y=i,this.scale=s,this.update()},e.prototype.update=function(t){if(!this.target)throw"define() must be called before update()";var i=e.getFilterBounds(this.target),n=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+i.width,this._drawHeight=Math.ceil(this.height*this.scale)+i.height,n&&this._drawWidth==n.width&&this._drawHeight==n.height||this._updateSurface(),this._filterOffX=i.x,this._filterOffY=i.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(t),this.cacheID=this.cacheID?this.cacheID+1:1},e.prototype.release=function(){var t=this.target.stage;this._useWebGL&&this._webGLCache?(this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1):t instanceof a&&t.releaseTexture(this.target.cacheCanvas),this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},e.prototype.getCacheDataURL=function(){var t=this.target&&this.target.cacheCanvas;return t?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=t.toDataURL?t.toDataURL():null),this._cacheDataURL):null},e.prototype.draw=function(t){return!!this.target&&(t.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)},e.prototype.getBounds=function(){var t=this.scale;return this._boundRect.setValue(this._filterOffX/t,this._filterOffY/t,this.width/t,this.height/t)},e.prototype._updateSurface=function(){var t=void 0;if(!this._useWebGL)return(t=this.target.cacheCanvas)||(t=this.target.cacheCanvas=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),t.width=this._drawWidth,void(t.height=this._drawHeight);if(!this._webGLCache)if("stage"===this._options.useGL){if(null==this.target.stage||!this.target.stage.isWebGL)throw"Cannot use 'stage' for cache because the object's parent stage is "+(null!=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage.");this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else{if("new"!==this._options.useGL)throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new a(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0}var e=this._webGLCache;t=this.target.cacheCanvas,e.isCacheControlled&&(t.width=this._drawWidth,t.height=this._drawHeight,e.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):e.isCacheControlled||e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},e.prototype._drawToCache=function(t){var e=this.target,i=e.cacheCanvas,n=this._webGLCache;if(!this._useWebGL||!n){var r=i.getContext("2d");return t||r.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),r.save(),r.globalCompositeOperation=t,r.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),r.translate(-this.x,-this.y),e.draw(r,!0),r.restore(),e.filters&&e.filters.length&&this._applyFilters(e),void(i._invalid=!0)}this._webGLCache.cacheDraw(e,e.filters,this),(i=this.target.cacheCanvas).width=this._drawWidth,i.height=this._drawHeight,i._invalid=!0},e.prototype._applyFilters=function(){for(var t=this.target.cacheCanvas,e=this.target.filters,i=this._drawWidth,n=this._drawHeight,r=t.getContext("2d").getImageData(0,0,i,n),s=e.length,o=0;o<s;o++)e[o]._applyFilter(r);t.getContext("2d").putImageData(r,0,0)},e}(g),m=function(t){function e(){n(this,e);var i=o(this,t.call(this));return i.alpha=1,i.cacheCanvas=null,i.bitmapCache=null,i.id=c.get(),i.mouseEnabled=!0,i.tickEnabled=!0,i.name=null,i.parent=null,i.regX=0,i.regY=0,i.rotation=0,i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.shadow=null,i.visible=!0,i.x=0,i.y=0,i.transformMatrix=null,i.compositeOperation=null,i.snapToPixel=!0,i.filters=null,i.mask=null,i.hitArea=null,i.cursor=null,i._props=new f,i._rectangle=new v,i._bounds=null,i._webGLRenderStyle=e._StageGL_NONE,i}return s(e,t),e.prototype.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.prototype.draw=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.drawCache(t,e)},e.prototype.drawCache=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.bitmapCache;return!(!i||e)&&i.draw(t)},e.prototype.updateContext=function(t){var i=this,n=i.mask,r=i._props.matrix;n&&n.graphics&&!n.graphics.isEmpty()&&(n.getMatrix(r),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),n.graphics.drawAsPath(t),t.clip(),r.invert(),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var s=r.tx,o=r.ty;e._snapToPixelEnabled&&i.snapToPixel&&(s=s+(s<0?-.5:.5)|0,o=o+(o<0?-.5:.5)|0),t.transform(r.a,r.b,r.c,r.d,s,o),t.globalAlpha*=i.alpha,i.compositeOperation&&(t.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(t,i.shadow)},e.prototype.cache=function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments[5];this.bitmapCache||(this.bitmapCache=new _),this.bitmapCache.define(this,t,e,i,n,r,s)},e.prototype.updateCache=function(t){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(t)},e.prototype.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},e.prototype.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},e.prototype.localToGlobal=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p;return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,i)},e.prototype.globalToLocal=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p;return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,i)},e.prototype.localToLocal=function(t,e,i,n){return n=this.localToGlobal(t,e,n),i.globalToLocal(n.x,n.y,n)},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.x=t,this.y=e,this.scaleX=i,this.scaleY=n,this.rotation=r,this.skewX=s,this.skewY=o,this.regX=a,this.regY=h,this},e.prototype.getMatrix=function(t){var e=this,i=t&&t.identity()||new d;return e.transformMatrix?i.copy(e.transformMatrix):i.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.prototype.getConcatenatedMatrix=function(t){for(var e=this,i=this.getMatrix(t);e=e.parent;)i.prependMatrix(e.getMatrix(e._props.matrix));return i},e.prototype.getConcatenatedDisplayProps=function(t){t=t?t.identity():new f;var e=this,i=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&i.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t},e.prototype.hitTest=function(t,i){var n=e._hitTestContext;n.setTransform(1,0,0,1,-t,-i),this.draw(n);var r=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),r},e.prototype.set=function(t){for(var e in t)this[e]=t[e];return this},e.prototype.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.prototype.getTransformedBounds=function(){return this._getBounds()},e.prototype.setBounds=function(t,e,i,n){null==t&&(this._bounds=t),this._bounds=(this._bounds||new v).setValues(t,e,i,n)},e.prototype.clone=function(){return this._cloneProps(new e)},e.prototype.toString=function(){return"["+this.constructor.name+(this.name?" (name="+this.name+")":"")+"]"},e.prototype._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e.prototype._applyShadow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Shadow.identity;e=e,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e.prototype._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e.prototype._testHit=function(t){try{return t.getImageData(0,0,1,1).data[3]>1}catch(t){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";return!1}},e.prototype._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e.prototype._transformBounds=function(t,e,i){if(!t)return t;var n=t.x,r=t.y,s=t.width,o=t.height,a=this._props.matrix;a=i?a.identity():this.getMatrix(a),(n||r)&&a.appendTransform(0,0,1,1,0,0,0,-n,-r),e&&a.prependMatrix(e);var h=s*a.a,l=s*a.b,u=o*a.c,c=o*a.d,p=a.tx,d=a.ty,f=p,v=p,g=d,_=d;return(n=h+p)<f?f=n:n>v&&(v=n),(n=h+u+p)<f?f=n:n>v&&(v=n),(n=u+p)<f?f=n:n>v&&(v=n),(r=l+d)<g?g=r:r>_&&(_=r),(r=l+c+d)<g?g=r:r>_&&(_=r),(r=c+d)<g?g=r:r>_&&(_=r),t.setValues(f,g,v-f,_-g)},e.prototype._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,i=0,n=t.length;i<n;i++)if(this.hasEventListener(t[i]))return!0;return!!this.cursor},r(e,[{key:"stage",get:function(){for(var t=this;t.parent;)t=t.parent;return/^\[Stage(GL)?(\s\(name=\w+\))?\]$/.test(t.toString())?t:null}},{key:"scale",get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}]),e}(l),y=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");y.getContext&&(m._hitTestCanvas=y,m._hitTestContext=y.getContext("2d"),y.width=y.height=1),m._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],m.suppressCrossDomainErrors=!1,m.snapToPixelEnabled=!1,m._StageGL_NONE=0,m._StageGL_SPRITE=1,m._StageGL_BITMAP=2;var w=function(t){function e(){n(this,e);var i=o(this,t.call(this));return i.children=[],i.mouseChildren=!0,i.tickChildren=!0,i}return s(e,t),e.prototype.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.prototype.draw=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.prototype.draw.call(this,e,i))return!0;for(var n=this.children.slice(),r=0,s=n.length;r<s;r++){var o=n[r];o.isVisible()&&(e.save(),o.updateContext(e),o.draw(e),e.restore())}return!0},e.prototype.addChild=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.length;if(0===n)return null;var r=e[0];if(n>1){for(var s=0;s<n;s++)r=this.addChild(e[s]);return r}var o=r.parent,a=o===this;return o&&o._removeChildAt(o.children.indexOf(r),a),r.parent=this,this.children.push(r),a||r.dispatchEvent("added"),r},e.prototype.addChildAt=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.length;if(0===n)return null;var r=e.pop();if(r<0||r>this.children.length)return e[n-2];if(n>2){for(var s=0;s<n-1;s++)this.addChildAt(e[s],r++);return e[n-2]}var o=e[0],a=o.parent,h=a===this;return a&&a._removeChildAt(a.children.indexOf(o),h),o.parent=this,this.children.splice(r++,0,o),h||o.dispatchEvent("added"),o},e.prototype.removeChild=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.length;if(0===n)return!0;if(n>1){for(var r=!0,s=0;s<n;s++)r=r&&this.removeChild(e[s]);return r}return this._removeChildAt(this.children.indexOf(e[0]))},e.prototype.removeChildAt=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.length;if(0===n)return!0;if(n>1){e.sort(function(t,e){return e-t});for(var r=!0,s=0;s<n;s++)r=r&&this._removeChildAt(e[s]);return r}return this._removeChildAt(e[0])},e.prototype.removeAllChildren=function(){for(var t=this.children;t.length;)this._removeChildAt(0)},e.prototype.getChildAt=function(t){return this.children[t]},e.prototype.getChildByName=function(t){for(var e=this.children,i=e.length,n=0;n<i;n++)if(e[n].name===t)return e[n];return null},e.prototype.sortChildren=function(t){this.children.sort(t)},e.prototype.getChildIndex=function(t){return this.children.indexOf(t)},e.prototype.swapChildrenAt=function(t,e){var i=this.children,n=i[t],r=i[e];n&&r&&(i[t]=r,i[e]=n)},e.prototype.swapChildren=function(t,e){for(var i=this.children,n=i.length,r=void 0,s=void 0,o=0;o<n&&(i[o]===t&&(r=o),i[o]===e&&(s=o),null==r||null==s);o++);o!==n&&(i[r]=e,i[s]=t)},e.prototype.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||e<0||e>=n)){for(var r=0;r<n&&i[r]!==t;r++);r!==n&&r!==e&&(i.splice(r,1),i.splice(e,0,t))}},e.prototype.contains=function(t){for(;t;){if(t===this)return!0;t=t.parent}return!1},e.prototype.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.prototype.getObjectsUnderPoint=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,n,i>0,1===i),n},e.prototype.getObjectUnderPoint=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,null,i>0,1===i)},e.prototype.getBounds=function(){return this._getBounds(null,!0)},e.prototype.getTransformedBounds=function(){return this._getBounds()},e.prototype.clone=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this._cloneProps(new e);return t&&this._cloneChildren(i),i},e.prototype._tick=function(e){if(this.tickChildren)for(var i=this.children.length-1;i>=0;i--){var n=this.children[i];n.tickEnabled&&n._tick&&n._tick(e)}t.prototype._tick.call(this,e)},e.prototype._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,i=this.children.length,n=0;n<i;n++){var r=this.children[n].clone(!0);r.parent=t,e.push(r)}},e.prototype._removeChildAt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t<0||t>this.children.length-1)return!1;var i=this.children[t];return i&&(i.parent=null),this.children.splice(t,1),e||i.dispatchEvent("removed"),!0},e.prototype._getObjectsUnderPoint=function(t,i,n,r,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!o&&!this._testMask(this,t,i))return null;var a=void 0,h=m._hitTestContext;s=s||r&&this._hasMouseEventListener();for(var l=this.children,u=l.length-1;u>=0;u--){var c=l[u],p=c.hitArea;if(c.visible&&(p||c.isVisible())&&(!r||c.mouseEnabled)&&(p||this._testMask(c,t,i)))if(!p&&c instanceof e){var d=c._getObjectsUnderPoint(t,i,n,r,s,o+1);if(!n&&d)return r&&!this.mouseChildren?this:d}else{if(r&&!s&&!c._hasMouseEventListener())continue;var f=c.getConcatenatedDisplayProps(c._props);if(a=f.matrix,p&&(a.appendMatrix(p.getMatrix(p._props.matrix)),f.alpha=p.alpha),h.globalAlpha=f.alpha,h.setTransform(a.a,a.b,a.c,a.d,a.tx-t,a.ty-i),(p||c).draw(h),!this._testHit(h))continue;if(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,2,2),!n)return r&&!this.mouseChildren?this:c;n.push(c)}}return null},e.prototype._testMask=function(t,e,i){var n=t.mask;if(!n||!n.graphics||n.graphics.isEmpty())return!0;var r=this._props.matrix,s=t.parent;r=s?s.getConcatenatedMatrix(r):r.identity(),r=n.getMatrix(n._props.matrix).prependMatrix(r);var o=m._hitTestContext;return o.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-i),n.graphics.drawAsPath(o),o.fillStyle="#000",o.fill(),!!this._testHit(o)&&(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),!0)},e.prototype._getBounds=function(e,i){var n=t.prototype.getBounds.call(this);if(n)return this._transformBounds(n,e,i);var r=this._props.matrix;r=i?r.identity():this.getMatrix(r),e&&r.prependMatrix(e);for(var s=this.children.length,o=null,a=0;a<s;a++){var h=this.children[a];h.visible&&(n=h._getBounds(r))&&(o?o.extend(n.x,n.y,n.width,n.height):o=n.clone())}return o},r(e,[{key:"numChildren",get:function(){return this.children.length}}]),e}(m),x=function(t){function e(i,r,s,a,h,l,u,c,p,d,f){n(this,e);var v=o(this,t.call(this,i,r,s));return v.stageX=a,v.stageY=h,v.rawX=null==p?a:p,v.rawY=null==d?h:d,v.nativeEvent=l,v.pointerID=u,v.primary=!!c,v.relatedTarget=f,v}return s(e,t),e.prototype.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.prototype.toString=function(){return"["+this.constructor.name+" (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},r(e,[{key:"localX",get:function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x}},{key:"localY",get:function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y}},{key:"isTouch",get:function(){return-1!==this.pointerID}}]),e}(h),b=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.autoClear=!0,r.canvas="string"==typeof i?document.getElementById(i):i,r.mouseX=0,r.mouseY=0,r.drawRect=null,r.snapToPixelEnabled=!1,r.mouseInBounds=!1,r.tickOnUpdate=!0,r.mouseMoveOutside=!1,r.preventSelection=!0,r._pointerData={},r._pointerCount=0,r._primaryPointerID=null,r._mouseOverIntervalID=null,r._nextStage=null,r._prevStage=null,r.enableDOMEvents(!0),r}return s(e,t),e.prototype.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){m._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),this.autoClear&&(e?i.clearRect(e.x,e.y,e.width,e.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},e.prototype.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new h("tick");if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);this._tick(e),this.dispatchEvent("tickend")}},e.prototype.handleEvent=function(t){"tick"===t.type&&this.update(t)},e.prototype.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.prototype.toDataURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",i=void 0,n=this.canvas.getContext("2d"),r=this.canvas.width,s=this.canvas.height;if(t){i=n.getImageData(0,0,r,s);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,r,s)}var a=this.canvas.toDataURL(e);return t&&(n.putImageData(i,0,0),n.globalCompositeOperation=o),a},e.prototype.enableMouseOver=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0===e&&this._testMouseOver(!0)),e<=0||(this._mouseOverIntervalID=setInterval(function(){return t._testMouseOver()},1e3/Math.min(50,e)))},e.prototype.enableDOMEvents=function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this._eventListeners;if(!e&&i){for(var n in i){var r=i[n];r.t.removeEventListener(n,r.f,!1)}this._eventListeners=null}else if(e&&!i&&this.canvas){var s=window.addEventListener?window:document;for(var o in i=this._eventListeners={mouseup:{t:s,f:function(e){return t._handleMouseUp(e)}},mousemove:{t:s,f:function(e){return t._handleMouseMove(e)}},dblclick:{t:this.canvas,f:function(e){return t._handleDoubleClick(e)}},mousedown:{t:this.canvas,f:function(e){return t._handleMouseDown(e)}}}){var a=i[o];a.t.addEventListener&&a.t.addEventListener(o,a.f,!1)}}},e.prototype.clone=function(){throw"Stage cannot be cloned."},e.prototype._getElementRect=function(t){var e=void 0;try{e=t.getBoundingClientRect()}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),n=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,s=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),a=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),h=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:e.left+i+s,right:e.right+i-a,top:e.top+n+o,bottom:e.bottom+n-h}},e.prototype._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e.prototype._handleMouseMove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;this._handlePointerMove(-1,t,t.pageX,t.pageY)},e.prototype._handlePointerMove=function(t,e,i,n,r){if((!this._prevStage||void 0!==r)&&this.canvas){var s=this._nextStage,o=this._getPointerData(t),a=o.inBounds;this._updatePointerPosition(t,e,i,n),(a||o.inBounds||this.mouseMoveOutside)&&(-1===t&&o.inBounds===!a&&this._dispatchMouseEvent(this,a?"mouseleave":"mouseenter",!1,t,o,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,o,e),this._dispatchMouseEvent(o.target,"pressmove",!0,t,o,e)),s&&s._handlePointerMove(t,e,i,n,null)}},e.prototype._updatePointerPosition=function(t,e,i,n){var r=this._getElementRect(this.canvas);i-=r.left,n-=r.top;var s=this.canvas.width,o=this.canvas.height;i/=(r.right-r.left)/s,n/=(r.bottom-r.top)/o;var a=this._getPointerData(t);(a.inBounds=i>=0&&n>=0&&i<=s-1&&n<=o-1)?(a.x=i,a.y=n):this.mouseMoveOutside&&(a.x=i<0?0:i>s-1?s-1:i,a.y=n<0?0:n>o-1?o-1:n),a.posEvtObj=e,a.rawX=i,a.rawY=n,t!==this._primaryPointerID&&-1!==t||(this.mouseX=a.x,this.mouseY=a.y,this.mouseInBounds=a.inBounds)},e.prototype._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e.prototype._handlePointerUp=function(t,e,i,n){var r=this._nextStage,s=this._getPointerData(t);if(!this._prevStage||void 0!==n){var o=null,a=s.target;n||!a&&!r||(o=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,s,e,o),s.down=!1),o===a&&this._dispatchMouseEvent(a,"click",!0,t,s,e),this._dispatchMouseEvent(a,"pressup",!0,t,s,e),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):s.target=null,r&&r._handlePointerUp(t,e,i,n||o&&this)}},e.prototype._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e.prototype._handlePointerDown=function(t,e,i,n,r){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=n&&this._updatePointerPosition(t,e,i,n);var s=null,o=this._nextStage,a=this._getPointerData(t);r||(s=a.target=this._getObjectsUnderPoint(a.x,a.y,null,!0)),a.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,a,e,s),a.down=!0),this._dispatchMouseEvent(s,"mousedown",!0,t,a,e),o&&o._handlePointerDown(t,e,i,n,r||s&&this)},e.prototype._testMouseOver=function(t,e,i){if(!this._prevStage||void 0!==e){var n=this._nextStage;if(this._mouseOverIntervalID){var r=this._getPointerData(-1);if(r&&(t||this.mouseX!==this._mouseOverX||this.mouseY!==this._mouseOverY||!this.mouseInBounds)){var s=r.posEvtObj,o=i||s&&s.target===this.canvas,a=null,h=-1,l="";!e&&(t||this.mouseInBounds&&o)&&(a=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);for(var u=this._mouseOverTarget||[],c=u[u.length-1],p=this._mouseOverTarget=[],d=a;d;)p.unshift(d),l||(l=d.cursor),d=d.parent;this.canvas.style.cursor=l,!e&&i&&(i.canvas.style.cursor=l);for(var f=0,v=p.length;f<v&&p[f]==u[f];f++)h=f;c!=a&&this._dispatchMouseEvent(c,"mouseout",!0,-1,r,s,a);for(var g=u.length-1;g>h;g--)this._dispatchMouseEvent(u[g],"rollout",!1,-1,r,s,a);for(var _=p.length-1;_>h;_--)this._dispatchMouseEvent(p[_],"rollover",!1,-1,r,s,c);c!=a&&this._dispatchMouseEvent(a,"mouseover",!0,-1,r,s,c),n&&n._testMouseOver(t,e||a&&this,i||o&&this)}}else n&&n._testMouseOver(t,e,i)}},e.prototype._handleDoubleClick=function(t,e){var i=null,n=this._nextStage,r=this._getPointerData(-1);e||(i=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,r,t)),n&&n._handleDoubleClick(t,e||i&&this)},e.prototype._dispatchMouseEvent=function(t,e,i,n,r,s,o){if(t&&(i||t.hasEventListener(e))){var a=new x(e,i,!1,r.x,r.y,s,n,n===this._primaryPointerID||-1===n,r.rawX,r.rawY,o);t.dispatchEvent(a)}},r(e,[{key:"nextStage",get:function(){return this._nextStage},set:function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t}}]),e}(w),E=function(){function t(e){n(this,t),this.readyState=e.readyState,this._video=e,this._canvas=null,this._lastTime=-1,this.readyState<2&&e.addEventListener("canplaythrough",this._videoReady.bind(this))}return t.prototype.getImage=function(){if(!(this.readyState<2)){var t=this._canvas,e=this._video;if(t||((t=this._canvas=document.createElement("canvas")).width=e.videoWidth,t.height=e.videoHeight),e.readyState>=2&&e.currentTime!==this._lastTime){var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.drawImage(e,0,0,t.width,t.height),this._lastTime=e.currentTime}return t}},t.prototype._videoReady=function(){this.readyState=2},t}(),S=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return"string"==typeof i?(r.image=document.createElement("img"),r.image.src=i):r.image=i,r.sourceRect=null,r._webGLRenderStyle=m._StageGL_BITMAP,r}return s(e,t),e.prototype.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.prototype.draw=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.prototype.draw.call(this,e,i))return!0;var n=this.image,r=this.sourceRect;if(n instanceof E&&(n=n.getImage()),null==n)return!0;if(r){var s=r.x,o=r.y,a=s+r.width,h=o+r.height,l=0,u=0,c=n.width,p=n.height;s<0&&(l-=s,s=0),a>c&&(a=c),o<0&&(u-=o,o=0),h>p&&(h=p),e.drawImage(n,s,o,a-s,h-o,l,u,a-s,h-o)}else e.drawImage(n,0,0);return!0},e.prototype.getBounds=function(){var e=t.prototype.getBounds.call(this);if(e)return e;var i=this.image,n=this.sourceRect||i;return i&&(i.naturalWidth||i.getContext||i.readyState>=2)?this._rectangle.setValues(0,0,n.width,n.height):null},e.prototype.clone=function(t){var i=this.image;null!=i&&null!=t&&(i=i.cloneNode());var n=new e(i);return this.sourceRect&&(n.sourceRect=this.sourceRect.clone()),this._cloneProps(n),n},e}(m),T=function(t){function e(i,r){n(this,e);var s=o(this,t.call(this));return s.currentFrame=0,s.currentAnimation=null,s.paused=!0,s.spriteSheet=i,s.currentAnimationFrame=0,s.framerate=0,s._animation=null,s._currentFrame=null,s._skipAdvance=!1,s._webGLRenderStyle=m._StageGL_SPRITE,null!=r&&s.gotoAndPlay(r),s}return s(e,t),e.prototype.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.prototype.draw=function(e,i){if(t.prototype.draw.call(this,e,i))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var r=n.rect;return r.width&&r.height&&e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height),!0},e.prototype.play=function(){this.paused=!1},e.prototype.stop=function(){this.paused=!0},e.prototype.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.prototype.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.prototype.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,i=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(i)},e.prototype.getBounds=function(){return t.prototype.getBounds.call(this)||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.prototype.clone=function(){return this._cloneProps(new e(this.spriteSheet))},e.prototype._cloneProps=function(e){return t.prototype._cloneProps.call(this,e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},e.prototype._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),t.prototype._tick.call(this,e)},e.prototype._normalizeFrame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._animation,i=this.paused,n=this._currentFrame;if(e){var r=e.speed||1,s=this.currentAnimationFrame,o=e.frames.length;if(s+t*r>=o){var a=e.next;if(this._dispatchAnimationEnd(e,n,i,a,o-1))return;if(a)return this._goto(a,t-(o-s)/r);this.paused=!0,s=e.frames.length-1}else s+=t*r;this.currentAnimationFrame=s,this._currentFrame=e.frames[0|s]}else{n=this._currentFrame+=t;var h=this.spriteSheet.getNumFrames();if(n>=h&&h>0&&!this._dispatchAnimationEnd(e,n,i,h-1)&&(this._currentFrame-=h)>=h)return this._normalizeFrame()}n=0|this._currentFrame,this.currentFrame!=n&&(this.currentFrame=n,this.dispatchEvent("change"))},e.prototype._dispatchAnimationEnd=function(t,e,i,n,r){var s=t?t.name:null;if(this.hasEventListener("animationend")){var o=new h("animationend");o.name=s,o.next=n,this.dispatchEvent(o)}var a=this._animation!=t||this._currentFrame!=e;return a||i||!this.paused||(this.currentAnimationFrame=r,a=!0),a},e.prototype._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var i=this.spriteSheet.getAnimation(t);i&&(this._animation=i,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},e}(m),C=100,M=[],D=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,e);var s=o(this,t.call(this));return s.text=i,s.spriteSheet=r,s.lineHeight=0,s.letterSpacing=0,s.spaceWidth=0,s._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},s._oldStage=null,s._drawAction=null,s}return s(e,t),e.prototype.draw=function(e,i){this.drawCache(e,i)||(this._updateState(),t.prototype.draw.call(this,e,i))},e.prototype.getBounds=function(){return this._updateText(),t.prototype.getBounds.call(this)},e.prototype.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.prototype.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},e.prototype.addChild=function(){},e.prototype.addChildAt=function(){},e.prototype.removeChild=function(){},e.prototype.removeChildAt=function(){},e.prototype.removeAllChildren=function(){},e.prototype._updateState=function(){this._updateText()},e.prototype._cloneProps=function(e){return t.prototype._cloneProps.call(this,e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},e.prototype._getFrameIndex=function(t,e){var i=void 0,n=e.getAnimation(t);return n||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(n=e.getAnimation(i))),n&&n.frames[0]},e.prototype._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return null==i?i:e.getFrame(i)},e.prototype._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e.prototype._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e.prototype._tick=function(e){var i=this.stage;i&&i.on("drawstart",this._updateText,this,!0),t.prototype._tick.call(this,e)},e.prototype._updateText=function(){var t=0,i=0,n=this._oldProps,r=!1,s=this.spaceWidth,o=this.lineHeight,a=this.spriteSheet,h=e._spritePool,l=this.children,u=0,c=l.length,p=void 0;for(var d in n)n[d]!=this[d]&&(n[d]=this[d],r=!0);if(r){var f=!!this._getFrame(" ",a);f||s||(s=this._getSpaceWidth(a)),o||(o=this._getLineHeight(a));for(var v=0,g=this.text.length;v<g;v++){var _=this.text.charAt(v);if(" "!==_||f)if("\n"!==_&&"\r"!==_){var m=this._getFrameIndex(_,a);null!=m&&(u<c?p=l[u]:(l.push(p=h.length?h.pop():new T),p.parent=this,c++),p.spriteSheet=a,p.gotoAndStop(m),p.x=t,p.y=i,u++,t+=p.getBounds().width+this.letterSpacing)}else"\r"===_&&"\n"===this.text.charAt(v+1)&&v++,t=0,i+=o;else t+=s}for(;c>u;)h.push(p=l.pop()),p.parent=null,c--;h.length>e.maxPoolSize&&(h.length=e.maxPoolSize)}},r(e,null,[{key:"maxPoolSize",get:function(){return C},set:function(t){C=t}},{key:"_spritePool",get:function(){return M}}]),e}(w),L=function(t){function e(i){n(this,e);var r=o(this,t.call(this));"string"==typeof i&&(i=document.getElementById(i)),r.mouseEnabled=!1;var s=i.style;return s.position="absolute",s.transformOrigin=s.WebkitTransformOrigin=s.msTransformOrigin=s.MozTransformOrigin=s.OTransformOrigin="0% 0%",r.htmlElement=i,r._oldProps=null,r._oldStage=null,r._drawAction=null,r}return s(e,t),e.prototype.isVisible=function(){return null!=this.htmlElement},e.prototype.draw=function(t,e){return!0},e.prototype.cache=function(){},e.prototype.uncache=function(){},e.prototype.updateCache=function(){},e.prototype.hitTest=function(){},e.prototype.localToGlobal=function(){},e.prototype.globalToLocal=function(){},e.prototype.localToLocal=function(){},e.prototype.clone=function(){throw"DOMElement cannot be cloned."},e.prototype._tick=function(e){var i=this.stage;null!=i&&i!==this._oldStage&&(this._drawAction&&i.off("drawend",this._drawAction),this._drawAction=i.on("drawend",this._handleDrawEnd,this),this._oldStage=i),t.prototype._tick.call(this,e)},e.prototype._handleDrawEnd=function(t){var e=this.htmlElement;if(e){var i=e.style,n=this.getConcatenatedDisplayProps(this._props),r=n.matrix,s=n.visible?"visible":"hidden";if(s!=i.visibility&&(i.visibility=s),n.visible){var o=this._oldProps,a=o&&o.matrix,h=1e4;if(!a||!a.equals(r)){var l="matrix("+(r.a*h|0)/h+","+(r.b*h|0)/h+","+(r.c*h|0)/h+","+(r.d*h|0)/h+","+(r.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=l+","+(r.ty+.5|0)+")",i.MozTransform=l+"px,"+(r.ty+.5|0)+"px)",o||(o=this._oldProps=new f(!0,null)),o.matrix.copy(r)}o.alpha!=n.alpha&&(i.opacity=""+(n.alpha*h|0)/h,o.alpha=n.alpha)}}},e}(m),I=function(){function t(){n(this,t),this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.curveTo=this.quadraticCurveTo,this.drawRect=this.rect,this.mt=this.moveTo,this.lt=this.lineTo,this.at=this.arcTo,this.bt=this.bezierCurveTo,this.qt=this.quadraticCurveTo,this.a=this.arc,this.r=this.rect,this.cp=this.closePath,this.c=this.clear,this.f=this.beginFill,this.lf=this.beginLinearGradientFill,this.rf=this.beginRadialGradientFill,this.bf=this.beginBitmapFill,this.ef=this.endFill,this.ss=this.setStrokeStyle,this.sd=this.setStrokeDash,this.s=this.beginStroke,this.ls=this.beginLinearGradientStroke,this.rs=this.beginRadialGradientStroke,this.bs=this.beginBitmapStroke,this.es=this.endStroke,this.dr=this.drawRect,this.rr=this.drawRoundRect,this.rc=this.drawRoundRectComplex,this.dc=this.drawCircle,this.de=this.drawEllipse,this.dp=this.drawPolyStar,this.p=this.decodePath,this.clear()}return t.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=t>>8&255,t=t>>16&255),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},t.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsl("+t%360+","+e+"%,"+i+"%,"+n+")"},t.prototype.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.prototype.draw=function(t,e){this._updateInstructions();for(var i=this._instructions,n=i.length,r=this._storeIndex;r<n;r++)i[r].exec(t,e)},t.prototype.drawAsPath=function(t){this._updateInstructions();for(var e=void 0,i=this._instructions,n=i.length,r=this._storeIndex;r<n;r++)!1!==(e=i[r]).path&&e.exec(t)},t.prototype.moveTo=function(t,e){return this.append(new P(t,e),!0)},t.prototype.lineTo=function(t,e){return this.append(new A(t,e))},t.prototype.arcTo=function(t,e,i,n,r){return this.append(new k(t,e,i,n,r))},t.prototype.arc=function(t,e,i,n,r,s){return this.append(new O(t,e,i,n,r,s))},t.prototype.quadraticCurveTo=function(t,e,i,n){return this.append(new R(t,e,i,n))},t.prototype.bezierCurveTo=function(t,e,i,n,r,s){return this.append(new F(t,e,i,n,r,s))},t.prototype.rect=function(t,e,i,n){return this.append(new B(t,e,i,n))},t.prototype.closePath=function(){return this._activeInstructions.length?this.append(new X):this},t.prototype.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.prototype.beginFill=function(t){return this._setFill(t?new N(t):null)},t.prototype.beginLinearGradientFill=function(t,e,i,n,r,s){return this._setFill((new N).linearGradient(t,e,i,n,r,s))},t.prototype.beginRadialGradientFill=function(t,e,i,n,r,s,o,a){return this._setFill((new N).radialGradient(t,e,i,n,r,s,o,a))},t.prototype.beginBitmapFill=function(t,e,i){return this._setFill(new N(null,i).bitmap(t,e))},t.prototype.endFill=function(){return this.beginFill()},t.prototype.setStrokeStyle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._updateInstructions(!0),this._strokeStyle=this.command=new U(t,e,i,n,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this},t.prototype.setStrokeDash=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._updateInstructions(!0),this._strokeDash=this.command=new H(t,e),this},t.prototype.beginStroke=function(t){return this._setStroke(t?new Y(t):null)},t.prototype.beginLinearGradientStroke=function(t,e,i,n,r,s){return this._setStroke((new Y).linearGradient(t,e,i,n,r,s))},t.prototype.beginRadialGradientStroke=function(t,e,i,n,r,s,o,a){return this._setStroke((new Y).radialGradient(t,e,i,n,r,s,o,a))},t.prototype.beginBitmapStroke=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"repeat";return this._setStroke((new Y).bitmap(t,e))},t.prototype.endStroke=function(){return this.beginStroke()},t.prototype.drawRoundRect=function(t,e,i,n,r){return this.drawRoundRectComplex(t,e,i,n,r,r,r,r)},t.prototype.drawRoundRectComplex=function(t,e,i,n,r,s,o,a){return this.append(new j(t,e,i,n,r,s,o,a))},t.prototype.drawCircle=function(t,e,i){return this.append(new W(t,e,i))},t.prototype.drawEllipse=function(t,e,i,n){return this.append(new V(t,e,i,n))},t.prototype.drawPolyStar=function(t,e,i,n,r,s){return this.append(new z(t,e,i,n,r,s))},t.prototype.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},t.prototype.decodePath=function(e){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],r=0,s=e.length,o=[],a=0,h=0,l=t.BASE_64;r<s;){var u=l[e.charAt(r)],c=u>>3,p=i[c];if(!p||3&u)throw"bad path data (@"+r+"):c";var d=n[c];c||(a=h=0),o.length=0,r++;for(var f=2+(u>>2&1),v=0;v<d;v++){var g=l[e.charAt(r)],_=g>>5?-1:1;g=(31&g)<<6|l[e.charAt(r+1)],3===f&&(g=g<<6|l[e.charAt(r+2)]),g=_*g/10,v%2?a=g+=a:h=g+=h,o[v]=g,r+=f}p.apply(this,o)}return this},t.prototype.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.prototype.unstore=function(){return this._storeIndex=0,this},t.prototype.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},t.prototype.toString=function(){return"["+this.constructor.name+"]"},t.prototype._updateInstructions=function(e){var i=this._instructions,n=this._activeInstructions,r=this._commitIndex;if(this._dirty&&n.length){i.length=r,i.push(t.beginCmd);var s=n.length,o=i.length;i.length=o+s;for(var a=0;a<s;a++)i[a+o]=n[a];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&i.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&i.push(this._strokeStyle),e&&(this._oldStrokeDash=this._strokeDash,this._oldStrokeStyle=this._strokeStyle),i.push(this._stroke)),this._dirty=!1}e&&(n.length=0,this._commitIndex=i.length)},t.prototype._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},t.prototype._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},r(t,[{key:"instructions",get:function(){return this._updateInstructions(),this._instructions}}]),t}(),A=function(){function t(e,i){n(this,t),this.x=e,this.y=i}return t.prototype.exec=function(t){t.lineTo(this.x,this.y)},t}(),P=function(){function t(e,i){n(this,t),this.x=e,this.y=i}return t.prototype.exec=function(t){t.moveTo(this.x,this.y)},t}(),k=function(){function t(e,i,r,s,o){n(this,t),this.x1=e,this.y1=i,this.x2=r,this.y2=s,this.radius=o}return t.prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},t}(),O=function(){function t(e,i,r,s,o,a){n(this,t),this.x=e,this.y=i,this.radius=r,this.startAngle=s,this.endAngle=o,this.anticlockwise=!!a}return t.prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},t}(),R=function(){function t(e,i,r,s){n(this,t),this.cpx=e,this.cpy=i,this.x=r,this.y=s}return t.prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},t}(),F=function(){function t(e,i,r,s,o,a){n(this,t),this.cp1x=e,this.cp1y=i,this.cp2x=r,this.cp2y=s,this.x=o,this.y=a}return t.prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},t}(),B=function(){function t(e,i,r,s){n(this,t),this.x=e,this.y=i,this.w=r,this.h=s}return t.prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},t}(),X=function(){function t(){n(this,t)}return t.prototype.exec=function(t){t.closePath()},t}(),G=function(){function t(){n(this,t)}return t.prototype.exec=function(t){t.beginPath()},t}(),N=function(){function t(e,i){n(this,t),this.style=e,this.matrix=i,this.path=!1}return t.prototype.exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},t.prototype.linearGradient=function(t,e,i,n,r,s){for(var o=this.style=I._ctx.createLinearGradient(i,n,r,s),a=t.length,h=0;h<a;h++)o.addColorStop(e[h],t[h]);return o.props={colors:t,ratios:e,x0:i,y0:n,x1:r,y1:s,type:"linear"},this},t.prototype.radialGradient=function(t,e,i,n,r,s,o,a){for(var h=this.style=I._ctx.createRadialGradient(i,n,r,s,o,a),l=t.length,u=0;u<l;u++)h.addColorStop(e[u],t[u]);return h.props={colors:t,ratios:e,x0:i,y0:n,r0:r,x1:s,y1:o,r1:a,type:"radial"},this},t.prototype.bitmap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=I._ctx.createPattern(t,e)).props={image:t,repetition:e,type:"bitmap"});return this},t}(),Y=function(){function t(e,i){n(this,t),this.style=e,this.ignoreScale=i,this.path=!1}return t.prototype.exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},t.prototype.linearGradient=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];N.prototype.linearGradient.apply(this,e)},t.prototype.radialGradient=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];N.prototype.radialGradient.apply(this,e)},t.prototype.bitmap=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];N.prototype.bitmap.apply(this,e)},t}(),U=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"butt",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"miter",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n(this,t),this.width=e,this.caps=i,this.joints=r,this.miterLimit=s,this.ignoreScale=o,this.path=!1}return t.prototype.exec=function(t){t.lineWidth=this.width,t.lineCap=isNaN(this.caps)?this.caps:I.STROKE_CAPS_MAP[this.caps],t.lineJoin=isNaN(this.joints)?this.joints:I.STROKE_JOINTS_MAP[this.joints],t.miterLimit=this.miterLimit,t.ignoreScale=this.ignoreScale},t}(),H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.EMPTY_SEGMENTS,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.segments=e,this.offset=i}return t.prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments),t.lineDashOffset=this.offset)},r(t,null,[{key:"EMPTY_SEGMENTS",get:function(){return _EMPTY_SEGMENTS}}]),t}(),j=function(){function t(e,i,r,s,o,a,h,l){n(this,t),this.x=e,this.y=i,this.w=r,this.h=s,this.radiusTL=o,this.radiusTR=a,this.radiusBR=h,this.radiusBL=l}return t.prototype.exec=function(t){var e=(h<l?h:l)/2,i=0,n=0,r=0,s=0,o=this.x,a=this.y,h=this.w,l=this.h,u=this.radiusTL,c=this.radiusTR,p=this.radiusBR,d=this.radiusBL;u<0&&(u*=i=-1),u>e&&(u=e),c<0&&(c*=n=-1),c>e&&(c=e),p<0&&(p*=r=-1),p>e&&(p=e),d<0&&(d*=s=-1),d>e&&(d=e),t.moveTo(o+h-c,a),t.arcTo(o+h+c*n,a-c*n,o+h,a+c,c),t.lineTo(o+h,a+l-p),t.arcTo(o+h+p*r,a+l+p*r,o+h-p,a+l,p),t.lineTo(o+d,a+l),t.arcTo(o-d*s,a+l+d*s,o,a+l-d,d),t.lineTo(o,a+u),t.arcTo(o-u*i,a-u*i,o+u,a,u),t.closePath()},t}(),W=function(){function t(e,i,r){n(this,t),this.x=e,this.y=i,this.radius=r}return t.prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},t}(),V=function(){function t(e,i,r,s){n(this,t),this.x=e,this.y=i,this.w=r,this.h=s}return t.prototype.exec=function(t){var e=this.x,i=this.y,n=this.w,r=this.h,s=.5522848,o=n/2*s,a=r/2*s,h=e+n,l=i+r,u=e+n/2,c=i+r/2;t.moveTo(e,c),t.bezierCurveTo(e,c-a,u-o,i,u,i),t.bezierCurveTo(u+o,i,h,c-a,h,c),t.bezierCurveTo(h,c+a,u+o,l,u,l),t.bezierCurveTo(u-o,l,e,c+a,e,c)},t}(),z=function(){function t(e,i,r,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,t),this.x=e,this.y=i,this.radius=r,this.sides=s,this.pointSize=o,this.angle=a}return t.prototype.exec=function(t){var e=this.x,i=this.y,n=this.radius,r=this.angle/180*Math.PI,s=this.sides,o=1-this.pointSize,a=Math.PI/s;t.moveTo(e+Math.cos(r)*n,i+Math.sin(r)*n);for(var h=0;h<s;h++)r+=a,1!=o&&t.lineTo(e+Math.cos(r)*n*o,i+Math.sin(r)*n*o),r+=a,t.lineTo(e+Math.cos(r)*n,i+Math.sin(r)*n);t.closePath()},t}(),q=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");q.getContext&&(I._ctx=q.getContext("2d"),q.width=q.height=1),I.beginCmd=new G,I.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},I.STROKE_CAPS_MAP=["butt","round","square"],I.STROKE_JOINTS_MAP=["miter","round","bevel"],I.EMPTY_SEGMENTS=[];var J=function(t){function e(r){var s=r.mode,a=void 0===s?e.INDEPENDENT:s,h=r.startPosition,l=void 0===h?0:h,u=r.loop,c=void 0===u?-1:u,p=r.paused,d=void 0!==p&&p,f=r.frameBounds,v=void 0===f?null:f,g=r.labels,_=void 0===g?null:g;n(this,e);var m=o(this,t.call(this));return!e.inited&&e.init(),m.mode=a,m.startPosition=l,m.loop=!0===c?-1:c||0,m.currentFrame=0,m.timeline=new i({useTicks:!0,paused:!0,mode:a,startPosition:l,loop:c,frameBounds:v,labels:_}),m.paused=d,m.actionsEnabled=!0,m.autoReset=!0,m.frameBounds=m.frameBounds||props.frameBounds,m.framerate=null,m._synchOffset=0,m._rawPosition=-1,m._t=0,m._managed={},m._bound_resolveState=m._resolveState.bind(m),m}return s(e,t),e.init=function(){e.inited||(Q.install(),e.inited=!0)},e.prototype.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.prototype.draw=function(e,i){return!!this.drawCache(e,i)||(this._updateState(),t.prototype.draw.call(this,e,i),!0)},e.prototype.play=function(){this.paused=!1},e.prototype.stop=function(){this.paused=!0},e.prototype.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.prototype.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.prototype.advance=function(t){var i=e.INDEPENDENT;if(this.mode===i){for(var n=this,r=n.framerate;(n=n.parent)&&null===r;)n.mode===i&&(r=n._framerate);if(this._framerate=r,!this.paused){var s=null!==r&&-1!==r&&null!==t?t/(1e3/r)+this._t:1,o=0|s;for(this._t=s-o;o--;)this._updateTimeline(this._rawPosition+1,!1)}}},e.prototype.clone=function(){throw"MovieClip cannot be cloned."},e.prototype._updateState=function(){-1!==this._rawPosition&&this.mode===e.INDEPENDENT||this._updateTimeline(-1)},e.prototype._tick=function(e){this.advance(e&&e.delta),t.prototype._tick.call(this,e)},e.prototype._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(this._t=0,this._updateTimeline(e,!0))},e.prototype._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},e.prototype._updateTimeline=function(t,i){var n=this.mode!==e.INDEPENDENT,r=this.timeline;n&&(t=this.startPosition+(this.mode===e.SINGLE_FRAME?0:this._synchOffset)),t<1&&(t=0),(this._rawPosition!==t||n)&&(this._rawPosition=t,r.loop=this.loop,r.setPosition(t,n||!this.actionsEnabled,i,this._bound_resolveState))},e.prototype._renderFirstFrame=function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=e},e.prototype._resolveState=function(){var t=this.timeline;for(var e in this.currentFrame=t.position,this._managed)this._managed[e]=1;var i=t.tweens,n=Array.isArray(i),r=0;for(i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if((r=i.next()).done)break;s=r.value}var o=s,a=o.target;if(a!==this&&!o.passive){var h=o._stepPosition;a instanceof m?this._addManagedChild(a,h):this._setState(a.state,h)}}for(var l=this.children,u=l.length-1;u>=0;u--){var c=l[u].id;1===this._managed[c]&&(this.removeChildAt(u),delete this._managed[c])}},e.prototype._setState=function(t,e){if(t)for(var i=t.length-1;i>=0;i--){var n=t[i],r=n.t,s=n.p;for(var o in s)r[o]=s[o];this._addManagedChild(r,e)}},e.prototype._addManagedChild=function(t,i){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=i,t.mode===e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},e.prototype._getBounds=function(e,i){var n=this.getBounds();return!n&&this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame])),n?this._transformBounds(n,e,i):t.prototype._getBounds.call(this,e,i)},r(e,[{key:"labels",get:function(){return this.timeline.labels}},{key:"currentLabel",get:function(){return this.timeline.getCurrentLabel()}},{key:"duration",get:function(){return this.timeline.duration}},{key:"totalFrames",get:function(){return this.duration}}]),e}(w);J.INDEPENDENT="independent",J.SINGLE_FRAME="single",J.SYNCHED="synched",J.inited=!1;var Q=function(){function t(){throw n(this,t),"MovieClipPlugin cannot be instantiated."}return t.install=function(){e.installPlugin(t)},t.init=function(t,e,i){return i},t.tween=function(t,e,i,n,r,s,o,a){return t.target instanceof J?1===s?r[e]:n[e]:i},t}();Q.priority=100;var K=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"black",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.color=e,this.offsetX=i,this.offsetY=r,this.blur=s}return t.prototype.toString=function(){return"["+this.constructor.name+"]"},t.prototype.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},t}();K.identity=new K("transparent");var Z=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new I;n(this,e);var r=o(this,t.call(this));return r.graphics=i,r}return s(e,t),e.prototype.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.prototype.draw=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!t.prototype.draw.call(this,e,i)||(this.graphics.draw(e,this),!0)},e.prototype.clone=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(t))},e}(m),$=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.complete=!0,r.framerate=0,r._animations=null,r._frames=null,r._images=null,r._data=null,r._loadCount=0,r._frameHeight=0,r._frameWidth=0,r._numFrames=0,r._regX=0,r._regY=0,r._spacing=0,r._margin=0,r._parseData(i),r}return s(e,t),e.prototype.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.prototype.getAnimation=function(t){return this._data[t]},e.prototype.getFrame=function(t){var e=void 0;return this._frames&&(e=this._frames[t])?e:null},e.prototype.getFrameBounds=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v,i=this.getFrame(t);return i?e.setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},e.prototype.toString=function(){return"["+this.constructor.name+"]"},e.prototype.clone=function(){throw"SpriteSheet cannot be cloned."},e.prototype._parseData=function(t){var e=this;if(null!=t){if(this.framerate=t.framerate||0,t.images){var i=function(t){var i=e._images=[],n=void 0;"string"==typeof t&&(n=t,(t=document.createElement("img")).src=n),i.push(t),t.getContext||t.naturalWidth||(e._loadCount++,e.complete=!1,t.onload=function(){return e._handleImageLoad(n)},t.onerror=function(){return e._handleImageError(n)}),a=t},n=t.images,r=Array.isArray(n),s=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(s>=n.length)break;o=n[s++]}else{if((s=n.next()).done)break;o=s.value}var a=o;i(a)}}if(null!=t.frames)if(Array.isArray(t.frames)){this._frames=[];var h=t.frames,l=Array.isArray(h),u=0;for(h=l?h:h[Symbol.iterator]();;){var c;if(l){if(u>=h.length)break;c=h[u++]}else{if((u=h.next()).done)break;c=u.value}var p=c;this._frames.push({image:this._images[p[4]?p[4]:0],rect:new v(p[0],p[1],p[2],p[3]),regX:p[5]||0,regY:p[6]||0})}}else{var d=t.frames;this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._spacing=d.spacing||0,this._margin=d.margin||0,this._numFrames=d.count,0===this._loadCount&&this._calculateFrames()}if(this._animations=[],null!=t.animations){this._data={};var f=t.animations;for(var g in f){var _={name:g},m=f[g],y=void 0;if("number"==typeof m)y=_.frames=[m];else if(Array.isArray(m))if(1===m.length)_.frames=[m[0]];else{_.speed=m[3],_.next=m[2],y=_.frames=[];for(var w=m[0];w<=m[1];w++)y.push(w)}else{_.speed=m.speed,_.next=m.next;var x=m.frames;y=_.frames="number"==typeof x?[x]:x.slice(0)}!0!==_.next&&void 0!==_.next||(_.next=g),(!1===_.next||y.length<2&&_.next===g)&&(_.next=null),_.speed||(_.speed=1),this._animations.push(g),this._data[g]=_}}}},e.prototype._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e.prototype._handleImageError=function(t){var e=new h("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e.prototype._calculateFrames=function(){if(!this._frames&&0!==this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,i=this._frameWidth,n=this._frameHeight,r=this._spacing,s=this._margin;t:for(var o=0,a=this._images,h=a.length;o<h;o++)for(var l=a[o],u=l.width||l.naturalWidth,c=l.height||l.naturalHeight,p=s;p<=c-s-n;){for(var d=s;d<=u-s-i;){if(e>=t)break t;e++,this._frames.push({image:l,rect:new v(d,p,i,n),regX:this._regX,regY:this._regY}),d+=i+r}p+=n+r}this._numFrames=e}},r(e,[{key:"animations",get:function(){return this._animations.slice()}}]),e}(l),tt={start:0,left:0,center:-.5,end:-1,right:-1},et={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},it=function(t){function e(i,r,s){n(this,e);var a=o(this,t.call(this));return a.text=i,a.font=r,a.color=s,a.textAlign="left",a.textBaseline="top",a.maxWidth=null,a.outline=0,a.lineHeight=0,a.lineWidth=null,a}return s(e,t),e.prototype.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.prototype.draw=function(e,i){if(t.prototype.draw.call(this,e,i))return!0;var n=this.color||"#000";return this.outline?(e.strokeStyle=n,e.lineWidth=1*this.outline):e.fillStyle=n,this._drawText(this._prepContext(e)),!0},e.prototype.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.prototype.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.prototype.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.prototype.getBounds=function(){var i=t.prototype.getBounds.call(this);if(i)return i;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,s=r*e.H_OFFSETS[this.textAlign||"left"],o=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,o,r,n.height)},e.prototype.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},e.prototype.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},e.prototype.toString=function(){return"["+this.constructor.name+" (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e.prototype._cloneProps=function(e){return t.prototype._cloneProps.call(this,e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},e.prototype._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.lineJoin="miter",t.miterLimit=2.5,t},e.prototype._drawText=function(t,i,n){var r=!!t;r||((t=e._workingContext).save(),this._prepContext(t));var s=this.lineHeight||this.getMeasuredLineHeight(),o=0,a=0,h=String(this.text).split(/(?:\r\n|\r|\n)/),l=Array.isArray(h),u=0;for(h=l?h:h[Symbol.iterator]();;){var c;if(l){if(u>=h.length)break;c=h[u++]}else{if((u=h.next()).done)break;c=u.value}var p=c,d=null;if(null!=this.lineWidth&&(d=t.measureText(p).width)>this.lineWidth){var f=p.split(/(\s)/);p=f[0],d=t.measureText(p).width;for(var v=f.length,g=1;g<v;g+=2){var _=t.measureText(f[g]+f[g+1]).width;d+_>this.lineWidth?(r&&this._drawTextLine(t,p,a*s),n&&n.push(p),d>o&&(o=d),p=f[g+1],d=t.measureText(p).width,a++):(p+=f[g]+f[g+1],d+=_)}}r&&this._drawTextLine(t,p,a*s),n&&n.push(p),i&&null==d&&(d=t.measureText(p).width),d>o&&(o=d),a++}return i&&(i.width=o,i.height=a*s),r||t.restore(),i},e.prototype._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},e.prototype._getMeasuredWidth=function(t){var i=e._workingContext;i.save();var n=this._prepContext(i).measureText(t).width;return i.restore(),n},r(e,null,[{key:"H_OFFSETS",get:function(){return tt}},{key:"V_OFFSETS",get:function(){return et}}]),e}(m),nt=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");nt.getContext&&(it._workingContext=nt.getContext("2d"),nt.width=nt.height=1);var rt=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.alphaMap=i,r._alphaMap=null,r._mapData=null,r._mapTexture=null,r.FRAG_SHADER_BODY="\n\t\t\tuniform sampler2D uAlphaSampler;\n\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = texture2D(uSampler, vRenderCoord);\n\t\t\t\tvec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\n\n\t\t\t\t// some image formats can have transparent white rgba(1,1,1, 0) when put on the GPU, this means we need a slight tweak\n\t\t\t\t// using ceil ensure that the colour will be used so long as it exists but pure transparency will be treated black\n\t\t\t\tgl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));\n\t\t\t}\n\t\t",r}return s(e,t),e.prototype.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.alphaMap),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e.prototype.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},e.prototype._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,i=this._mapData,n=e.length,r=0;r<n;r+=4)e[r+3]=i[r]||0;return!0},e.prototype._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap===this._alphaMap&&this._mapData)return!0;this._mapData=null;var t=this._alphaMap=this.alphaMap,e=t,i=void 0;t instanceof HTMLCanvasElement?i=e.getContext("2d"):((e=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=t.width,e.height=t.height,(i=e.getContext("2d")).drawImage(t,0,0));try{return this._mapData=i.getImageData(0,0,t.width,t.height).data,!0}catch(t){return!1}},e}(g),st=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.mask=i,r.usesContext=!0,r.FRAG_SHADER_BODY="\n\t\t\tuniform sampler2D uAlphaSampler;\n\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = texture2D(uSampler, vRenderCoord);\n\t\t\t\tvec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);\n\n\t\t\t\tgl_FragColor = vec4(color.rgb, color.a * alphaMap.a);\n\t\t\t}\n\t\t",r}return s(e,t),e.prototype.applyFilter=function(t,e,i,n,r,s,o,a){return!this.mask||(s=s||t,null==o&&(o=e),null==a&&(a=i),s.save(),t==s&&(s.globalCompositeOperation="destination-in",s.drawImage(this.mask,o,a),s.restore(),!0))},e.prototype.clone=function(){return new e(this.mask)},e.prototype.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.mask),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e}(g),ot=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],at=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],ht=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n(this,e);var a=o(this,t.call(this));return a._blurX=i,a._blurXTable=[],a._lastBlurX=null,a._blurY=r,a._blurYTable=[],a._lastBlurY=null,a._quality=isNaN(s)||s<1?1:s,a._lastQuality=null,a.quality=0|a._quality,a.FRAG_SHADER_TEMPLATE="\n\t\t\tuniform float xWeight[{{blurX}}];\n\t\t\tuniform float yWeight[{{blurY}}];\n\t\t\tuniform vec2 textureOffset;\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = vec4(0.0);\n\n\t\t\t\tfloat xAdj = ({{blurX}}.0-1.0)/2.0;\n\t\t\t\tfloat yAdj = ({{blurY}}.0-1.0)/2.0;\n\t\t\t\tvec2 sampleOffset;\n\n\t\t\t\tfor(int i=0; i<{{blurX}}; i++) {\n\t\t\t\t\tfor(int j=0; j<{{blurY}}; j++) {\n\t\t\t\t\t\tsampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\n\t\t\t\t\t\tcolor += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = color.rgba;\n\t\t\t}\n\t\t",a}return s(e,t),e.prototype.shaderParamSetup=function(t,e,i){t.uniform1fv(t.getUniformLocation(i,"xWeight"),this._blurXTable),t.uniform1fv(t.getUniformLocation(i,"yWeight"),this._blurYTable),t.uniform2f(t.getUniformLocation(i,"textureOffset"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))},e.prototype.getBounds=function(t){var e=0|this.blurX,i=0|this.blurY;if(e<=0&&i<=0)return t;var n=Math.pow(this.quality,.2);return(t||new v).pad(i*n+1,e*n+1,i*n+1,e*n+1)},e.prototype.clone=function(){return new e(this.blurX,this.blurY,this.quality)},e.prototype._updateShader=function(){var t=this.FRAG_SHADER_TEMPLATE;t=(t=t.replace(/{{blurX}}/g,this._blurXTable.length.toFixed(0))).replace(/{{blurY}}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=t},e.prototype._getTable=function(t){if(t<=1)return[1];for(var e=[],i=Math.ceil(2*t),n=(i+=i%2?0:1)/2|0,r=-n;r<=n;r++){var s=r/n*4.2;e.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(s,2)/4))}var o=e.reduce(function(t,e){return t+e},0);return e.map(function(t){return t/o})},e.prototype._applyFilter=function(t){var i=this._blurX>>1;if(isNaN(i)||i<0)return!1;var n=this._blurY>>1;if(isNaN(n)||n<0)return!1;if(0===i&&0===n)return!1;var r=this.quality;(isNaN(r)||r<1)&&(r=1),(r|=0)>3&&(r=3),r<1&&(r=1);var s=t.data,o=0,a=0,h=0,l=0,u=0,c=0,p=0,d=0,f=0,v=0,g=0,_=0,m=0,y=0,w=0,x=i+i+1|0,b=n+n+1|0,E=0|t.width,S=0|t.height,T=E-1|0,C=S-1|0,M=i+1|0,D=n+1|0,L={r:0,b:0,g:0,a:0},I=L;for(h=1;h<x;h++)I=I.n={r:0,b:0,g:0,a:0};I.n=L;var A={r:0,b:0,g:0,a:0},P=A;for(h=1;h<b;h++)P=P.n={r:0,b:0,g:0,a:0};P.n=A;for(var k=null,O=0|e.MUL_TABLE[i],R=0|e.SHG_TABLE[i],F=0|e.MUL_TABLE[n],B=0|e.SHG_TABLE[n];r-- >0;){p=c=0;var X=O,G=R;for(a=S;--a>-1;){for(d=M*(_=s[0|c]),f=M*(m=s[c+1|0]),v=M*(y=s[c+2|0]),g=M*(w=s[c+3|0]),I=L,h=M;--h>-1;)I.r=_,I.g=m,I.b=y,I.a=w,I=I.n;for(h=1;h<M;h++)l=c+((T<h?T:h)<<2)|0,d+=I.r=s[l],f+=I.g=s[l+1],v+=I.b=s[l+2],g+=I.a=s[l+3],I=I.n;for(k=L,o=0;o<E;o++)s[c++]=d*X>>>G,s[c++]=f*X>>>G,s[c++]=v*X>>>G,s[c++]=g*X>>>G,l=p+((l=o+i+1)<T?l:T)<<2,d-=k.r-(k.r=s[l]),f-=k.g-(k.g=s[l+1]),v-=k.b-(k.b=s[l+2]),g-=k.a-(k.a=s[l+3]),k=k.n;p+=E}for(X=F,G=B,o=0;o<E;o++){for(d=D*(_=s[c=o<<2|0])|0,f=D*(m=s[c+1|0])|0,v=D*(y=s[c+2|0])|0,g=D*(w=s[c+3|0])|0,P=A,h=0;h<D;h++)P.r=_,P.g=m,P.b=y,P.a=w,P=P.n;for(u=E,h=1;h<=n;h++)c=u+o<<2,d+=P.r=s[c],f+=P.g=s[c+1],v+=P.b=s[c+2],g+=P.a=s[c+3],P=P.n,h<C&&(u+=E);if(c=o,k=A,r>0)for(a=0;a<S;a++)s[(l=c<<2)+3]=w=g*X>>>G,w>0?(s[l]=d*X>>>G,s[l+1]=f*X>>>G,s[l+2]=v*X>>>G):s[l]=s[l+1]=s[l+2]=0,l=o+((l=a+D)<C?l:C)*E<<2,d-=k.r-(k.r=s[l]),f-=k.g-(k.g=s[l+1]),v-=k.b-(k.b=s[l+2]),g-=k.a-(k.a=s[l+3]),k=k.n,c+=E;else for(a=0;a<S;a++)s[(l=c<<2)+3]=w=g*X>>>G,w>0?(w=255/w,s[l]=(d*X>>>G)*w,s[l+1]=(f*X>>>G)*w,s[l+2]=(v*X>>>G)*w):s[l]=s[l+1]=s[l+2]=0,l=o+((l=a+D)<C?l:C)*E<<2,d-=k.r-(k.r=s[l]),f-=k.g-(k.g=s[l+1]),v-=k.b-(k.b=s[l+2]),g-=k.a-(k.a=s[l+3]),k=k.n,c+=E}}return!0},r(e,[{key:"blurX",get:function(){return this._blurX},set:function(t){(isNaN(t)||t<0)&&(t=0),this._blurX=t}},{key:"blurY",get:function(){return this._blurY},set:function(t){(isNaN(t)||t<0)&&(t=0),this._blurY=t}},{key:"quality",get:function(){return this._quality},set:function(t){(isNaN(t)||t<0)&&(t=0),this._quality=0|t}},{key:"_buildShader",get:function(){var t=this._lastBlurX!==this._blurX,e=this._lastBlurY!==this._blurY,i=this._lastQuality!==this._quality;return t||e||i?((t||i)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(e||i)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader}},{key:"_builtShader",set:function(t){this._compiledShader}}],[{key:"MUL_TABLE",get:function(){return ot}},{key:"SHG_TABLE",get:function(){return at}}]),e}(g),lt=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;n(this,e);var p=o(this,t.call(this));return p.redMultiplier=i,p.greenMultiplier=r,p.blueMultiplier=s,p.alphaMultiplier=a,p.redOffset=h,p.greenOffset=l,p.blueOffset=u,p.alphaOffset=c,p.FRAG_SHADER_BODY="\n\t\t\tuniform vec4 uColorMultiplier;\n\t\t\tuniform vec4 uColorOffset;\n\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = texture2D(uSampler, vRenderCoord);\n\n\t\t\t\tgl_FragColor = (color * uColorMultiplier) + uColorOffset;\n\t\t\t}\n\t\t",p}return s(e,t),e.prototype.shaderParamSetup=function(t,e,i){t.uniform4f(t.getUniformLocation(i,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),t.uniform4f(t.getUniformLocation(i,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},e.prototype.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e.prototype._applyFilter=function(t){for(var e=t.data,i=e.length,n=0;n<i;n+=4)e[n]=e[n]*this.redMultiplier+this.redOffset,e[n+1]=e[n+1]*this.greenMultiplier+this.greenOffset,e[n+2]=e[n+2]*this.blueMultiplier+this.blueOffset,e[n+3]=e[n+3]*this.alphaMultiplier+this.alphaOffset;return!0},e}(g),ut=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],ct=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],pt=function(){function t(e,i,r,s){n(this,t),this.setColor(e,i,r,s)}return t.prototype.setColor=function(t,e,i,n){return this.reset().adjustColor(t,e,i,n)},t.prototype.reset=function(){return this.copy(t.IDENTITY_MATRIX)},t.prototype.adjustColor=function(t,e,i,n){return this.adjustHue(n),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},t.prototype.adjustBrightness=function(t){return 0===t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},t.prototype.adjustContrast=function(e){if(0===e||isNaN(e))return this;var i=void 0;return i=(e=this._cleanValue(e,100))<0?127+e/100*127:127*(i=0===(i=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-i)+t.DELTA_INDEX[1+(e<<0)]*i)+127,this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this},t.prototype.adjustSaturation=function(t){if(0===t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100);return this._multiplyMatrix([.3086*(1-e)+e,.6094*(1-e),.082*(1-e),0,0,.3086*(1-e),.6094*(1-e)+e,.082*(1-e),0,0,.3086*(1-e),.6094*(1-e),.082*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.prototype.adjustHue=function(t){if(0===t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t);return this._multiplyMatrix([.213+.787*e+-.213*i,.715+-.715*e+-.715*i,.072+-.072*e+.928*i,0,0,.213+-.213*e+.143*i,.715+e*(1-.715)+.14*i,.072+-.072*e+-.283*i,0,0,.213+-.213*e+-.787*i,.715+-.715*e+.715*i,.072+.928*e+.072*i,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.prototype.concat=function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.toArray=function(){for(var e=[],i=t.LENGTH,n=0;n<i;n++)e[n]=this[n];return e},t.prototype.copy=function(e){for(var i=t.LENGTH,n=0;n<i;n++)this[n]=e[n];return this},t.prototype.toString=function(){return"["+this.constructor.name+"]"},t.prototype._multiplyMatrix=function(t){for(var e=[],i=0;i<5;i++){for(var n=0;n<5;n++)e[n]=this[n+5*i];for(var r=0;r<5;r++){for(var s=0,o=0;o<5;o++)s+=t[r+5*o]*e[o];this[r+5*i]=s}}},t.prototype._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},t.prototype._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},r(t,null,[{key:"DELTA_INDEX",get:function(){return ut}},{key:"IDENTITY_MATRIX",get:function(){return ct}},{key:"LENGTH",get:function(){return 25}}]),t}(),dt=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r.matrix=i,r.FRAG_SHADER_BODY="\n\t\t\tuniform mat4 uColorMatrix;\n\t\t\tuniform vec4 uColorMatrixOffset;\n\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = texture2D(uSampler, vRenderCoord);\n\n\t\t\t\tmat4 m = uColorMatrix;\n\t\t\t\tvec4 newColor = vec4(0,0,0,0);\n\t\t\t\tnewColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];\n\t\t\t\tnewColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];\n\t\t\t\tnewColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];\n\t\t\t\tnewColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];\n\n\t\t\t\tgl_FragColor = newColor + uColorMatrixOffset;\n\t\t\t}\n\t\t",r}return s(e,t),e.prototype.shaderParamSetup=function(t,e,i){var n=this.matrix,r=new Float32Array([n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]);t.uniformMatrix4fv(t.getUniformLocation(i,"uColorMatrix"),!1,r),t.uniform4f(t.getUniformLocation(i,"uColorMatrixOffset"),n[4]/255,n[9]/255,n[14]/255,n[19]/255)},e.prototype.clone=function(){return new e(this.matrix)},e.prototype._applyFilter=function(t){for(var e=t.data,i=e.length,n=void 0,r=void 0,s=void 0,o=void 0,a=this.matrix,h=a[0],l=a[1],u=a[2],c=a[3],p=a[4],d=a[5],f=a[6],v=a[7],g=a[8],_=a[9],m=a[10],y=a[11],w=a[12],x=a[13],b=a[14],E=a[15],S=a[16],T=a[17],C=a[18],M=a[19],D=0;D<i;D+=4)n=e[D],r=e[D+1],s=e[D+2],o=e[D+3],e[D]=n*h+r*l+s*u+o*c+p,e[D+1]=n*d+r*f+s*v+o*g+_,e[D+2]=n*m+r*y+s*w+o*x+b,e[D+3]=n*E+r*S+s*T+o*C+M;return!0},e}(g),ft=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"out",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"over",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"down",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments[5],h=arguments[6];n(this,t),e.addEventListener&&(this.target=e,this.overLabel=r,this.outLabel=i,this.downLabel=null==s,this.play=o,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),a&&(h&&(a.actionsEnabled=!1,a.gotoAndStop&&a.gotoAndStop(h)),e.hitArea=a))}return t.prototype.toString=function(){return"["+this.constructor.name+"]"},t.prototype.handleEvent=function(t){var e=void 0,i=this.target,n=t.type;"mousedown"===n?(this._isPressed=!0,e=this.downLabel):"pressup"===n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"===n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(e):i.gotoAndStop&&i.gotoAndStop(e)},t.prototype._reset=function(){var t=this.paused;this.__reset(),this.paused=t},r(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){if(t!==this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}}}]),t}(),vt=function(){function t(){throw n(this,t),"Touch cannot be instantiated"}return t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(e&&e.canvas&&t.isSupported())&&(!!e.__touch||(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0))},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){return t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var i=t.__touch.f;e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchmove",i,!1),e.removeEventListener("touchend",i,!1),e.removeEventListener("touchcancel",i,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.changedTouches,n=e.type,r=(i.length,i),s=Array.isArray(r),o=0;for(r=s?r:r[Symbol.iterator]();;){var a;if(s){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var h=a,l=h.identifier;h.target==t.canvas&&("touchstart"===n?this._handleStart(t,l,e,h.pageX,h.pageY):"touchmove"===n?this._handleMove(t,l,e,h.pageX,h.pageY):"touchend"!==n&&"touchcancel"!==n||this._handleEnd(t,l,e))}}},t._IE_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){return t._IE_handleEvent(e,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",n,!1),window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",n,!1),window.addEventListener("pointercancel",n,!1),e.__touch.preventDefault&&(i.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,n=e.pointerId,r=t.__touch.activeIDs;if("MSPointerDown"===i||"pointerdown"===i){if(e.srcElement!=t.canvas)return;r[n]=!0,this._handleStart(t,n,e,e.pageX,e.pageY)}else r[n]&&("MSPointerMove"===i||"pointermove"===i?this._handleMove(t,n,e,e.pageX,e.pageY):"MSPointerUp"!==i&&"MSPointerCancel"!==i&&"pointerup"!==i&&"pointercancel"!==i||(delete r[n],this._handleEnd(t,n,e)))}},t._handleStart=function(t,e,i,n,r){var s=t.__touch;if(s.multitouch||!s.count){var o=s.pointers;o[e]||(o[e]=!0,s.count++,t._handlePointerDown(e,i,n,r))}},t._handleMove=function(t,e,i,n,r){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,r)},t._handleEnd=function(t,e,i){var n=t.__touch,r=n.pointers;r[e]&&(n.count--,t._handlePointerUp(e,i,!0),delete r[e])},t}(),gt=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n(this,e);var r=o(this,t.call(this));return r.maxWidth=2048,r.maxHeight=2048,r.spriteSheet=null,r.scale=1,r.padding=1,r.timeSlice=.3,r.progress=-1,r.framerate=i,r._frames=[],r._animations={},r._data=null,r._nextFrameIndex=0,r._index=0,r._timerID=null,r._scale=1,r}return s(e,t),e.prototype.addFrame=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],s=arguments[4];if(this._data)throw e.ERR_RUNNING;var o=i||t.bounds||t.nominalBounds||t.getBounds&&t.getBounds();return o?this._frames.push({source:t,sourceRect:o,scale:n,funct:r,data:s,index:this._frames.length,height:o.height*n})-1:null},e.prototype.addAnimation=function(t,i,n,r){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:i,next:n,speed:r}},e.prototype.addMovieClip=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],s=arguments[4],o=arguments[5];if(this._data)throw e.ERR_RUNNING;var a=t.frameBounds,h=i||t.bounds||t.nominalBounds||t.getBounds&&t.getBounds();if(h||a){for(var l=this._frames.length,u=t.timeline.duration,c=0;c<u;c++){var p=a&&a[c]?a[c]:h;this.addFrame(t,p,n,this._setupMovieClipFrame,{i:c,f:r,d:s})}var d=t.timeline._labels,f=[];for(var v in d)f.push({index:d[v],label:v});if(f.length){f.sort(function(t,e){return t.index-e.index});for(var g=0,_=f.length;g<_;g++){for(var m=f[g].label,y=l+f[g].index,w=l+(g===_-1?u:f[g+1].index),x=[],b=y;b<w;b++)x.push(b);o&&!(m=o(m,t,y,w))||this.addAnimation(m,x,!0)}}}},e.prototype.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.prototype.buildAsync=function(t){var i=this;if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild(),this._timerID=setTimeout(function(){return i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.prototype.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.prototype.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.prototype.toString=function(){return"["+this.constructor.name+"]"},e.prototype._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,framerate:this.framerate,animations:this._animations};var n=this._frames.slice();if(n.sort(function(t,e){return t.height<=e.height?-1:1}),n[n.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var r=0,s=0,o=0;n.length;){var a=this._fillRow(n,r,o,i,t);if(a.w>s&&(s=a.w),r+=a.h,!a.h||!n.length){var h=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(s,this.maxWidth),h.height=this._getSize(r,this.maxHeight),this._data.images[o]=h,a.h||(s=r=0,o++)}}},e.prototype._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=i,e.f&&e.f(t,e.d,e.i)},e.prototype._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},e.prototype._fillRow=function(t,i,n,r,s){for(var o=this.maxWidth,a=this.maxHeight-(i+=s),h=s,l=0,u=t.length-1;u>=0;u--){var c=t[u],p=this._scale*c.scale,d=c.sourceRect,f=c.source,g=Math.floor(p*d.x-s),_=Math.floor(p*d.y-s),m=Math.ceil(p*d.height+2*s),y=Math.ceil(p*d.width+2*s);if(y>o)throw e.ERR_DIMENSIONS;m>a||h+y>o||(c.img=n,c.rect=new v(h,i,y,m),l=l||m,t.splice(u,1),r[c.index]=[h,i,y,m,n,Math.round(-g+p*f.regX-s),Math.round(-_+p*f.regY-s)],h+=y)}return{w:h,h:l}},e.prototype._endBuild=function(){this.spriteSheet=new $(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e.prototype._run=function(){for(var t=this,e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),i=(new Date).getTime()+e,n=!1;i>(new Date).getTime();)if(!this._drawNext()){n=!0;break}n?this._endBuild():this._timerID=setTimeout(function(){return t._run()},50-e);var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var s=new h("progress");s.progress=r,this.dispatchEvent(s)}},e.prototype._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,r=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),++this._index<this._frames.length},r(e,null,[{key:"ERR_DIMENSIONS",get:function(){return"frame dimensions exceed max spritesheet dimensions"}},{key:"ERR_RUNNING",get:function(){return"a build is already running"}}]),e}(l),_t=function(){function t(){throw n(this,t),"SpriteSheetUtils cannot be instantiated"}return t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var r=n.rect,s=t._workingCanvas;s.width=r.width,s.height=r.height,t._workingContext.drawImage(n.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var o=document.createElement("img");return o.src=s.toDataURL("image/png"),o},t.mergeAlpha=function(t,e,i){i||(i=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(e.width,t.width),i.height=Math.max(e.height,t.height);var n=i.getContext("2d");return n.save(),n.drawImage(t,0,0),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),n.restore(),i},t._flip=function(e,i,n,r){for(var s=e._images,o=t._workingCanvas,a=t._workingContext,h=s.length/i,l=0;l<h;l++){var u=s[l];u.__tmp=l,a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,o.width+1,o.height+1),o.width=u.width,o.height=u.height,a.setTransform(n?-1:1,0,0,r?-1:1,n?u.width:0,r?u.height:0),a.drawImage(u,0,0);var c=document.createElement("img");c.src=o.toDataURL("image/png"),c.width=u.width||u.naturalWidth,c.height=u.height||u.naturalHeight,s.push(c)}for(var p=e._frames,d=p.length/i,f=0;f<d;f++){var v=p[f],g=v.rect.clone(),_=s[v.image.__tmp+h*i],m={image:_,rect:g,regX:v.regX,regY:v.regY};n&&(g.x=(_.width||_.naturalWidth)-g.x-g.width,m.regX=g.width-v.regX),r&&(g.y=(_.height||_.naturalHeight)-g.y-g.height,m.regY=g.height-v.regY),p.push(m)}for(var y="_"+(n?"h":"")+(r?"v":""),w=e._animations,x=e._data,b=w.length/i,E=0;E<b;E++){var S=w[E],T=x[S],C={name:S+y,speed:T.speed,next:T.next,frames:[]};T.next&&(C.next+=y);for(var M=T.frames,D=0,L=M.length;D<L;D++)C.frames.push(M[D]+d*i);x[C.name]=C,w.push(C.name)}},t}(),mt=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");mt.getContext&&(_t._workingCanvas=mt,_t._workingContext=mt.getContext("2d"),mt.width=mt.height=1);var yt=null,wt=function(t){function e(i){n(this,e);var r=o(this,t.call(this));return r._stage=i,r}return s(e,t),e.dispProps=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="\tP: "+t.x.toFixed(2)+"x"+t.y.toFixed(2)+"\t",r="\tR: "+t.regX.toFixed(2)+"x"+t.regY.toFixed(2)+"\t";e._log(i,t.toString()+"\t",n,r)},e._log=function(){var t,i;e.alternateOutput?(t=e.alternateOutput).log.apply(t,arguments):(i=console).log.apply(i,arguments)},e.prototype.log=function(t){t||(t=this._stage),e._log("Batches Per Draw: "+(t._batchID/t._drawID).toFixed(4)),this.logContextInfo(t._webGLContext),this.logDepth(t.children,""),this.logTextureFill(t)},e.prototype.toggleGPUDraw=function(t,i){t||(t=this._stage),void 0===i&&(i=!!t._drawBuffers_),i&&t._drawBuffers_?(t._drawBuffers=t._drawBuffers_,t._drawBuffers_=void 0):(t._drawBuffers_=t._drawBuffers,t._drawBuffers=function(t){this.vocalDebug&&e._log("BlankDraw["+this._drawID+":"+this._batchID+"] : "+this.batchReason)})},e.prototype.logDepth=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._log;t||(t=this._stage.children);for(var r=t.length,s=0;s<r;s++){var o=t[s];n(i+"-",o),o.children&&o.children.length&&this.logDepth(o.children,"|"+i,n)}},e.prototype.logContextInfo=function(t){t||(t=this._stage._webGLContext);var i="\n\t\t\t== LOG:\n\n\t\t\tMax textures per draw: "+t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)+"\n\n\t\t\tMax textures active: "+t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)+"\n\n\t\t\t\n\n\t\t\tMax texture size: "+t.getParameter(t.MAX_TEXTURE_SIZE)/2+"\n\n\t\t\tMax cache size: "+t.getParameter(t.MAX_RENDERBUFFER_SIZE)/2+"\n\n\t\t\t\n\n\t\t\tMax attributes per vertex: "+t.getParameter(t.MAX_VERTEX_ATTRIBS)+"\n\n\t\t\tWebGL Version string: "+t.getParameter(t.VERSION)+"\n\n\t\t\t======\n\t\t";e._log(i)},e.prototype.logTextureFill=function(t){t||(t=this._stage);var i=t._textureDictionary,n=t._batchTextureCount;e._log(textureMax+": "+n);var r=[];for(var s in i){s.replace(window.location.origin,"");var o=i[s],a=!!o._lastActiveIndex&&o._lastActiveIndex===o._activeIndex;r.push({src:src,element:o,shifted:a}),o._lastActiveIndex=o._activeIndex}r.sort(function(e,i){return e.element._drawID===t._drawID?1:e.element._drawID<i.element._drawID?-1:0});for(var h=r.length,l=0;l<h;l++){var u=r[l],c=u.element._drawID===t._drawID;e._log("["+u.src+"] "+(c?"ACTIVE":"stale")+" "+(u.shifted?"steady":"DRIFT"),u.element)}},r(e,null,[{key:"alternateOutput",get:function(){return yt},set:function(t){yt=t}}]),e}(l);t.StageGL=a,t.Stage=b,t.Container=w,t.DisplayObject=m,t.Bitmap=S,t.BitmapText=D,t.DOMElement=L,t.Graphics=I,t.Arc=O,t.ArcTo=k,t.BeginPath=G,t.BezierCurveTo=F,t.Circle=W,t.ClosePath=X,t.Ellipse=V,t.Fill=N,t.LineTo=A,t.MoveTo=P,t.PolyStar=z,t.QuadraticCurveTo=R,t.Rect=B,t.RoundRect=j,t.Stroke=Y,t.StrokeDash=H,t.StrokeStyle=U,t.MovieClip=J,t.Shadow=K,t.Shape=Z,t.Sprite=T,t.SpriteSheet=$,t.Text=it,t.MouseEvent=x,t.AlphaMapFilter=rt,t.AlphaMaskFilter=st,t.BitmapCache=_,t.BlurFilter=ht,t.ColorFilter=lt,t.ColorMatrix=pt,t.ColorMatrixFilter=dt,t.Filter=g,t.DisplayProps=f,t.Matrix2D=d,t.Point=p,t.Rectangle=v,t.ButtonHelper=ft,t.Touch=vt,t.SpriteSheetBuilder=gt,t.SpriteSheetUtils=_t,t.UID=c,t.WebGLInspector=wt,(t.versions=t.versions||{}).easeljs="2.0.0"}(this.createjs=this.createjs||{},this.createjs&&this.createjs.Tween,this.createjs&&this.createjs.Timeline);

/***/ }),

/***/ "./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/assets/scss/app.scss":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/assets/scss/app.scss ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "body {\n  margin: 0; }\n", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(/*! ./assets/scss/app.scss */ "./src/assets/scss/app.scss");

var _easeljs = __webpack_require__(/*! @createjs/easeljs */ "./node_modules/@createjs/easeljs/dist/easeljs.min.js");

var _game = __webpack_require__(/*! ./game/game */ "./src/game/game.js");

var _game2 = _interopRequireDefault(_game);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

// import './react-app';

(function () {
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
  }
})();

// Draw a square on screen.

var stage = new _easeljs.createjs.Stage('game');
var BUBBLE_SIZE = 50;
var POSSIBLE_COLORS = ['#44D7A8', // Green
'#DA2647', // Red
'#FFFF66', // Yellow
'#4F86F7'];
var BG_COLOR = '#000000';
var BUBBLE_OUTLINE_WIDTH = 8;
var game = void 0;

var winGame = function winGame() {
  alert('You win with ' + game.score + ' points!');
  newGame();
};

var repaint = function repaint() {
  // clear stage
  stage.removeAllChildren();
  // background
  var bg = new _easeljs.createjs.Shape();
  bg.graphics.beginFill(BG_COLOR).drawRect(0, 0, stage.canvas.width, stage.canvas.height);
  stage.addChild(bg);
  // bubbles
  var BUBBLE_RADIUS = BUBBLE_SIZE / 2 * 0.75;
  var BUBBLE_MARGIN = BUBBLE_SIZE - BUBBLE_RADIUS * 2 - BUBBLE_OUTLINE_WIDTH / 2;

  var _loop = function _loop(y) {
    var _loop2 = function _loop2(x) {
      if (!game.grid[y][x]) return 'continue';
      var hitbox = new _easeljs.createjs.Shape();
      hitbox.graphics.beginFill(BG_COLOR).drawRect(x * BUBBLE_SIZE, y * BUBBLE_SIZE, BUBBLE_SIZE, BUBBLE_SIZE);
      hitbox.addEventListener('click', function (event) {
        game.clickOn(x, y);
        repaint();
      });
      stage.addChild(hitbox);
      // the bubble itself
      var bubble = new _easeljs.createjs.Shape();
      bubble.graphics.beginFill(game.grid[y][x].selected ? POSSIBLE_COLORS[game.grid[y][x].color] : BG_COLOR).drawCircle(BUBBLE_RADIUS + BUBBLE_MARGIN + x * BUBBLE_SIZE, BUBBLE_RADIUS + BUBBLE_MARGIN + y * BUBBLE_SIZE, BUBBLE_RADIUS);
      bubble.graphics.setStrokeStyle(BUBBLE_OUTLINE_WIDTH, 'round').beginStroke(POSSIBLE_COLORS[game.grid[y][x].color]).drawCircle(BUBBLE_RADIUS + BUBBLE_MARGIN + x * BUBBLE_SIZE, BUBBLE_RADIUS + BUBBLE_MARGIN + y * BUBBLE_SIZE, BUBBLE_RADIUS);
      stage.addChild(bubble);
    };

    for (var x = 0; x < game.dimx; x++) {
      var _ret2 = _loop2(x);

      if (_ret2 === 'continue') continue;
    }
  };

  for (var y = 0; y < game.dimy; y++) {
    _loop(y);
  }
  // display score
  var text = new _easeljs.createjs.Text(game.score.toString(), '20px Helvetica', 'white');
  var textBounds = text.getBounds();
  text.x = stage.canvas.width - textBounds.width;
  text.y = 0;
  stage.addChild(text);
  // render
  stage.update();
};
var resize = function resize() {
  stage.canvas.width = window.innerWidth;
  stage.canvas.height = window.innerHeight;
  if (game) {
    repaint();
  }
};
window.addEventListener('resize', resize, false);
window.addEventListener('load', function (event) {
  resize();
  newGame();
});

var newGame = function newGame() {
  var cols = Math.floor(stage.canvas.width / BUBBLE_SIZE);
  var rows = Math.floor(stage.canvas.height / BUBBLE_SIZE);
  game = new _game2.default(winGame, cols, rows);
  repaint();
};

/***/ }),

/***/ "./src/assets/scss/app.scss":
/*!**********************************!*\
  !*** ./src/assets/scss/app.scss ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader!../../../node_modules/sass-loader/lib/loader.js!./app.scss */ "./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/assets/scss/app.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./src/game/game.js":
/*!**************************!*\
  !*** ./src/game/game.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var NUM_COLORS = 4;

var Piece = function () {
  function Piece(color) {
    _classCallCheck(this, Piece);

    this.color = color || this._getRandomColorCode();
    this.selected = false;
    this.visited = false;
  }

  _createClass(Piece, [{
    key: '_getRandomColorCode',
    value: function _getRandomColorCode() {
      return Math.floor(Math.random() * NUM_COLORS);
    }
  }]);

  return Piece;
}();

var Game = function () {
  function Game() {
    var winCallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var colsTotal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
    var rowsTotal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

    _classCallCheck(this, Game);

    this.winCallback = winCallback || function () {};
    this.score = 0;
    this.dimx = colsTotal;
    this.dimy = rowsTotal;
    this.grid = [];
    for (var row = 0; row < rowsTotal; row++) {
      var grid_row = [];
      for (var col = 0; col < colsTotal; col++) {
        grid_row.push(new Piece());
      }
      this.grid.push(grid_row);
    }
  }

  _createClass(Game, [{
    key: 'setGrid',
    value: function setGrid(setup) {
      this.grid = setup.split('\n').map(function (line) {
        return line.split('').map(function (colorCode) {
          return colorCode === ' ' ? null : new Piece(colorCode);
        });
      });
      this.dimy = this.grid.length;
      this.dimx = this.grid[0].length;
    }
  }, {
    key: 'clickOn',
    value: function clickOn(x, y) {
      // ignore clicks on empty spaces
      if (this.grid[y][x] === null) return;
      if (this.grid[y][x].selected) {
        this._destroyPieces();
        this._fallPieces();
        this._compactColumns();
        if (this._checkWin()) {
          this.winCallback();
        }
      } else {
        this._selectPieces(x, y);
      }
    }
  }, {
    key: '_selectPieces',
    value: function _selectPieces(x, y) {
      var _this = this;

      // ignore clicks on empty spaces
      if (this.grid[y][x] === null) return;
      // reset 
      this.grid.forEach(function (line) {
        line.forEach(function (piece) {
          if (piece === null) return;
          piece.selected = false;
          piece.visited = false;
        });
      });
      var matchColor = this.grid[y][x].color;
      var searchDirections = [{ x: 1, y: 0 }, // right
      { x: -1, y: 0 }, // left
      { x: 0, y: 1 }, // down
      { x: 0, y: -1 }];
      // initialize queue
      var q = [{ x: x, y: y }];

      var _loop = function _loop() {
        var c = q.pop();
        _this.grid[c.y][c.x].selected = true;
        searchDirections.forEach(function (dir) {
          // check for out-of-bounds cases
          if (c.y + dir.y < 0 || c.y + dir.y >= _this.dimy) return;
          if (c.x + dir.x < 0 || c.x + dir.x >= _this.dimx) return;
          var neighbor = _this.grid[c.y + dir.y][c.x + dir.x];
          if (neighbor === null || neighbor.visited) return;
          neighbor.visited = true;
          if (neighbor.color === matchColor) {
            q.unshift({
              x: c.x + dir.x,
              y: c.y + dir.y
            });
          }
        });
      };

      while (q.length > 0) {
        _loop();
      }
    }
  }, {
    key: '_destroyPieces',
    value: function _destroyPieces() {
      var currentValue = 10;
      for (var y = 0; y < this.dimy; y++) {
        for (var x = 0; x < this.dimx; x++) {
          if (this.grid[y][x] === null) continue;
          if (this.grid[y][x].selected) {
            this.score += currentValue;
            currentValue += 10;
            this.grid[y][x] = null;
          }
        }
      }
    }
  }, {
    key: '_fallPieces',
    value: function _fallPieces() {
      // iterate over each column instead of each row
      for (var x = 0; x < this.dimx; x++) {
        // build a compacted array without any empty spots
        var compactedList = [];
        for (var y = 0; y < this.dimy; y++) {
          if (this.grid[y][x] === null) {
            continue;
          } else {
            compactedList.push(this.grid[y][x]);
          }
        }
        // pad the compacted list as needed
        while (compactedList.length < this.dimy) {
          compactedList.unshift(null);
        }
        // Go down the column again and reconfigure
        for (var _y = 0; _y < this.dimy; _y++) {
          this.grid[_y][x] = compactedList[_y];
        }
      }
    }
  }, {
    key: '_compactColumns',
    value: function _compactColumns() {
      var _this2 = this;

      var canBeCompacted = function canBeCompacted() {
        var bottomRow = _this2.grid[_this2.dimy - 1];
        var emptyEncountered = false;
        for (var i = 0; i < bottomRow.length; i++) {
          if (bottomRow[i] === null) {
            emptyEncountered = true;
          } else if (emptyEncountered) {
            return true;
          }
        }
        return false;
      };
      while (canBeCompacted()) {
        // iterate over each column instead of each row
        // ignore last row because there's nothing to compact
        for (var x = 0; x < this.dimx - 1; x++) {
          // check if the column contains any pieces
          var columnContainsPieces = false;
          for (var y = 0; y < this.dimy; y++) {
            if (this.grid[y][x] === null) {
              continue;
            } else {
              columnContainsPieces = true;
              break;
            }
          }
          if (!columnContainsPieces) {
            // Go down the column again and reconfigure
            for (var _y2 = 0; _y2 < this.dimy; _y2++) {
              this.grid[_y2][x] = this.grid[_y2][x + 1];
              this.grid[_y2][x + 1] = null;
            }
          }
        }
      }
    }
  }, {
    key: '_checkWin',
    value: function _checkWin() {
      for (var y = 0; y < this.dimy; y++) {
        for (var x = 0; x < this.dimx; x++) {
          if (this.grid[y][x] !== null) return false;
        }
      }
      return true;
    }
  }, {
    key: 'toString',
    value: function toString() {
      return this.grid.map(function (line) {
        return line.map(function (piece) {
          if (piece === null) {
            return ' ';
          } else {
            return piece.selected ? '*' : piece.color;
          }
        }).join('');
      }).join('\n');
    }
  }]);

  return Game;
}();

exports.default = Game;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjcmVhdGVqcy9lYXNlbGpzL2Rpc3QvZWFzZWxqcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zY3NzL2FwcC5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvc2Nzcy9hcHAuc2Nzcz80MjY2Iiwid2VicGFjazovLy8uL3NyYy9nYW1lL2dhbWUuanMiXSwibmFtZXMiOlsibmF2aWdhdG9yIiwic3RhZ2UiLCJjcmVhdGVqcyIsIkJVQkJMRV9TSVpFIiwiUE9TU0lCTEVfQ09MT1JTIiwiQkdfQ09MT1IiLCJCVUJCTEVfT1VUTElORV9XSURUSCIsImdhbWUiLCJ3aW5HYW1lIiwiYWxlcnQiLCJuZXdHYW1lIiwicmVwYWludCIsImJnIiwiQlVCQkxFX1JBRElVUyIsIkJVQkJMRV9NQVJHSU4iLCJoaXRib3giLCJ4IiwieSIsImJ1YmJsZSIsInRleHQiLCJ0ZXh0Qm91bmRzIiwicmVzaXplIiwid2luZG93IiwiY29scyIsIk1hdGgiLCJyb3dzIiwiR2FtZSIsIk5VTV9DT0xPUlMiLCJQaWVjZSIsImNvbG9yIiwid2luQ2FsbGJhY2siLCJjb2xzVG90YWwiLCJyb3dzVG90YWwiLCJyb3ciLCJncmlkX3JvdyIsImNvbCIsInNldHVwIiwiY29sb3JDb2RlIiwibGluZSIsInBpZWNlIiwibWF0Y2hDb2xvciIsInNlYXJjaERpcmVjdGlvbnMiLCJxIiwiYyIsImRpciIsIm5laWdoYm9yIiwiY3VycmVudFZhbHVlIiwiY29tcGFjdGVkTGlzdCIsImNhbkJlQ29tcGFjdGVkIiwiYm90dG9tUm93IiwiZW1wdHlFbmNvdW50ZXJlZCIsImkiLCJjb2x1bW5Db250YWluc1BpZWNlcyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhLDBGQUEwRixvQkFBb0IsOEVBQThFLGNBQWMsZ0JBQWdCLFlBQVksV0FBVyxLQUFLLFdBQVcsK0dBQStHLHVCQUF1Qix3Q0FBd0MsbUJBQW1CLDJIQUEySCwwQ0FBMEMsYUFBYSxtREFBbUQsc0VBQXNFLGlCQUFpQiw0RkFBNEYsdURBQXVELGdCQUFnQixpTkFBaU4sY0FBYyxjQUFjLHdIQUF3SCw4UEFBOFAsNkNBQTZDLGtEQUFrRCx3Q0FBd0MsdUNBQXVDLGlEQUFpRCx3RUFBd0UsK0JBQStC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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUEsNkJBQTZCLG1CQUFtQjs7QUFFaEQ7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQzVZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVyxF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Q25DO0FBQ0EsY0FBSW9DLHVCQUFKO0FBQ0EsZUFBSSxJQUFJbkMsSUFBUixHQUFlQSxJQUFJLEtBQW5CLFdBQW1DO0FBQ2pDLGdCQUFHLG9CQUFILE1BQTZCO0FBQzNCO0FBREYsbUJBRU87QUFDTG1DO0FBQ0E7QUFDRDtBQUNGO0FBQ0QsY0FBRyxDQUFILHNCQUEwQjtBQUN4QjtBQUNBLGlCQUFJLElBQUluQyxNQUFSLEdBQWVBLE1BQUksS0FBbkIsYUFBbUM7QUFDakMsa0NBQWtCLGVBQWFELElBQS9CLENBQWtCLENBQWxCO0FBQ0EsNkJBQWFBLElBQWI7QUFDRDtBQUNGO0FBQ0Y7QUFDRjtBQUNGOzs7Z0NBRVc7QUFDVixXQUFJLElBQUlDLElBQVIsR0FBZUEsSUFBSSxLQUFuQixXQUFtQztBQUNqQyxhQUFJLElBQUlELElBQVIsR0FBZUEsSUFBSSxLQUFuQixXQUFtQztBQUNqQyxjQUFHLG9CQUFILE1BQTZCO0FBQzlCO0FBQ0Y7QUFDRDtBQUNEOzs7K0JBRVU7QUFDVCxhQUFPLGNBQWMsZ0JBQVE7QUFDM0IsZUFBTyxTQUFTLGlCQUFTO0FBQ3ZCLGNBQUd1QixVQUFILE1BQW1CO0FBQ2pCO0FBREYsaUJBRU87QUFDTCxtQkFBT0EsdUJBQXVCQSxNQUE5QjtBQUNEO0FBTEksZ0JBQVAsRUFBTyxDQUFQO0FBREssY0FBUCxJQUFPLENBQVA7QUFTRDs7Ozs7O2tCQUVZYixJIiwiZmlsZSI6Ii4vYXNzZXRzL2pzL2FwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImh0dHBzOi8vcG9kcmV6by5naXRodWIuaW8vc2FtZWdhbWUvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2FwcC5qc1wiKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIEVhc2VsSlNcbiAqIFZpc2l0IGh0dHBzOi8vY3JlYXRlanMuY29tIGZvciBkb2N1bWVudGF0aW9uLCB1cGRhdGVzIGFuZCBleGFtcGxlcy5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgZ3NraW5uZXIuY29tLCBpbmMuXG4gKlxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxuICpcbiAqIFRoaXMgbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICovXG4hZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2U9ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRcIik/ZS5kZWZhdWx0OmUsaT1pJiZpLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFwiKT9pLmRlZmF1bHQ6aTt2YXIgbj1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG4pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG4mJnQoZSxuKSxlfX0oKSxzPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9LG89ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX0sYT1mdW5jdGlvbiB0KCl7dGhyb3cgbih0aGlzLHQpLG5ldyBFcnJvcihcIlxcblxcdFxcdFxcdFN0YWdlR0wgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgb24gdGhlIEVhc2VsSlMgMi4wIGJyYW5jaC5cXG5cXHRcXHRcXHRFbmQgb2YgUTEgMjAxOCBpcyB0YXJnZXR0ZWQgZm9yIFN0YWdlR0wgc3VwcG9ydC5cXG5cXHRcXHRcXHRGb2xsb3cgQENyZWF0ZUpTIG9uIFR3aXR0ZXIgZm9yIHVwZGF0ZXMuXFxuXFx0XFx0XCIpfSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtuKHRoaXMsdCksdGhpcy50eXBlPWUsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbCx0aGlzLmV2ZW50UGhhc2U9MCx0aGlzLmJ1YmJsZXM9aSx0aGlzLmNhbmNlbGFibGU9cix0aGlzLnRpbWVTdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITEsdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsdGhpcy5yZW1vdmVkPSExfXJldHVybiB0LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9dGhpcy5jYW5jZWxhYmxlLHRoaXN9LHQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMCx0aGlzfSx0LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITAsdGhpc30sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlZD0hMCx0aGlzfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0KHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlKTtmb3IodmFyIGkgaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10aGlzW2ldKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXRoaXNbZV09dFtlXTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCIgKHR5cGU9XCIrdGhpcy50eXBlK1wiKV1cIn0sdH0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSx0aGlzLl9saXN0ZW5lcnM9bnVsbCx0aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9cmV0dXJuIHQuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXt2YXIgaT10LnByb3RvdHlwZTtlLmFkZEV2ZW50TGlzdGVuZXI9aS5hZGRFdmVudExpc3RlbmVyLGUub249aS5vbixlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZS5vZmY9aS5yZW1vdmVFdmVudExpc3RlbmVyLGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9aS5yZW1vdmVBbGxFdmVudExpc3RlbmVycyxlLmhhc0V2ZW50TGlzdGVuZXI9aS5oYXNFdmVudExpc3RlbmVyLGUuZGlzcGF0Y2hFdmVudD1pLmRpc3BhdGNoRXZlbnQsZS5fZGlzcGF0Y2hFdmVudD1pLl9kaXNwYXRjaEV2ZW50LGUud2lsbFRyaWdnZXI9aS53aWxsVHJpZ2dlcn0sdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbj12b2lkIDAscj0obj1pP3RoaXMuX2NhcHR1cmVMaXN0ZW5lcnM9dGhpcy5fY2FwdHVyZUxpc3RlbmVyc3x8e306dGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30pW3RdO3JldHVybiByJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSxpKSxyPW5bdF0pLHI/ci5wdXNoKGUpOm5bdF09W2VdLGV9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGwsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnt9LHM9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0mJmFyZ3VtZW50c1s1XTtyZXR1cm4gZS5oYW5kbGVFdmVudCYmKGk9aXx8ZSxlPWUuaGFuZGxlRXZlbnQpLGk9aXx8dGhpcyx0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxmdW5jdGlvbih0KXtlLmNhbGwoaSx0LHIpLG4mJnQucmVtb3ZlKCl9LHMpfSx0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXT90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihpKXt2YXIgbj1pW3RdO2lmKG4pZm9yKHZhciByPW4ubGVuZ3RoLHM9MDtzPHI7cysrKWlmKG5bc109PT1lKXsxPT09cj9kZWxldGUgaVt0XTpuLnNwbGljZShzLDEpO2JyZWFrfX19LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSxpKX0sdC5wcm90b3R5cGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDt0Pyh0aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdF0sdGhpcy5fY2FwdHVyZUxpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbdF0pOnRoaXMuX2xpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9LHQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBuPXRoaXMuX2xpc3RlbmVycztpZighKGV8fG4mJm5bdF0pKXJldHVybiEwO3Q9bmV3IGgodCxlLGkpfWVsc2UgdC50YXJnZXQmJnQuY2xvbmUmJih0PXQuY2xvbmUoKSk7dHJ5e3QudGFyZ2V0PXRoaXN9Y2F0Y2godCl7fWlmKHQuYnViYmxlcyYmdGhpcy5wYXJlbnQpe2Zvcih2YXIgcj10aGlzLHM9W3JdO3IucGFyZW50OylzLnB1c2gocj1yLnBhcmVudCk7dmFyIG89cy5sZW5ndGgsYT12b2lkIDA7Zm9yKGE9by0xO2E+PTAmJiF0LnByb3BhZ2F0aW9uU3RvcHBlZDthLS0pc1thXS5fZGlzcGF0Y2hFdmVudCh0LDErKDA9PWEpKTtmb3IoYT0xO2E8byYmIXQucHJvcGFnYXRpb25TdG9wcGVkO2ErKylzW2FdLl9kaXNwYXRjaEV2ZW50KHQsMyl9ZWxzZSB0aGlzLl9kaXNwYXRjaEV2ZW50KHQsMik7cmV0dXJuIXQuZGVmYXVsdFByZXZlbnRlZH0sdC5wcm90b3R5cGUuaGFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9saXN0ZW5lcnMsaT10aGlzLl9jYXB0dXJlTGlzdGVuZXJzO3JldHVybiEhKGUmJmVbdF18fGkmJmlbdF0pfSx0LnByb3RvdHlwZS53aWxsVHJpZ2dlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcztlOyl7aWYoZS5oYXNFdmVudExpc3RlbmVyKHQpKXJldHVybiEwO2U9ZS5wYXJlbnR9cmV0dXJuITF9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrKHRoaXMuY29uc3RydWN0b3IubmFtZSt0aGlzLm5hbWU/XCIgXCIrdGhpcy5uYW1lOlwiXCIpK1wiXVwifSx0LnByb3RvdHlwZS5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBpPTE9PT1lP3RoaXMuX2NhcHR1cmVMaXN0ZW5lcnM6dGhpcy5fbGlzdGVuZXJzO2lmKHQmJmkpe3ZhciBuPWlbdC50eXBlXSxyPXZvaWQgMDtpZighbnx8MD09PShyPW4ubGVuZ3RoKSlyZXR1cm47dHJ5e3QuY3VycmVudFRhcmdldD10aGlzfWNhdGNoKHQpe310cnl7dC5ldmVudFBoYXNlPWV9Y2F0Y2godCl7fXQucmVtb3ZlZD0hMSxuPW4uc2xpY2UoKTtmb3IodmFyIHM9MDtzPHImJiF0LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDtzKyspe3ZhciBvPW5bc107by5oYW5kbGVFdmVudD9vLmhhbmRsZUV2ZW50KHQpOm8odCksdC5yZW1vdmVkJiYodGhpcy5vZmYodC50eXBlLG8sMT09PWUpLHQucmVtb3ZlZD0hMSl9fX0sdH0oKSx1PTAsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aHJvdyBuKHRoaXMsdCksXCJVSUQgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwifXJldHVybiB0LmdldD1mdW5jdGlvbigpe3JldHVybiB0Ll9uZXh0SUQrK30scih0LG51bGwsW3trZXk6XCJfbmV4dElEXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9LHNldDpmdW5jdGlvbih0KXt1PXR9fV0pLHR9KCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO24odGhpcyx0KSx0aGlzLnNldFZhbHVlcyhlLGkpfXJldHVybiB0LnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpc30sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIildXCJ9LHR9KCksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLGE9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7bih0aGlzLHQpLHRoaXMuc2V0VmFsdWVzKGUsaSxyLHMsbyxhKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjEsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjEscj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MCxzPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTowO3JldHVybiB0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9aSx0aGlzLmQ9bix0aGlzLnR4PXIsdGhpcy50eT1zLHRoaXN9LHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0LGUsaSxuLHIscyl7dmFyIG89dGhpcy5hLGE9dGhpcy5iLGg9dGhpcy5jLGw9dGhpcy5kO3JldHVybiAxPT10JiYwPT1lJiYwPT1pJiYxPT1ufHwodGhpcy5hPW8qdCtoKmUsdGhpcy5iPWEqdCtsKmUsdGhpcy5jPW8qaStoKm4sdGhpcy5kPWEqaStsKm4pLHRoaXMudHg9bypyK2gqcyt0aGlzLnR4LHRoaXMudHk9YSpyK2wqcyt0aGlzLnR5LHRoaXN9LHQucHJvdG90eXBlLnByZXBlbmQ9ZnVuY3Rpb24odCxlLGksbixyLHMpe3ZhciBvPXRoaXMuYSxhPXRoaXMuYyxoPXRoaXMudHg7cmV0dXJuIHRoaXMuYT10Km8raSp0aGlzLmIsdGhpcy5iPWUqbytuKnRoaXMuYix0aGlzLmM9dCphK2kqdGhpcy5kLHRoaXMuZD1lKmErbip0aGlzLmQsdGhpcy50eD10KmgraSp0aGlzLnR5K3IsdGhpcy50eT1lKmgrbip0aGlzLnR5K3MsdGhpc30sdC5wcm90b3R5cGUuYXBwZW5kTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGVuZCh0LmEsdC5iLHQuYyx0LmQsdC50eCx0LnR5KX0sdC5wcm90b3R5cGUucHJlcGVuZE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmVwZW5kKHQuYSx0LmIsdC5jLHQuZCx0LnR4LHQudHkpfSx0LnByb3RvdHlwZS5hcHBlbmRUcmFuc2Zvcm09ZnVuY3Rpb24oZSxpLG4scixzLG8sYSxoLGwpe3ZhciB1PXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMDtyZXR1cm4gcyUzNjA/KHU9cyp0LkRFR19UT19SQUQsYz1NYXRoLmNvcyh1KSxwPU1hdGguc2luKHUpKTooYz0xLHA9MCksb3x8YT8obyo9dC5ERUdfVE9fUkFELGEqPXQuREVHX1RPX1JBRCx0aGlzLmFwcGVuZChNYXRoLmNvcyhhKSxNYXRoLnNpbihhKSwtTWF0aC5zaW4obyksTWF0aC5jb3MobyksZSxpKSx0aGlzLmFwcGVuZChjKm4scCpuLC1wKnIsYypyLDAsMCkpOnRoaXMuYXBwZW5kKGMqbixwKm4sLXAqcixjKnIsZSxpKSwoaHx8bCkmJih0aGlzLnR4LT1oKnRoaXMuYStsKnRoaXMuYyx0aGlzLnR5LT1oKnRoaXMuYitsKnRoaXMuZCksdGhpc30sdC5wcm90b3R5cGUucHJlcGVuZFRyYW5zZm9ybT1mdW5jdGlvbihlLGksbixyLHMsbyxhLGgsbCl7dmFyIHU9dm9pZCAwLGM9dm9pZCAwLHA9dm9pZCAwO3JldHVybiBzJTM2MD8odT1zKnQuREVHX1RPX1JBRCxjPU1hdGguY29zKHUpLHA9TWF0aC5zaW4odSkpOihjPTEscD0wKSwoaHx8bCkmJih0aGlzLnR4LT1oLHRoaXMudHktPWwpLG98fGE/KG8qPXQuREVHX1RPX1JBRCxhKj10LkRFR19UT19SQUQsdGhpcy5wcmVwZW5kKGMqbixwKm4sLXAqcixjKnIsMCwwKSx0aGlzLnByZXBlbmQoTWF0aC5jb3MoYSksTWF0aC5zaW4oYSksLU1hdGguc2luKG8pLE1hdGguY29zKG8pLGUsaSkpOnRoaXMucHJlcGVuZChjKm4scCpuLC1wKnIsYypyLGUsaSksdGhpc30sdC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGUpe2UqPXQuREVHX1RPX1JBRDt2YXIgaT1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpLHI9dGhpcy5hLHM9dGhpcy5iO3JldHVybiB0aGlzLmE9cippK3RoaXMuYypuLHRoaXMuYj1zKmkrdGhpcy5kKm4sdGhpcy5jPS1yKm4rdGhpcy5jKmksdGhpcy5kPS1zKm4rdGhpcy5kKmksdGhpc30sdC5wcm90b3R5cGUuc2tldz1mdW5jdGlvbihlLGkpe3JldHVybiBlKj10LkRFR19UT19SQUQsaSo9dC5ERUdfVE9fUkFELHRoaXMuYXBwZW5kKE1hdGguY29zKGkpLE1hdGguc2luKGkpLC1NYXRoLnNpbihlKSxNYXRoLmNvcyhlKSwwLDApLHRoaXN9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYSo9dCx0aGlzLmIqPXQsdGhpcy5jKj1lLHRoaXMuZCo9ZSx0aGlzfSx0LnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eCs9dGhpcy5hKnQrdGhpcy5jKmUsdGhpcy50eSs9dGhpcy5iKnQrdGhpcy5kKmUsdGhpc30sdC5wcm90b3R5cGUuaWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hPXRoaXMuZD0xLHRoaXMuYj10aGlzLmM9dGhpcy50eD10aGlzLnR5PTAsdGhpc30sdC5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hLGU9dGhpcy5iLGk9dGhpcy5jLG49dGhpcy5kLHI9dGhpcy50eCxzPXQqbi1lKmk7cmV0dXJuIHRoaXMuYT1uL3MsdGhpcy5iPS1lL3MsdGhpcy5jPS1pL3MsdGhpcy5kPXQvcyx0aGlzLnR4PShpKnRoaXMudHktbipyKS9zLHRoaXMudHk9LSh0KnRoaXMudHktZSpyKS9zLHRoaXN9LHQucHJvdG90eXBlLmlzSWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudHgmJjA9PT10aGlzLnR5JiYxPT09dGhpcy5hJiYwPT09dGhpcy5iJiYwPT09dGhpcy5jJiYxPT09dGhpcy5kfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHg9PT10LnR4JiZ0aGlzLnR5PT09dC50eSYmdGhpcy5hPT09dC5hJiZ0aGlzLmI9PT10LmImJnRoaXMuYz09PXQuYyYmdGhpcy5kPT09dC5kfSx0LnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludD1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuZXcgcDtyZXR1cm4gaS54PXQqdGhpcy5hK2UqdGhpcy5jK3RoaXMudHgsaS55PXQqdGhpcy5iK2UqdGhpcy5kK3RoaXMudHksaX0sdC5wcm90b3R5cGUuZGVjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2UueD10aGlzLnR4LGUueT10aGlzLnR5LGUuc2NhbGVYPU1hdGguc3FydCh0aGlzLmEqdGhpcy5hK3RoaXMuYip0aGlzLmIpLGUuc2NhbGVZPU1hdGguc3FydCh0aGlzLmMqdGhpcy5jK3RoaXMuZCp0aGlzLmQpO3ZhciBpPU1hdGguYXRhbjIoLXRoaXMuYyx0aGlzLmQpLG49TWF0aC5hdGFuMih0aGlzLmIsdGhpcy5hKTtyZXR1cm4gTWF0aC5hYnMoMS1pL24pPDFlLTU/KGUucm90YXRpb249bi90LkRFR19UT19SQUQsdGhpcy5hPDAmJnRoaXMuZD49MCYmKGUucm90YXRpb24rPWUucm90YXRpb248PTA/MTgwOi0xODApLGUuc2tld1g9ZS5za2V3WT0wKTooZS5za2V3WD1pL3QuREVHX1RPX1JBRCxlLnNrZXdZPW4vdC5ERUdfVE9fUkFEKSxlfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFZhbHVlcyh0LmEsdC5iLHQuYyx0LmQsdC50eCx0LnR5KX0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5hLHRoaXMuYix0aGlzLmMsdGhpcy5kLHRoaXMudHgsdGhpcy50eSl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiIChhPVwiK3RoaXMuYStcIiBiPVwiK3RoaXMuYitcIiBjPVwiK3RoaXMuYytcIiBkPVwiK3RoaXMuZCtcIiB0eD1cIit0aGlzLnR4K1wiIHR5PVwiK3RoaXMudHkrXCIpXVwifSx0fSgpO2QuREVHX1RPX1JBRD1NYXRoLlBJLzE4MCxkLmlkZW50aXR5PW5ldyBkO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0saT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MSxyPWFyZ3VtZW50c1syXSxzPWFyZ3VtZW50c1szXSxvPWFyZ3VtZW50c1s0XTtuKHRoaXMsdCksdGhpcy5zZXRWYWx1ZXMoZSxpLHIscyxvKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxLGk9YXJndW1lbnRzWzJdLG49YXJndW1lbnRzWzNdLHI9YXJndW1lbnRzWzRdO3JldHVybiB0aGlzLnZpc2libGU9dCx0aGlzLmFscGhhPWUsdGhpcy5zaGFkb3c9aSx0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbj1uLHRoaXMubWF0cml4PXJ8fHRoaXMubWF0cml4JiZ0aGlzLm1hdHJpeC5pZGVudGl0eSgpfHxuZXcgZCx0aGlzfSx0LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCxlLGksbixyKXtyZXR1cm4gdGhpcy5hbHBoYSo9ZSx0aGlzLnNoYWRvdz1pfHx0aGlzLnNoYWRvdyx0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbj1ufHx0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbix0aGlzLnZpc2libGU9dGhpcy52aXNpYmxlJiZ0LHImJnRoaXMubWF0cml4LmFwcGVuZE1hdHJpeChyKSx0aGlzfSx0LnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKHQsZSxpLG4scil7cmV0dXJuIHRoaXMuYWxwaGEqPWUsdGhpcy5zaGFkb3c9dGhpcy5zaGFkb3d8fGksdGhpcy5jb21wb3NpdGVPcGVyYXRpb249dGhpcy5jb21wb3NpdGVPcGVyYXRpb258fG4sdGhpcy52aXNpYmxlPXRoaXMudmlzaWJsZSYmdCxyJiZ0aGlzLm1hdHJpeC5wcmVwZW5kTWF0cml4KHIpLHRoaXN9LHQucHJvdG90eXBlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZT0hMCx0aGlzLmFscGhhPTEsdGhpcy5zaGFkb3c9dGhpcy5jb21wb3NpdGVPcGVyYXRpb249bnVsbCx0aGlzLm1hdHJpeC5pZGVudGl0eSgpLHRoaXN9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuYWxwaGEsdGhpcy5zaGFkb3csdGhpcy5jb21wb3NpdGVPcGVyYXRpb24sdGhpcy52aXNpYmxlLHRoaXMubWF0cml4LmNsb25lKCkpfSx0fSgpLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7bih0aGlzLHQpLHRoaXMuc2V0VmFsdWVzKGUsaSxyLHMpfXJldHVybiB0LnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PW4sdGhpc30sdC5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtyZXR1cm4gdCtpPnRoaXMueCt0aGlzLndpZHRoJiYodGhpcy53aWR0aD10K2ktdGhpcy54KSxlK24+dGhpcy55K3RoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9ZStuLXRoaXMueSksdDx0aGlzLngmJih0aGlzLndpZHRoKz10aGlzLngtdCx0aGlzLng9dCksZTx0aGlzLnkmJih0aGlzLmhlaWdodCs9dGhpcy55LWUsdGhpcy55PWUpLHRoaXN9LHQucHJvdG90eXBlLnBhZD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdGhpcy54LT1lLHRoaXMueS09dCx0aGlzLndpZHRoKz1lK24sdGhpcy5oZWlnaHQrPXQraSx0aGlzfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFZhbHVlcyh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7cmV0dXJuIHQ+PXRoaXMueCYmdCtpPD10aGlzLngrdGhpcy53aWR0aCYmZT49dGhpcy55JiZlK248PXRoaXMueSt0aGlzLmhlaWdodH0sdC5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5leHRlbmQodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sdC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBpPWUueCxuPWUueSxyPWkrZS53aWR0aCxzPW4rZS5oZWlnaHQ7cmV0dXJuIHRoaXMueD5pJiYoaT10aGlzLngpLHRoaXMueT5uJiYobj10aGlzLnkpLHRoaXMueCt0aGlzLndpZHRoPHImJihyPXRoaXMueCt0aGlzLndpZHRoKSx0aGlzLnkrdGhpcy5oZWlnaHQ8cyYmKHM9dGhpcy55K3RoaXMuaGVpZ2h0KSxyPD1pfHxzPD1uP251bGw6bmV3IHQoaSxuLHItaSxzLW4pfSx0LnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng8PXRoaXMueCt0aGlzLndpZHRoJiZ0aGlzLng8PXQueCt0LndpZHRoJiZ0Lnk8PXRoaXMueSt0aGlzLmhlaWdodCYmdGhpcy55PD10LnkrdC5oZWlnaHR9LHQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTB9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIiB3aWR0aD1cIit0aGlzLndpZHRoK1wiIGhlaWdodD1cIit0aGlzLmhlaWdodCtcIildXCJ9LHR9KCksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCksdGhpcy51c2VzQ29udGV4dD0hMSx0aGlzLl9tdWx0aVBhc3M9bnVsbCx0aGlzLlZUWF9TSEFERVJfQk9EWT1udWxsLHRoaXMuRlJBR19TSEFERVJfQk9EWT1udWxsfXJldHVybiB0LnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnNoYWRlclBhcmFtU2V0dXA9ZnVuY3Rpb24odCxlLGkpe30sdC5wcm90b3R5cGUuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCxlLGksbixyLHMsbyxhKXtzPXN8fHQsbnVsbD09byYmKG89ZSksbnVsbD09YSYmKGE9aSk7dHJ5e3ZhciBoPXQuZ2V0SW1hZ2VEYXRhKGUsaSxuLHIpO2lmKHRoaXMuX2FwcGx5RmlsdGVyKGgpKXJldHVybiBzLnB1dEltYWdlRGF0YShoLG8sYSksITB9Y2F0Y2godCl7fXJldHVybiExfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuY29uc3RydWN0b3IubmFtZStcIl1cIn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHQucHJvdG90eXBlLl9hcHBseUZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4hMH0sdH0oKSxfPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtuKHRoaXMsZSk7dmFyIGk9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIGkud2lkdGg9dm9pZCAwLGkuaGVpZ2h0PXZvaWQgMCxpLng9dm9pZCAwLGkueT12b2lkIDAsaS5zY2FsZT0xLGkub2ZmWD0wLGkub2ZmWT0wLGkuY2FjaGVJRD0wLGkuX2ZpbHRlck9mZlg9MCxpLl9maWx0ZXJPZmZZPTAsaS5fY2FjaGVEYXRhVVJMSUQ9MCxpLl9jYWNoZURhdGFVUkw9bnVsbCxpLl9kcmF3V2lkdGg9MCxpLl9kcmF3SGVpZ2h0PTAsaS5fYm91bmRSZWN0PW5ldyB2LGl9cmV0dXJuIHMoZSx0KSxlLmdldEZpbHRlckJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IHYsaT10LmZpbHRlcnMsbj1pJiZpLmxlbmd0aDtpZighIW48PTApcmV0dXJuIGU7Zm9yKHZhciByPTA7cjxuO3IrKyl7dmFyIHM9aVtyXTtpZihzJiZzLmdldEJvdW5kcyl7dmFyIG89cy5nZXRCb3VuZHMoKTtvJiYoMD09cj9lLnNldFZhbHVlcyhvLngsby55LG8ud2lkdGgsby5oZWlnaHQpOmUuZXh0ZW5kKG8ueCxvLnksby53aWR0aCxvLmhlaWdodCkpfX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZGVmaW5lPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XToxLHM9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjEsbz1hcmd1bWVudHNbNl07aWYoIXQpdGhyb3dcIk5vIHN5bWJvbCB0byBjYWNoZVwiO3RoaXMuX29wdGlvbnM9byx0aGlzLl91c2VXZWJHTD12b2lkIDAhPT1vLHRoaXMudGFyZ2V0PXQsdGhpcy53aWR0aD1uPj0xP246MSx0aGlzLmhlaWdodD1yPj0xP3I6MSx0aGlzLng9ZSx0aGlzLnk9aSx0aGlzLnNjYWxlPXMsdGhpcy51cGRhdGUoKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnRhcmdldCl0aHJvd1wiZGVmaW5lKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHVwZGF0ZSgpXCI7dmFyIGk9ZS5nZXRGaWx0ZXJCb3VuZHModGhpcy50YXJnZXQpLG49dGhpcy50YXJnZXQuY2FjaGVDYW52YXM7dGhpcy5fZHJhd1dpZHRoPU1hdGguY2VpbCh0aGlzLndpZHRoKnRoaXMuc2NhbGUpK2kud2lkdGgsdGhpcy5fZHJhd0hlaWdodD1NYXRoLmNlaWwodGhpcy5oZWlnaHQqdGhpcy5zY2FsZSkraS5oZWlnaHQsbiYmdGhpcy5fZHJhd1dpZHRoPT1uLndpZHRoJiZ0aGlzLl9kcmF3SGVpZ2h0PT1uLmhlaWdodHx8dGhpcy5fdXBkYXRlU3VyZmFjZSgpLHRoaXMuX2ZpbHRlck9mZlg9aS54LHRoaXMuX2ZpbHRlck9mZlk9aS55LHRoaXMub2ZmWD10aGlzLngqdGhpcy5zY2FsZSt0aGlzLl9maWx0ZXJPZmZYLHRoaXMub2ZmWT10aGlzLnkqdGhpcy5zY2FsZSt0aGlzLl9maWx0ZXJPZmZZLHRoaXMuX2RyYXdUb0NhY2hlKHQpLHRoaXMuY2FjaGVJRD10aGlzLmNhY2hlSUQ/dGhpcy5jYWNoZUlEKzE6MX0sZS5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudGFyZ2V0LnN0YWdlO3RoaXMuX3VzZVdlYkdMJiZ0aGlzLl93ZWJHTENhY2hlPyh0aGlzLl93ZWJHTENhY2hlLmlzQ2FjaGVDb250cm9sbGVkfHwodGhpcy5fX2xhc3RSVCYmKHRoaXMuX19sYXN0UlQ9dm9pZCAwKSx0aGlzLl9fcnRBJiZ0aGlzLl93ZWJHTENhY2hlLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLl9fcnRBKSx0aGlzLl9fcnRCJiZ0aGlzLl93ZWJHTENhY2hlLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLl9fcnRCKSx0aGlzLnRhcmdldCYmdGhpcy50YXJnZXQuY2FjaGVDYW52YXMmJnRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzKSksdGhpcy5fd2ViR0xDYWNoZT0hMSk6dCBpbnN0YW5jZW9mIGEmJnQucmVsZWFzZVRleHR1cmUodGhpcy50YXJnZXQuY2FjaGVDYW52YXMpLHRoaXMudGFyZ2V0PXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzPW51bGwsdGhpcy5jYWNoZUlEPXRoaXMuX2NhY2hlRGF0YVVSTElEPXRoaXMuX2NhY2hlRGF0YVVSTD12b2lkIDAsdGhpcy53aWR0aD10aGlzLmhlaWdodD10aGlzLng9dGhpcy55PXRoaXMub2ZmWD10aGlzLm9mZlk9MCx0aGlzLnNjYWxlPTF9LGUucHJvdG90eXBlLmdldENhY2hlRGF0YVVSTD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudGFyZ2V0JiZ0aGlzLnRhcmdldC5jYWNoZUNhbnZhcztyZXR1cm4gdD8odGhpcy5jYWNoZUlEIT10aGlzLl9jYWNoZURhdGFVUkxJRCYmKHRoaXMuX2NhY2hlRGF0YVVSTElEPXRoaXMuY2FjaGVJRCx0aGlzLl9jYWNoZURhdGFVUkw9dC50b0RhdGFVUkw/dC50b0RhdGFVUkwoKTpudWxsKSx0aGlzLl9jYWNoZURhdGFVUkwpOm51bGx9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnRhcmdldCYmKHQuZHJhd0ltYWdlKHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLHRoaXMueCt0aGlzLl9maWx0ZXJPZmZYL3RoaXMuc2NhbGUsdGhpcy55K3RoaXMuX2ZpbHRlck9mZlkvdGhpcy5zY2FsZSx0aGlzLl9kcmF3V2lkdGgvdGhpcy5zY2FsZSx0aGlzLl9kcmF3SGVpZ2h0L3RoaXMuc2NhbGUpLCEwKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zY2FsZTtyZXR1cm4gdGhpcy5fYm91bmRSZWN0LnNldFZhbHVlKHRoaXMuX2ZpbHRlck9mZlgvdCx0aGlzLl9maWx0ZXJPZmZZL3QsdGhpcy53aWR0aC90LHRoaXMuaGVpZ2h0L3QpfSxlLnByb3RvdHlwZS5fdXBkYXRlU3VyZmFjZT1mdW5jdGlvbigpe3ZhciB0PXZvaWQgMDtpZighdGhpcy5fdXNlV2ViR0wpcmV0dXJuKHQ9dGhpcy50YXJnZXQuY2FjaGVDYW52YXMpfHwodD10aGlzLnRhcmdldC5jYWNoZUNhbnZhcz13aW5kb3cuY3JlYXRlanMmJmNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKSx0LndpZHRoPXRoaXMuX2RyYXdXaWR0aCx2b2lkKHQuaGVpZ2h0PXRoaXMuX2RyYXdIZWlnaHQpO2lmKCF0aGlzLl93ZWJHTENhY2hlKWlmKFwic3RhZ2VcIj09PXRoaXMuX29wdGlvbnMudXNlR0wpe2lmKG51bGw9PXRoaXMudGFyZ2V0LnN0YWdlfHwhdGhpcy50YXJnZXQuc3RhZ2UuaXNXZWJHTCl0aHJvd1wiQ2Fubm90IHVzZSAnc3RhZ2UnIGZvciBjYWNoZSBiZWNhdXNlIHRoZSBvYmplY3QncyBwYXJlbnQgc3RhZ2UgaXMgXCIrKG51bGwhPXRoaXMudGFyZ2V0LnN0YWdlP1wibm9uIFdlYkdMLlwiOlwibm90IHNldCwgcGxlYXNlIGFkZENoaWxkIHRvIHRoZSBjb3JyZWN0IHN0YWdlLlwiKTt0aGlzLnRhcmdldC5jYWNoZUNhbnZhcz0hMCx0aGlzLl93ZWJHTENhY2hlPXRoaXMudGFyZ2V0LnN0YWdlfWVsc2V7aWYoXCJuZXdcIiE9PXRoaXMuX29wdGlvbnMudXNlR0wpdGhyb3dcIkludmFsaWQgb3B0aW9uIHByb3ZpZGVkIHRvIHVzZUdMLCBleHBlY3RlZCBbJ3N0YWdlJywgJ25ldycsIFN0YWdlR0wsIHVuZGVmaW5lZF0sIGdvdCBcIit0aGlzLl9vcHRpb25zLnVzZUdMO3RoaXMudGFyZ2V0LmNhY2hlQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5fd2ViR0xDYWNoZT1uZXcgYSh0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyx7YW50aWFsaWFzOiEwLHRyYW5zcGFyZW50OiEwLGF1dG9QdXJnZTotMX0pLHRoaXMuX3dlYkdMQ2FjaGUuaXNDYWNoZUNvbnRyb2xsZWQ9ITB9dmFyIGU9dGhpcy5fd2ViR0xDYWNoZTt0PXRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzLGUuaXNDYWNoZUNvbnRyb2xsZWQmJih0LndpZHRoPXRoaXMuX2RyYXdXaWR0aCx0LmhlaWdodD10aGlzLl9kcmF3SGVpZ2h0LGUudXBkYXRlVmlld3BvcnQodGhpcy5fZHJhd1dpZHRoLHRoaXMuX2RyYXdIZWlnaHQpKSx0aGlzLnRhcmdldC5maWx0ZXJzPyhlLmdldFRhcmdldFJlbmRlclRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5fZHJhd1dpZHRoLHRoaXMuX2RyYXdIZWlnaHQpLGUuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0aGlzLnRhcmdldCx0aGlzLl9kcmF3V2lkdGgsdGhpcy5fZHJhd0hlaWdodCkpOmUuaXNDYWNoZUNvbnRyb2xsZWR8fGUuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0aGlzLnRhcmdldCx0aGlzLl9kcmF3V2lkdGgsdGhpcy5fZHJhd0hlaWdodCl9LGUucHJvdG90eXBlLl9kcmF3VG9DYWNoZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRhcmdldCxpPWUuY2FjaGVDYW52YXMsbj10aGlzLl93ZWJHTENhY2hlO2lmKCF0aGlzLl91c2VXZWJHTHx8IW4pe3ZhciByPWkuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiB0fHxyLmNsZWFyUmVjdCgwLDAsdGhpcy5fZHJhd1dpZHRoKzEsdGhpcy5fZHJhd0hlaWdodCsxKSxyLnNhdmUoKSxyLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj10LHIuc2V0VHJhbnNmb3JtKHRoaXMuc2NhbGUsMCwwLHRoaXMuc2NhbGUsLXRoaXMuX2ZpbHRlck9mZlgsLXRoaXMuX2ZpbHRlck9mZlkpLHIudHJhbnNsYXRlKC10aGlzLngsLXRoaXMueSksZS5kcmF3KHIsITApLHIucmVzdG9yZSgpLGUuZmlsdGVycyYmZS5maWx0ZXJzLmxlbmd0aCYmdGhpcy5fYXBwbHlGaWx0ZXJzKGUpLHZvaWQoaS5faW52YWxpZD0hMCl9dGhpcy5fd2ViR0xDYWNoZS5jYWNoZURyYXcoZSxlLmZpbHRlcnMsdGhpcyksKGk9dGhpcy50YXJnZXQuY2FjaGVDYW52YXMpLndpZHRoPXRoaXMuX2RyYXdXaWR0aCxpLmhlaWdodD10aGlzLl9kcmF3SGVpZ2h0LGkuX2ludmFsaWQ9ITB9LGUucHJvdG90eXBlLl9hcHBseUZpbHRlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy50YXJnZXQuY2FjaGVDYW52YXMsZT10aGlzLnRhcmdldC5maWx0ZXJzLGk9dGhpcy5fZHJhd1dpZHRoLG49dGhpcy5fZHJhd0hlaWdodCxyPXQuZ2V0Q29udGV4dChcIjJkXCIpLmdldEltYWdlRGF0YSgwLDAsaSxuKSxzPWUubGVuZ3RoLG89MDtvPHM7bysrKWVbb10uX2FwcGx5RmlsdGVyKHIpO3QuZ2V0Q29udGV4dChcIjJkXCIpLnB1dEltYWdlRGF0YShyLDAsMCl9LGV9KGcpLG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKTt2YXIgaT1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gaS5hbHBoYT0xLGkuY2FjaGVDYW52YXM9bnVsbCxpLmJpdG1hcENhY2hlPW51bGwsaS5pZD1jLmdldCgpLGkubW91c2VFbmFibGVkPSEwLGkudGlja0VuYWJsZWQ9ITAsaS5uYW1lPW51bGwsaS5wYXJlbnQ9bnVsbCxpLnJlZ1g9MCxpLnJlZ1k9MCxpLnJvdGF0aW9uPTAsaS5zY2FsZVg9MSxpLnNjYWxlWT0xLGkuc2tld1g9MCxpLnNrZXdZPTAsaS5zaGFkb3c9bnVsbCxpLnZpc2libGU9ITAsaS54PTAsaS55PTAsaS50cmFuc2Zvcm1NYXRyaXg9bnVsbCxpLmNvbXBvc2l0ZU9wZXJhdGlvbj1udWxsLGkuc25hcFRvUGl4ZWw9ITAsaS5maWx0ZXJzPW51bGwsaS5tYXNrPW51bGwsaS5oaXRBcmVhPW51bGwsaS5jdXJzb3I9bnVsbCxpLl9wcm9wcz1uZXcgZixpLl9yZWN0YW5nbGU9bmV3IHYsaS5fYm91bmRzPW51bGwsaS5fd2ViR0xSZW5kZXJTdHlsZT1lLl9TdGFnZUdMX05PTkUsaX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuZHJhd0NhY2hlKHQsZSl9LGUucHJvdG90eXBlLmRyYXdDYWNoZT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9dGhpcy5iaXRtYXBDYWNoZTtyZXR1cm4hKCFpfHxlKSYmaS5kcmF3KHQpfSxlLnByb3RvdHlwZS51cGRhdGVDb250ZXh0PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsbj1pLm1hc2sscj1pLl9wcm9wcy5tYXRyaXg7biYmbi5ncmFwaGljcyYmIW4uZ3JhcGhpY3MuaXNFbXB0eSgpJiYobi5nZXRNYXRyaXgociksdC50cmFuc2Zvcm0oci5hLHIuYixyLmMsci5kLHIudHgsci50eSksbi5ncmFwaGljcy5kcmF3QXNQYXRoKHQpLHQuY2xpcCgpLHIuaW52ZXJ0KCksdC50cmFuc2Zvcm0oci5hLHIuYixyLmMsci5kLHIudHgsci50eSkpLHRoaXMuZ2V0TWF0cml4KHIpO3ZhciBzPXIudHgsbz1yLnR5O2UuX3NuYXBUb1BpeGVsRW5hYmxlZCYmaS5zbmFwVG9QaXhlbCYmKHM9cysoczwwPy0uNTouNSl8MCxvPW8rKG88MD8tLjU6LjUpfDApLHQudHJhbnNmb3JtKHIuYSxyLmIsci5jLHIuZCxzLG8pLHQuZ2xvYmFsQWxwaGEqPWkuYWxwaGEsaS5jb21wb3NpdGVPcGVyYXRpb24mJih0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1pLmNvbXBvc2l0ZU9wZXJhdGlvbiksaS5zaGFkb3cmJnRoaXMuX2FwcGx5U2hhZG93KHQsaS5zaGFkb3cpfSxlLnByb3RvdHlwZS5jYWNoZT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MSxzPWFyZ3VtZW50c1s1XTt0aGlzLmJpdG1hcENhY2hlfHwodGhpcy5iaXRtYXBDYWNoZT1uZXcgXyksdGhpcy5iaXRtYXBDYWNoZS5kZWZpbmUodGhpcyx0LGUsaSxuLHIscyl9LGUucHJvdG90eXBlLnVwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmJpdG1hcENhY2hlKXRocm93XCJjYWNoZSgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB1cGRhdGVDYWNoZSgpXCI7dGhpcy5iaXRtYXBDYWNoZS51cGRhdGUodCl9LGUucHJvdG90eXBlLnVuY2FjaGU9ZnVuY3Rpb24oKXt0aGlzLmJpdG1hcENhY2hlJiYodGhpcy5iaXRtYXBDYWNoZS5yZWxlYXNlKCksdGhpcy5iaXRtYXBDYWNoZT12b2lkIDApfSxlLnByb3RvdHlwZS5nZXRDYWNoZURhdGFVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaXRtYXBDYWNoZT90aGlzLmJpdG1hcENhY2hlLmdldERhdGFVUkwoKTpudWxsfSxlLnByb3RvdHlwZS5sb2NhbFRvR2xvYmFsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm5ldyBwO3JldHVybiB0aGlzLmdldENvbmNhdGVuYXRlZE1hdHJpeCh0aGlzLl9wcm9wcy5tYXRyaXgpLnRyYW5zZm9ybVBvaW50KHQsZSxpKX0sZS5wcm90b3R5cGUuZ2xvYmFsVG9Mb2NhbD1mdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuZXcgcDtyZXR1cm4gdGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fcHJvcHMubWF0cml4KS5pbnZlcnQoKS50cmFuc2Zvcm1Qb2ludCh0LGUsaSl9LGUucHJvdG90eXBlLmxvY2FsVG9Mb2NhbD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gbj10aGlzLmxvY2FsVG9HbG9iYWwodCxlLG4pLGkuZ2xvYmFsVG9Mb2NhbChuLngsbi55LG4pfSxlLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLHM9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06MCxhPWFyZ3VtZW50cy5sZW5ndGg+NyYmdm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTowLGg9YXJndW1lbnRzLmxlbmd0aD44JiZ2b2lkIDAhPT1hcmd1bWVudHNbOF0/YXJndW1lbnRzWzhdOjA7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXMuc2NhbGVYPWksdGhpcy5zY2FsZVk9bix0aGlzLnJvdGF0aW9uPXIsdGhpcy5za2V3WD1zLHRoaXMuc2tld1k9byx0aGlzLnJlZ1g9YSx0aGlzLnJlZ1k9aCx0aGlzfSxlLnByb3RvdHlwZS5nZXRNYXRyaXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXQmJnQuaWRlbnRpdHkoKXx8bmV3IGQ7cmV0dXJuIGUudHJhbnNmb3JtTWF0cml4P2kuY29weShlLnRyYW5zZm9ybU1hdHJpeCk6aS5hcHBlbmRUcmFuc2Zvcm0oZS54LGUueSxlLnNjYWxlWCxlLnNjYWxlWSxlLnJvdGF0aW9uLGUuc2tld1gsZS5za2V3WSxlLnJlZ1gsZS5yZWdZKX0sZS5wcm90b3R5cGUuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLGk9dGhpcy5nZXRNYXRyaXgodCk7ZT1lLnBhcmVudDspaS5wcmVwZW5kTWF0cml4KGUuZ2V0TWF0cml4KGUuX3Byb3BzLm1hdHJpeCkpO3JldHVybiBpfSxlLnByb3RvdHlwZS5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHM9ZnVuY3Rpb24odCl7dD10P3QuaWRlbnRpdHkoKTpuZXcgZjt2YXIgZT10aGlzLGk9ZS5nZXRNYXRyaXgodC5tYXRyaXgpO2Rve3QucHJlcGVuZChlLnZpc2libGUsZS5hbHBoYSxlLnNoYWRvdyxlLmNvbXBvc2l0ZU9wZXJhdGlvbiksZSE9dGhpcyYmaS5wcmVwZW5kTWF0cml4KGUuZ2V0TWF0cml4KGUuX3Byb3BzLm1hdHJpeCkpfXdoaWxlKGU9ZS5wYXJlbnQpO3JldHVybiB0fSxlLnByb3RvdHlwZS5oaXRUZXN0PWZ1bmN0aW9uKHQsaSl7dmFyIG49ZS5faGl0VGVzdENvbnRleHQ7bi5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwtdCwtaSksdGhpcy5kcmF3KG4pO3ZhciByPXRoaXMuX3Rlc3RIaXQobik7cmV0dXJuIG4uc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxuLmNsZWFyUmVjdCgwLDAsMiwyKSxyfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdGhpc1tlXT10W2VdO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtpZih0aGlzLl9ib3VuZHMpcmV0dXJuIHRoaXMuX3JlY3RhbmdsZS5jb3B5KHRoaXMuX2JvdW5kcyk7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhcztpZih0KXt2YXIgZT10aGlzLl9jYWNoZVNjYWxlO3JldHVybiB0aGlzLl9yZWN0YW5nbGUuc2V0VmFsdWVzKHRoaXMuX2NhY2hlT2Zmc2V0WCx0aGlzLl9jYWNoZU9mZnNldFksdC53aWR0aC9lLHQuaGVpZ2h0L2UpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1lZEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRCb3VuZHMoKX0sZS5wcm90b3R5cGUuc2V0Qm91bmRzPWZ1bmN0aW9uKHQsZSxpLG4pe251bGw9PXQmJih0aGlzLl9ib3VuZHM9dCksdGhpcy5fYm91bmRzPSh0aGlzLl9ib3VuZHN8fG5ldyB2KS5zZXRWYWx1ZXModCxlLGksbil9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGUpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuY29uc3RydWN0b3IubmFtZSsodGhpcy5uYW1lP1wiIChuYW1lPVwiK3RoaXMubmFtZStcIilcIjpcIlwiKStcIl1cIn0sZS5wcm90b3R5cGUuX2Nsb25lUHJvcHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWxwaGE9dGhpcy5hbHBoYSx0Lm1vdXNlRW5hYmxlZD10aGlzLm1vdXNlRW5hYmxlZCx0LnRpY2tFbmFibGVkPXRoaXMudGlja0VuYWJsZWQsdC5uYW1lPXRoaXMubmFtZSx0LnJlZ1g9dGhpcy5yZWdYLHQucmVnWT10aGlzLnJlZ1ksdC5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLHQuc2NhbGVYPXRoaXMuc2NhbGVYLHQuc2NhbGVZPXRoaXMuc2NhbGVZLHQuc2hhZG93PXRoaXMuc2hhZG93LHQuc2tld1g9dGhpcy5za2V3WCx0LnNrZXdZPXRoaXMuc2tld1ksdC52aXNpYmxlPXRoaXMudmlzaWJsZSx0Lng9dGhpcy54LHQueT10aGlzLnksdC5jb21wb3NpdGVPcGVyYXRpb249dGhpcy5jb21wb3NpdGVPcGVyYXRpb24sdC5zbmFwVG9QaXhlbD10aGlzLnNuYXBUb1BpeGVsLHQuZmlsdGVycz1udWxsPT10aGlzLmZpbHRlcnM/bnVsbDp0aGlzLmZpbHRlcnMuc2xpY2UoMCksdC5tYXNrPXRoaXMubWFzayx0LmhpdEFyZWE9dGhpcy5oaXRBcmVhLHQuY3Vyc29yPXRoaXMuY3Vyc29yLHQuX2JvdW5kcz10aGlzLl9ib3VuZHMsdH0sZS5wcm90b3R5cGUuX2FwcGx5U2hhZG93PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpTaGFkb3cuaWRlbnRpdHk7ZT1lLHQuc2hhZG93Q29sb3I9ZS5jb2xvcix0LnNoYWRvd09mZnNldFg9ZS5vZmZzZXRYLHQuc2hhZG93T2Zmc2V0WT1lLm9mZnNldFksdC5zaGFkb3dCbHVyPWUuYmx1cn0sZS5wcm90b3R5cGUuX3RpY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGlzdGVuZXJzO2UmJmUudGljayYmKHQudGFyZ2V0PW51bGwsdC5wcm9wYWdhdGlvblN0b3BwZWQ9dC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KHQpKX0sZS5wcm90b3R5cGUuX3Rlc3RIaXQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdPjF9Y2F0Y2godCl7aWYoIWUuc3VwcHJlc3NDcm9zc0RvbWFpbkVycm9ycyl0aHJvd1wiQW4gZXJyb3IgaGFzIG9jY3VycmVkLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgb24gcmVhZGluZyBjYW52YXMgcGl4ZWwgZGF0YSB3aXRoIGxvY2FsIG9yIGNyb3NzLWRvbWFpbiBpbWFnZXMuXCI7cmV0dXJuITF9fSxlLnByb3RvdHlwZS5fZ2V0Qm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybUJvdW5kcyh0aGlzLmdldEJvdW5kcygpLHQsZSl9LGUucHJvdG90eXBlLl90cmFuc2Zvcm1Cb3VuZHM9ZnVuY3Rpb24odCxlLGkpe2lmKCF0KXJldHVybiB0O3ZhciBuPXQueCxyPXQueSxzPXQud2lkdGgsbz10LmhlaWdodCxhPXRoaXMuX3Byb3BzLm1hdHJpeDthPWk/YS5pZGVudGl0eSgpOnRoaXMuZ2V0TWF0cml4KGEpLChufHxyKSYmYS5hcHBlbmRUcmFuc2Zvcm0oMCwwLDEsMSwwLDAsMCwtbiwtciksZSYmYS5wcmVwZW5kTWF0cml4KGUpO3ZhciBoPXMqYS5hLGw9cyphLmIsdT1vKmEuYyxjPW8qYS5kLHA9YS50eCxkPWEudHksZj1wLHY9cCxnPWQsXz1kO3JldHVybihuPWgrcCk8Zj9mPW46bj52JiYodj1uKSwobj1oK3UrcCk8Zj9mPW46bj52JiYodj1uKSwobj11K3ApPGY/Zj1uOm4+diYmKHY9biksKHI9bCtkKTxnP2c9cjpyPl8mJihfPXIpLChyPWwrYytkKTxnP2c9cjpyPl8mJihfPXIpLChyPWMrZCk8Zz9nPXI6cj5fJiYoXz1yKSx0LnNldFZhbHVlcyhmLGcsdi1mLF8tZyl9LGUucHJvdG90eXBlLl9oYXNNb3VzZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ZS5fTU9VU0VfRVZFTlRTLGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspaWYodGhpcy5oYXNFdmVudExpc3RlbmVyKHRbaV0pKXJldHVybiEwO3JldHVybiEhdGhpcy5jdXJzb3J9LHIoZSxbe2tleTpcInN0YWdlXCIsZ2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXM7dC5wYXJlbnQ7KXQ9dC5wYXJlbnQ7cmV0dXJuL15cXFtTdGFnZShHTCk/KFxcc1xcKG5hbWU9XFx3K1xcKSk/XFxdJC8udGVzdCh0LnRvU3RyaW5nKCkpP3Q6bnVsbH19LHtrZXk6XCJzY2FsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYWxlWH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVYPXRoaXMuc2NhbGVZPXR9fV0pLGV9KGwpLHk9d2luZG93LmNyZWF0ZWpzJiZjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt5LmdldENvbnRleHQmJihtLl9oaXRUZXN0Q2FudmFzPXksbS5faGl0VGVzdENvbnRleHQ9eS5nZXRDb250ZXh0KFwiMmRcIikseS53aWR0aD15LmhlaWdodD0xKSxtLl9NT1VTRV9FVkVOVFM9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIixcInByZXNzbW92ZVwiLFwicHJlc3N1cFwiLFwicm9sbG91dFwiLFwicm9sbG92ZXJcIl0sbS5zdXBwcmVzc0Nyb3NzRG9tYWluRXJyb3JzPSExLG0uc25hcFRvUGl4ZWxFbmFibGVkPSExLG0uX1N0YWdlR0xfTk9ORT0wLG0uX1N0YWdlR0xfU1BSSVRFPTEsbS5fU3RhZ2VHTF9CSVRNQVA9Mjt2YXIgdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7bih0aGlzLGUpO3ZhciBpPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBpLmNoaWxkcmVuPVtdLGkubW91c2VDaGlsZHJlbj0hMCxpLnRpY2tDaGlsZHJlbj0hMCxpfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cmV0dXJuISEodGhpcy52aXNpYmxlJiZ0aGlzLmFscGhhPjAmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSYmdCl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZih0LnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcyxlLGkpKXJldHVybiEwO2Zvcih2YXIgbj10aGlzLmNoaWxkcmVuLnNsaWNlKCkscj0wLHM9bi5sZW5ndGg7cjxzO3IrKyl7dmFyIG89bltyXTtvLmlzVmlzaWJsZSgpJiYoZS5zYXZlKCksby51cGRhdGVDb250ZXh0KGUpLG8uZHJhdyhlKSxlLnJlc3RvcmUoKSl9cmV0dXJuITB9LGUucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTt2YXIgbj1lLmxlbmd0aDtpZigwPT09bilyZXR1cm4gbnVsbDt2YXIgcj1lWzBdO2lmKG4+MSl7Zm9yKHZhciBzPTA7czxuO3MrKylyPXRoaXMuYWRkQ2hpbGQoZVtzXSk7cmV0dXJuIHJ9dmFyIG89ci5wYXJlbnQsYT1vPT09dGhpcztyZXR1cm4gbyYmby5fcmVtb3ZlQ2hpbGRBdChvLmNoaWxkcmVuLmluZGV4T2YociksYSksci5wYXJlbnQ9dGhpcyx0aGlzLmNoaWxkcmVuLnB1c2gociksYXx8ci5kaXNwYXRjaEV2ZW50KFwiYWRkZWRcIikscn0sZS5wcm90b3R5cGUuYWRkQ2hpbGRBdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07dmFyIG49ZS5sZW5ndGg7aWYoMD09PW4pcmV0dXJuIG51bGw7dmFyIHI9ZS5wb3AoKTtpZihyPDB8fHI+dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIGVbbi0yXTtpZihuPjIpe2Zvcih2YXIgcz0wO3M8bi0xO3MrKyl0aGlzLmFkZENoaWxkQXQoZVtzXSxyKyspO3JldHVybiBlW24tMl19dmFyIG89ZVswXSxhPW8ucGFyZW50LGg9YT09PXRoaXM7cmV0dXJuIGEmJmEuX3JlbW92ZUNoaWxkQXQoYS5jaGlsZHJlbi5pbmRleE9mKG8pLGgpLG8ucGFyZW50PXRoaXMsdGhpcy5jaGlsZHJlbi5zcGxpY2UocisrLDAsbyksaHx8by5kaXNwYXRjaEV2ZW50KFwiYWRkZWRcIiksb30sZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO3ZhciBuPWUubGVuZ3RoO2lmKDA9PT1uKXJldHVybiEwO2lmKG4+MSl7Zm9yKHZhciByPSEwLHM9MDtzPG47cysrKXI9ciYmdGhpcy5yZW1vdmVDaGlsZChlW3NdKTtyZXR1cm4gcn1yZXR1cm4gdGhpcy5fcmVtb3ZlQ2hpbGRBdCh0aGlzLmNoaWxkcmVuLmluZGV4T2YoZVswXSkpfSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTt2YXIgbj1lLmxlbmd0aDtpZigwPT09bilyZXR1cm4hMDtpZihuPjEpe2Uuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBlLXR9KTtmb3IodmFyIHI9ITAscz0wO3M8bjtzKyspcj1yJiZ0aGlzLl9yZW1vdmVDaGlsZEF0KGVbc10pO3JldHVybiByfXJldHVybiB0aGlzLl9yZW1vdmVDaGlsZEF0KGVbMF0pfSxlLnByb3RvdHlwZS5yZW1vdmVBbGxDaGlsZHJlbj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuO3QubGVuZ3RoOyl0aGlzLl9yZW1vdmVDaGlsZEF0KDApfSxlLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoaWxkcmVuW3RdfSxlLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jaGlsZHJlbixpPWUubGVuZ3RoLG49MDtuPGk7bisrKWlmKGVbbl0ubmFtZT09PXQpcmV0dXJuIGVbbl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNvcnRDaGlsZHJlbj1mdW5jdGlvbih0KXt0aGlzLmNoaWxkcmVuLnNvcnQodCl9LGUucHJvdG90eXBlLmdldENoaWxkSW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uaW5kZXhPZih0KX0sZS5wcm90b3R5cGUuc3dhcENoaWxkcmVuQXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmNoaWxkcmVuLG49aVt0XSxyPWlbZV07biYmciYmKGlbdF09cixpW2VdPW4pfSxlLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5jaGlsZHJlbixuPWkubGVuZ3RoLHI9dm9pZCAwLHM9dm9pZCAwLG89MDtvPG4mJihpW29dPT09dCYmKHI9byksaVtvXT09PWUmJihzPW8pLG51bGw9PXJ8fG51bGw9PXMpO28rKyk7byE9PW4mJihpW3JdPWUsaVtzXT10KX0sZS5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2hpbGRyZW4sbj1pLmxlbmd0aDtpZighKHQucGFyZW50IT10aGlzfHxlPDB8fGU+PW4pKXtmb3IodmFyIHI9MDtyPG4mJmlbcl0hPT10O3IrKyk7ciE9PW4mJnIhPT1lJiYoaS5zcGxpY2UociwxKSxpLnNwbGljZShlLDAsdCkpfX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7Zm9yKDt0Oyl7aWYodD09PXRoaXMpcmV0dXJuITA7dD10LnBhcmVudH1yZXR1cm4hMX0sZS5wcm90b3R5cGUuaGl0VGVzdD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10aGlzLmdldE9iamVjdFVuZGVyUG9pbnQodCxlKX0sZS5wcm90b3R5cGUuZ2V0T2JqZWN0c1VuZGVyUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPVtdLHI9dGhpcy5sb2NhbFRvR2xvYmFsKHQsZSk7cmV0dXJuIHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHIueCxyLnksbixpPjAsMT09PWkpLG59LGUucHJvdG90eXBlLmdldE9iamVjdFVuZGVyUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPXRoaXMubG9jYWxUb0dsb2JhbCh0LGUpO3JldHVybiB0aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChuLngsbi55LG51bGwsaT4wLDE9PT1pKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEJvdW5kcyhudWxsLCEwKX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtZWRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKCl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxpPXRoaXMuX2Nsb25lUHJvcHMobmV3IGUpO3JldHVybiB0JiZ0aGlzLl9jbG9uZUNoaWxkcmVuKGkpLGl9LGUucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMudGlja0NoaWxkcmVuKWZvcih2YXIgaT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbj10aGlzLmNoaWxkcmVuW2ldO24udGlja0VuYWJsZWQmJm4uX3RpY2smJm4uX3RpY2soZSl9dC5wcm90b3R5cGUuX3RpY2suY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fY2xvbmVDaGlsZHJlbj1mdW5jdGlvbih0KXt0LmNoaWxkcmVuLmxlbmd0aCYmdC5yZW1vdmVBbGxDaGlsZHJlbigpO2Zvcih2YXIgZT10LmNoaWxkcmVuLGk9dGhpcy5jaGlsZHJlbi5sZW5ndGgsbj0wO248aTtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl0uY2xvbmUoITApO3IucGFyZW50PXQsZS5wdXNoKHIpfX0sZS5wcm90b3R5cGUuX3JlbW92ZUNoaWxkQXQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZih0PDB8fHQ+dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSlyZXR1cm4hMTt2YXIgaT10aGlzLmNoaWxkcmVuW3RdO3JldHVybiBpJiYoaS5wYXJlbnQ9bnVsbCksdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwxKSxlfHxpLmRpc3BhdGNoRXZlbnQoXCJyZW1vdmVkXCIpLCEwfSxlLnByb3RvdHlwZS5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQ9ZnVuY3Rpb24odCxpLG4scixzKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MDtpZighbyYmIXRoaXMuX3Rlc3RNYXNrKHRoaXMsdCxpKSlyZXR1cm4gbnVsbDt2YXIgYT12b2lkIDAsaD1tLl9oaXRUZXN0Q29udGV4dDtzPXN8fHImJnRoaXMuX2hhc01vdXNlRXZlbnRMaXN0ZW5lcigpO2Zvcih2YXIgbD10aGlzLmNoaWxkcmVuLHU9bC5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIGM9bFt1XSxwPWMuaGl0QXJlYTtpZihjLnZpc2libGUmJihwfHxjLmlzVmlzaWJsZSgpKSYmKCFyfHxjLm1vdXNlRW5hYmxlZCkmJihwfHx0aGlzLl90ZXN0TWFzayhjLHQsaSkpKWlmKCFwJiZjIGluc3RhbmNlb2YgZSl7dmFyIGQ9Yy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQodCxpLG4scixzLG8rMSk7aWYoIW4mJmQpcmV0dXJuIHImJiF0aGlzLm1vdXNlQ2hpbGRyZW4/dGhpczpkfWVsc2V7aWYociYmIXMmJiFjLl9oYXNNb3VzZUV2ZW50TGlzdGVuZXIoKSljb250aW51ZTt2YXIgZj1jLmdldENvbmNhdGVuYXRlZERpc3BsYXlQcm9wcyhjLl9wcm9wcyk7aWYoYT1mLm1hdHJpeCxwJiYoYS5hcHBlbmRNYXRyaXgocC5nZXRNYXRyaXgocC5fcHJvcHMubWF0cml4KSksZi5hbHBoYT1wLmFscGhhKSxoLmdsb2JhbEFscGhhPWYuYWxwaGEsaC5zZXRUcmFuc2Zvcm0oYS5hLGEuYixhLmMsYS5kLGEudHgtdCxhLnR5LWkpLChwfHxjKS5kcmF3KGgpLCF0aGlzLl90ZXN0SGl0KGgpKWNvbnRpbnVlO2lmKGguc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxoLmNsZWFyUmVjdCgwLDAsMiwyKSwhbilyZXR1cm4gciYmIXRoaXMubW91c2VDaGlsZHJlbj90aGlzOmM7bi5wdXNoKGMpfX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX3Rlc3RNYXNrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10Lm1hc2s7aWYoIW58fCFuLmdyYXBoaWNzfHxuLmdyYXBoaWNzLmlzRW1wdHkoKSlyZXR1cm4hMDt2YXIgcj10aGlzLl9wcm9wcy5tYXRyaXgscz10LnBhcmVudDtyPXM/cy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgocik6ci5pZGVudGl0eSgpLHI9bi5nZXRNYXRyaXgobi5fcHJvcHMubWF0cml4KS5wcmVwZW5kTWF0cml4KHIpO3ZhciBvPW0uX2hpdFRlc3RDb250ZXh0O3JldHVybiBvLnNldFRyYW5zZm9ybShyLmEsci5iLHIuYyxyLmQsci50eC1lLHIudHktaSksbi5ncmFwaGljcy5kcmF3QXNQYXRoKG8pLG8uZmlsbFN0eWxlPVwiIzAwMFwiLG8uZmlsbCgpLCEhdGhpcy5fdGVzdEhpdChvKSYmKG8uc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxvLmNsZWFyUmVjdCgwLDAsMiwyKSwhMCl9LGUucHJvdG90eXBlLl9nZXRCb3VuZHM9ZnVuY3Rpb24oZSxpKXt2YXIgbj10LnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzKTtpZihuKXJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHMobixlLGkpO3ZhciByPXRoaXMuX3Byb3BzLm1hdHJpeDtyPWk/ci5pZGVudGl0eSgpOnRoaXMuZ2V0TWF0cml4KHIpLGUmJnIucHJlcGVuZE1hdHJpeChlKTtmb3IodmFyIHM9dGhpcy5jaGlsZHJlbi5sZW5ndGgsbz1udWxsLGE9MDthPHM7YSsrKXt2YXIgaD10aGlzLmNoaWxkcmVuW2FdO2gudmlzaWJsZSYmKG49aC5fZ2V0Qm91bmRzKHIpKSYmKG8/by5leHRlbmQobi54LG4ueSxuLndpZHRoLG4uaGVpZ2h0KTpvPW4uY2xvbmUoKSl9cmV0dXJuIG99LHIoZSxbe2tleTpcIm51bUNoaWxkcmVuXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RofX1dKSxlfShtKSx4PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSxyLHMsYSxoLGwsdSxjLHAsZCxmKXtuKHRoaXMsZSk7dmFyIHY9byh0aGlzLHQuY2FsbCh0aGlzLGkscixzKSk7cmV0dXJuIHYuc3RhZ2VYPWEsdi5zdGFnZVk9aCx2LnJhd1g9bnVsbD09cD9hOnAsdi5yYXdZPW51bGw9PWQ/aDpkLHYubmF0aXZlRXZlbnQ9bCx2LnBvaW50ZXJJRD11LHYucHJpbWFyeT0hIWMsdi5yZWxhdGVkVGFyZ2V0PWYsdn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMudHlwZSx0aGlzLmJ1YmJsZXMsdGhpcy5jYW5jZWxhYmxlLHRoaXMuc3RhZ2VYLHRoaXMuc3RhZ2VZLHRoaXMubmF0aXZlRXZlbnQsdGhpcy5wb2ludGVySUQsdGhpcy5wcmltYXJ5LHRoaXMucmF3WCx0aGlzLnJhd1kpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuY29uc3RydWN0b3IubmFtZStcIiAodHlwZT1cIit0aGlzLnR5cGUrXCIgc3RhZ2VYPVwiK3RoaXMuc3RhZ2VYK1wiIHN0YWdlWT1cIit0aGlzLnN0YWdlWStcIildXCJ9LHIoZSxbe2tleTpcImxvY2FsWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRUYXJnZXQuZ2xvYmFsVG9Mb2NhbCh0aGlzLnJhd1gsdGhpcy5yYXdZKS54fX0se2tleTpcImxvY2FsWVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRUYXJnZXQuZ2xvYmFsVG9Mb2NhbCh0aGlzLnJhd1gsdGhpcy5yYXdZKS55fX0se2tleTpcImlzVG91Y2hcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXRoaXMucG9pbnRlcklEfX1dKSxlfShoKSxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSl7bih0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLmF1dG9DbGVhcj0hMCxyLmNhbnZhcz1cInN0cmluZ1wiPT10eXBlb2YgaT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTppLHIubW91c2VYPTAsci5tb3VzZVk9MCxyLmRyYXdSZWN0PW51bGwsci5zbmFwVG9QaXhlbEVuYWJsZWQ9ITEsci5tb3VzZUluQm91bmRzPSExLHIudGlja09uVXBkYXRlPSEwLHIubW91c2VNb3ZlT3V0c2lkZT0hMSxyLnByZXZlbnRTZWxlY3Rpb249ITAsci5fcG9pbnRlckRhdGE9e30sci5fcG9pbnRlckNvdW50PTAsci5fcHJpbWFyeVBvaW50ZXJJRD1udWxsLHIuX21vdXNlT3ZlckludGVydmFsSUQ9bnVsbCxyLl9uZXh0U3RhZ2U9bnVsbCxyLl9wcmV2U3RhZ2U9bnVsbCxyLmVuYWJsZURPTUV2ZW50cyghMCkscn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLmNhbnZhcyYmKHRoaXMudGlja09uVXBkYXRlJiZ0aGlzLnRpY2sodCksITEhPT10aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmF3c3RhcnRcIiwhMSwhMCkpKXttLl9zbmFwVG9QaXhlbEVuYWJsZWQ9dGhpcy5zbmFwVG9QaXhlbEVuYWJsZWQ7dmFyIGU9dGhpcy5kcmF3UmVjdCxpPXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtpLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5hdXRvQ2xlYXImJihlP2kuY2xlYXJSZWN0KGUueCxlLnksZS53aWR0aCxlLmhlaWdodCk6aS5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoKzEsdGhpcy5jYW52YXMuaGVpZ2h0KzEpKSxpLnNhdmUoKSx0aGlzLmRyYXdSZWN0JiYoaS5iZWdpblBhdGgoKSxpLnJlY3QoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KSxpLmNsaXAoKSksdGhpcy51cGRhdGVDb250ZXh0KGkpLHRoaXMuZHJhdyhpLCExKSxpLnJlc3RvcmUoKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmF3ZW5kXCIpfX0sZS5wcm90b3R5cGUudGljaz1mdW5jdGlvbih0KXtpZih0aGlzLnRpY2tFbmFibGVkJiYhMSE9PXRoaXMuZGlzcGF0Y2hFdmVudChcInRpY2tzdGFydFwiLCExLCEwKSl7dmFyIGU9bmV3IGgoXCJ0aWNrXCIpO2lmKHQpZm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7dGhpcy5fdGljayhlKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJ0aWNrZW5kXCIpfX0sZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7XCJ0aWNrXCI9PT10LnR5cGUmJnRoaXMudXBkYXRlKHQpfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2lmKHRoaXMuY2FudmFzKXt2YXIgdD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHQuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCsxLHRoaXMuY2FudmFzLmhlaWdodCsxKX19LGUucHJvdG90eXBlLnRvRGF0YVVSTD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJpbWFnZS9wbmdcIixpPXZvaWQgMCxuPXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxyPXRoaXMuY2FudmFzLndpZHRoLHM9dGhpcy5jYW52YXMuaGVpZ2h0O2lmKHQpe2k9bi5nZXRJbWFnZURhdGEoMCwwLHIscyk7dmFyIG89bi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247bi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJkZXN0aW5hdGlvbi1vdmVyXCIsbi5maWxsU3R5bGU9dCxuLmZpbGxSZWN0KDAsMCxyLHMpfXZhciBhPXRoaXMuY2FudmFzLnRvRGF0YVVSTChlKTtyZXR1cm4gdCYmKG4ucHV0SW1hZ2VEYXRhKGksMCwwKSxuLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1vKSxhfSxlLnByb3RvdHlwZS5lbmFibGVNb3VzZU92ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjIwO3RoaXMuX21vdXNlT3ZlckludGVydmFsSUQmJihjbGVhckludGVydmFsKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpLHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQ9bnVsbCwwPT09ZSYmdGhpcy5fdGVzdE1vdXNlT3ZlcighMCkpLGU8PTB8fCh0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Rlc3RNb3VzZU92ZXIoKX0sMWUzL01hdGgubWluKDUwLGUpKSl9LGUucHJvdG90eXBlLmVuYWJsZURPTUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLGk9dGhpcy5fZXZlbnRMaXN0ZW5lcnM7aWYoIWUmJmkpe2Zvcih2YXIgbiBpbiBpKXt2YXIgcj1pW25dO3IudC5yZW1vdmVFdmVudExpc3RlbmVyKG4sci5mLCExKX10aGlzLl9ldmVudExpc3RlbmVycz1udWxsfWVsc2UgaWYoZSYmIWkmJnRoaXMuY2FudmFzKXt2YXIgcz13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj93aW5kb3c6ZG9jdW1lbnQ7Zm9yKHZhciBvIGluIGk9dGhpcy5fZXZlbnRMaXN0ZW5lcnM9e21vdXNldXA6e3Q6cyxmOmZ1bmN0aW9uKGUpe3JldHVybiB0Ll9oYW5kbGVNb3VzZVVwKGUpfX0sbW91c2Vtb3ZlOnt0OnMsZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5faGFuZGxlTW91c2VNb3ZlKGUpfX0sZGJsY2xpY2s6e3Q6dGhpcy5jYW52YXMsZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5faGFuZGxlRG91YmxlQ2xpY2soZSl9fSxtb3VzZWRvd246e3Q6dGhpcy5jYW52YXMsZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5faGFuZGxlTW91c2VEb3duKGUpfX19KXt2YXIgYT1pW29dO2EudC5hZGRFdmVudExpc3RlbmVyJiZhLnQuYWRkRXZlbnRMaXN0ZW5lcihvLGEuZiwhMSl9fX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt0aHJvd1wiU3RhZ2UgY2Fubm90IGJlIGNsb25lZC5cIn0sZS5wcm90b3R5cGUuX2dldEVsZW1lbnRSZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMDt0cnl7ZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGkpe2U9e3RvcDp0Lm9mZnNldFRvcCxsZWZ0OnQub2Zmc2V0TGVmdCx3aWR0aDp0Lm9mZnNldFdpZHRoLGhlaWdodDp0Lm9mZnNldEhlaWdodH19dmFyIGk9KHdpbmRvdy5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuc2Nyb2xsTGVmdHx8MCktKGRvY3VtZW50LmNsaWVudExlZnR8fGRvY3VtZW50LmJvZHkuY2xpZW50TGVmdHx8MCksbj0od2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5zY3JvbGxUb3B8fDApLShkb2N1bWVudC5jbGllbnRUb3B8fGRvY3VtZW50LmJvZHkuY2xpZW50VG9wfHwwKSxyPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlP2dldENvbXB1dGVkU3R5bGUodCxudWxsKTp0LmN1cnJlbnRTdHlsZSxzPXBhcnNlSW50KHIucGFkZGluZ0xlZnQpK3BhcnNlSW50KHIuYm9yZGVyTGVmdFdpZHRoKSxvPXBhcnNlSW50KHIucGFkZGluZ1RvcCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCksYT1wYXJzZUludChyLnBhZGRpbmdSaWdodCkrcGFyc2VJbnQoci5ib3JkZXJSaWdodFdpZHRoKSxoPXBhcnNlSW50KHIucGFkZGluZ0JvdHRvbSkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCk7cmV0dXJue2xlZnQ6ZS5sZWZ0K2krcyxyaWdodDplLnJpZ2h0K2ktYSx0b3A6ZS50b3ArbitvLGJvdHRvbTplLmJvdHRvbStuLWh9fSxlLnByb3RvdHlwZS5fZ2V0UG9pbnRlckRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnRlckRhdGFbdF07cmV0dXJuIGV8fChlPXRoaXMuX3BvaW50ZXJEYXRhW3RdPXt4OjAseTowfSksZX0sZS5wcm90b3R5cGUuX2hhbmRsZU1vdXNlTW92ZT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3cuZXZlbnQ7dGhpcy5faGFuZGxlUG9pbnRlck1vdmUoLTEsdCx0LnBhZ2VYLHQucGFnZVkpfSxlLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlLGksbixyKXtpZigoIXRoaXMuX3ByZXZTdGFnZXx8dm9pZCAwIT09cikmJnRoaXMuY2FudmFzKXt2YXIgcz10aGlzLl9uZXh0U3RhZ2Usbz10aGlzLl9nZXRQb2ludGVyRGF0YSh0KSxhPW8uaW5Cb3VuZHM7dGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHQsZSxpLG4pLChhfHxvLmluQm91bmRzfHx0aGlzLm1vdXNlTW92ZU91dHNpZGUpJiYoLTE9PT10JiZvLmluQm91bmRzPT09IWEmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLGE/XCJtb3VzZWxlYXZlXCI6XCJtb3VzZWVudGVyXCIsITEsdCxvLGUpLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLFwic3RhZ2Vtb3VzZW1vdmVcIiwhMSx0LG8sZSksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KG8udGFyZ2V0LFwicHJlc3Ntb3ZlXCIsITAsdCxvLGUpKSxzJiZzLl9oYW5kbGVQb2ludGVyTW92ZSh0LGUsaSxuLG51bGwpfX0sZS5wcm90b3R5cGUuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj10aGlzLl9nZXRFbGVtZW50UmVjdCh0aGlzLmNhbnZhcyk7aS09ci5sZWZ0LG4tPXIudG9wO3ZhciBzPXRoaXMuY2FudmFzLndpZHRoLG89dGhpcy5jYW52YXMuaGVpZ2h0O2kvPShyLnJpZ2h0LXIubGVmdCkvcyxuLz0oci5ib3R0b20tci50b3ApL287dmFyIGE9dGhpcy5fZ2V0UG9pbnRlckRhdGEodCk7KGEuaW5Cb3VuZHM9aT49MCYmbj49MCYmaTw9cy0xJiZuPD1vLTEpPyhhLng9aSxhLnk9bik6dGhpcy5tb3VzZU1vdmVPdXRzaWRlJiYoYS54PWk8MD8wOmk+cy0xP3MtMTppLGEueT1uPDA/MDpuPm8tMT9vLTE6biksYS5wb3NFdnRPYmo9ZSxhLnJhd1g9aSxhLnJhd1k9bix0IT09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmLTEhPT10fHwodGhpcy5tb3VzZVg9YS54LHRoaXMubW91c2VZPWEueSx0aGlzLm1vdXNlSW5Cb3VuZHM9YS5pbkJvdW5kcyl9LGUucHJvdG90eXBlLl9oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBvaW50ZXJVcCgtMSx0LCExKX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJVcD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgcj10aGlzLl9uZXh0U3RhZ2Uscz10aGlzLl9nZXRQb2ludGVyRGF0YSh0KTtpZighdGhpcy5fcHJldlN0YWdlfHx2b2lkIDAhPT1uKXt2YXIgbz1udWxsLGE9cy50YXJnZXQ7bnx8IWEmJiFyfHwobz10aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChzLngscy55LG51bGwsITApKSxzLmRvd24mJih0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodGhpcyxcInN0YWdlbW91c2V1cFwiLCExLHQscyxlLG8pLHMuZG93bj0hMSksbz09PWEmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChhLFwiY2xpY2tcIiwhMCx0LHMsZSksdGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KGEsXCJwcmVzc3VwXCIsITAsdCxzLGUpLGk/KHQ9PXRoaXMuX3ByaW1hcnlQb2ludGVySUQmJih0aGlzLl9wcmltYXJ5UG9pbnRlcklEPW51bGwpLGRlbGV0ZSB0aGlzLl9wb2ludGVyRGF0YVt0XSk6cy50YXJnZXQ9bnVsbCxyJiZyLl9oYW5kbGVQb2ludGVyVXAodCxlLGksbnx8byYmdGhpcyl9fSxlLnByb3RvdHlwZS5faGFuZGxlTW91c2VEb3duPWZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBvaW50ZXJEb3duKC0xLHQsdC5wYWdlWCx0LnBhZ2VZKX0sZS5wcm90b3R5cGUuX2hhbmRsZVBvaW50ZXJEb3duPWZ1bmN0aW9uKHQsZSxpLG4scil7dGhpcy5wcmV2ZW50U2VsZWN0aW9uJiZlLnByZXZlbnREZWZhdWx0KCksbnVsbCE9dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCYmLTEhPT10fHwodGhpcy5fcHJpbWFyeVBvaW50ZXJJRD10KSxudWxsIT1uJiZ0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24odCxlLGksbik7dmFyIHM9bnVsbCxvPXRoaXMuX25leHRTdGFnZSxhPXRoaXMuX2dldFBvaW50ZXJEYXRhKHQpO3J8fChzPWEudGFyZ2V0PXRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KGEueCxhLnksbnVsbCwhMCkpLGEuaW5Cb3VuZHMmJih0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodGhpcyxcInN0YWdlbW91c2Vkb3duXCIsITEsdCxhLGUscyksYS5kb3duPSEwKSx0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQocyxcIm1vdXNlZG93blwiLCEwLHQsYSxlKSxvJiZvLl9oYW5kbGVQb2ludGVyRG93bih0LGUsaSxuLHJ8fHMmJnRoaXMpfSxlLnByb3RvdHlwZS5fdGVzdE1vdXNlT3Zlcj1mdW5jdGlvbih0LGUsaSl7aWYoIXRoaXMuX3ByZXZTdGFnZXx8dm9pZCAwIT09ZSl7dmFyIG49dGhpcy5fbmV4dFN0YWdlO2lmKHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpe3ZhciByPXRoaXMuX2dldFBvaW50ZXJEYXRhKC0xKTtpZihyJiYodHx8dGhpcy5tb3VzZVghPT10aGlzLl9tb3VzZU92ZXJYfHx0aGlzLm1vdXNlWSE9PXRoaXMuX21vdXNlT3Zlcll8fCF0aGlzLm1vdXNlSW5Cb3VuZHMpKXt2YXIgcz1yLnBvc0V2dE9iaixvPWl8fHMmJnMudGFyZ2V0PT09dGhpcy5jYW52YXMsYT1udWxsLGg9LTEsbD1cIlwiOyFlJiYodHx8dGhpcy5tb3VzZUluQm91bmRzJiZvKSYmKGE9dGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQodGhpcy5tb3VzZVgsdGhpcy5tb3VzZVksbnVsbCwhMCksdGhpcy5fbW91c2VPdmVyWD10aGlzLm1vdXNlWCx0aGlzLl9tb3VzZU92ZXJZPXRoaXMubW91c2VZKTtmb3IodmFyIHU9dGhpcy5fbW91c2VPdmVyVGFyZ2V0fHxbXSxjPXVbdS5sZW5ndGgtMV0scD10aGlzLl9tb3VzZU92ZXJUYXJnZXQ9W10sZD1hO2Q7KXAudW5zaGlmdChkKSxsfHwobD1kLmN1cnNvciksZD1kLnBhcmVudDt0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9bCwhZSYmaSYmKGkuY2FudmFzLnN0eWxlLmN1cnNvcj1sKTtmb3IodmFyIGY9MCx2PXAubGVuZ3RoO2Y8diYmcFtmXT09dVtmXTtmKyspaD1mO2MhPWEmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChjLFwibW91c2VvdXRcIiwhMCwtMSxyLHMsYSk7Zm9yKHZhciBnPXUubGVuZ3RoLTE7Zz5oO2ctLSl0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodVtnXSxcInJvbGxvdXRcIiwhMSwtMSxyLHMsYSk7Zm9yKHZhciBfPXAubGVuZ3RoLTE7Xz5oO18tLSl0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQocFtfXSxcInJvbGxvdmVyXCIsITEsLTEscixzLGMpO2MhPWEmJnRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChhLFwibW91c2VvdmVyXCIsITAsLTEscixzLGMpLG4mJm4uX3Rlc3RNb3VzZU92ZXIodCxlfHxhJiZ0aGlzLGl8fG8mJnRoaXMpfX1lbHNlIG4mJm4uX3Rlc3RNb3VzZU92ZXIodCxlLGkpfX0sZS5wcm90b3R5cGUuX2hhbmRsZURvdWJsZUNsaWNrPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbCxuPXRoaXMuX25leHRTdGFnZSxyPXRoaXMuX2dldFBvaW50ZXJEYXRhKC0xKTtlfHwoaT10aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChyLngsci55LG51bGwsITApLHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChpLFwiZGJsY2xpY2tcIiwhMCwtMSxyLHQpKSxuJiZuLl9oYW5kbGVEb3VibGVDbGljayh0LGV8fGkmJnRoaXMpfSxlLnByb3RvdHlwZS5fZGlzcGF0Y2hNb3VzZUV2ZW50PWZ1bmN0aW9uKHQsZSxpLG4scixzLG8pe2lmKHQmJihpfHx0Lmhhc0V2ZW50TGlzdGVuZXIoZSkpKXt2YXIgYT1uZXcgeChlLGksITEsci54LHIueSxzLG4sbj09PXRoaXMuX3ByaW1hcnlQb2ludGVySUR8fC0xPT09bixyLnJhd1gsci5yYXdZLG8pO3QuZGlzcGF0Y2hFdmVudChhKX19LHIoZSxbe2tleTpcIm5leHRTdGFnZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXh0U3RhZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9uZXh0U3RhZ2UmJih0aGlzLl9uZXh0U3RhZ2UuX3ByZXZTdGFnZT1udWxsKSx0JiYodC5fcHJldlN0YWdlPXRoaXMpLHRoaXMuX25leHRTdGFnZT10fX1dKSxlfSh3KSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5yZWFkeVN0YXRlPWUucmVhZHlTdGF0ZSx0aGlzLl92aWRlbz1lLHRoaXMuX2NhbnZhcz1udWxsLHRoaXMuX2xhc3RUaW1lPS0xLHRoaXMucmVhZHlTdGF0ZTwyJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLHRoaXMuX3ZpZGVvUmVhZHkuYmluZCh0aGlzKSl9cmV0dXJuIHQucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKCl7aWYoISh0aGlzLnJlYWR5U3RhdGU8Mikpe3ZhciB0PXRoaXMuX2NhbnZhcyxlPXRoaXMuX3ZpZGVvO2lmKHR8fCgodD10aGlzLl9jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9ZS52aWRlb1dpZHRoLHQuaGVpZ2h0PWUudmlkZW9IZWlnaHQpLGUucmVhZHlTdGF0ZT49MiYmZS5jdXJyZW50VGltZSE9PXRoaXMuX2xhc3RUaW1lKXt2YXIgaT10LmdldENvbnRleHQoXCIyZFwiKTtpLmNsZWFyUmVjdCgwLDAsdC53aWR0aCx0LmhlaWdodCksaS5kcmF3SW1hZ2UoZSwwLDAsdC53aWR0aCx0LmhlaWdodCksdGhpcy5fbGFzdFRpbWU9ZS5jdXJyZW50VGltZX1yZXR1cm4gdH19LHQucHJvdG90eXBlLl92aWRlb1JlYWR5PWZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPTJ9LHR9KCksUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe24odGhpcyxlKTt2YXIgcj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaT8oci5pbWFnZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLHIuaW1hZ2Uuc3JjPWkpOnIuaW1hZ2U9aSxyLnNvdXJjZVJlY3Q9bnVsbCxyLl93ZWJHTFJlbmRlclN0eWxlPW0uX1N0YWdlR0xfQklUTUFQLHJ9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmltYWdlLGU9dGhpcy5jYWNoZUNhbnZhc3x8dCYmKHQubmF0dXJhbFdpZHRofHx0LmdldENvbnRleHR8fHQucmVhZHlTdGF0ZT49Mik7cmV0dXJuISEodGhpcy52aXNpYmxlJiZ0aGlzLmFscGhhPjAmJjAhPXRoaXMuc2NhbGVYJiYwIT10aGlzLnNjYWxlWSYmZSl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZih0LnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcyxlLGkpKXJldHVybiEwO3ZhciBuPXRoaXMuaW1hZ2Uscj10aGlzLnNvdXJjZVJlY3Q7aWYobiBpbnN0YW5jZW9mIEUmJihuPW4uZ2V0SW1hZ2UoKSksbnVsbD09bilyZXR1cm4hMDtpZihyKXt2YXIgcz1yLngsbz1yLnksYT1zK3Iud2lkdGgsaD1vK3IuaGVpZ2h0LGw9MCx1PTAsYz1uLndpZHRoLHA9bi5oZWlnaHQ7czwwJiYobC09cyxzPTApLGE+YyYmKGE9YyksbzwwJiYodS09byxvPTApLGg+cCYmKGg9cCksZS5kcmF3SW1hZ2UobixzLG8sYS1zLGgtbyxsLHUsYS1zLGgtbyl9ZWxzZSBlLmRyYXdJbWFnZShuLDAsMCk7cmV0dXJuITB9LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLmdldEJvdW5kcy5jYWxsKHRoaXMpO2lmKGUpcmV0dXJuIGU7dmFyIGk9dGhpcy5pbWFnZSxuPXRoaXMuc291cmNlUmVjdHx8aTtyZXR1cm4gaSYmKGkubmF0dXJhbFdpZHRofHxpLmdldENvbnRleHR8fGkucmVhZHlTdGF0ZT49Mik/dGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcygwLDAsbi53aWR0aCxuLmhlaWdodCk6bnVsbH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5pbWFnZTtudWxsIT1pJiZudWxsIT10JiYoaT1pLmNsb25lTm9kZSgpKTt2YXIgbj1uZXcgZShpKTtyZXR1cm4gdGhpcy5zb3VyY2VSZWN0JiYobi5zb3VyY2VSZWN0PXRoaXMuc291cmNlUmVjdC5jbG9uZSgpKSx0aGlzLl9jbG9uZVByb3BzKG4pLG59LGV9KG0pLFQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShpLHIpe24odGhpcyxlKTt2YXIgcz1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gcy5jdXJyZW50RnJhbWU9MCxzLmN1cnJlbnRBbmltYXRpb249bnVsbCxzLnBhdXNlZD0hMCxzLnNwcml0ZVNoZWV0PWkscy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9MCxzLmZyYW1lcmF0ZT0wLHMuX2FuaW1hdGlvbj1udWxsLHMuX2N1cnJlbnRGcmFtZT1udWxsLHMuX3NraXBBZHZhbmNlPSExLHMuX3dlYkdMUmVuZGVyU3R5bGU9bS5fU3RhZ2VHTF9TUFJJVEUsbnVsbCE9ciYmcy5nb3RvQW5kUGxheShyKSxzfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5zcHJpdGVTaGVldC5jb21wbGV0ZTtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZ0KX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLGkpe2lmKHQucHJvdG90eXBlLmRyYXcuY2FsbCh0aGlzLGUsaSkpcmV0dXJuITA7dGhpcy5fbm9ybWFsaXplRnJhbWUoKTt2YXIgbj10aGlzLnNwcml0ZVNoZWV0LmdldEZyYW1lKDB8dGhpcy5fY3VycmVudEZyYW1lKTtpZighbilyZXR1cm4hMTt2YXIgcj1uLnJlY3Q7cmV0dXJuIHIud2lkdGgmJnIuaGVpZ2h0JiZlLmRyYXdJbWFnZShuLmltYWdlLHIueCxyLnksci53aWR0aCxyLmhlaWdodCwtbi5yZWdYLC1uLnJlZ1ksci53aWR0aCxyLmhlaWdodCksITB9LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfSxlLnByb3RvdHlwZS5nb3RvQW5kUGxheT1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMSx0aGlzLl9za2lwQWR2YW5jZT0hMCx0aGlzLl9nb3RvKHQpfSxlLnByb3RvdHlwZS5nb3RvQW5kU3RvcD1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMCx0aGlzLl9nb3RvKHQpfSxlLnByb3RvdHlwZS5hZHZhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZnJhbWVyYXRlfHx0aGlzLnNwcml0ZVNoZWV0LmZyYW1lcmF0ZSxpPWUmJm51bGwhPXQ/dC8oMWUzL2UpOjE7dGhpcy5fbm9ybWFsaXplRnJhbWUoaSl9LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzKXx8dGhpcy5zcHJpdGVTaGVldC5nZXRGcmFtZUJvdW5kcyh0aGlzLmN1cnJlbnRGcmFtZSx0aGlzLl9yZWN0YW5nbGUpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9uZVByb3BzKG5ldyBlKHRoaXMuc3ByaXRlU2hlZXQpKX0sZS5wcm90b3R5cGUuX2Nsb25lUHJvcHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLl9jbG9uZVByb3BzLmNhbGwodGhpcyxlKSxlLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRGcmFtZSxlLmN1cnJlbnRBbmltYXRpb249dGhpcy5jdXJyZW50QW5pbWF0aW9uLGUucGF1c2VkPXRoaXMucGF1c2VkLGUuY3VycmVudEFuaW1hdGlvbkZyYW1lPXRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lLGUuZnJhbWVyYXRlPXRoaXMuZnJhbWVyYXRlLGUuX2FuaW1hdGlvbj10aGlzLl9hbmltYXRpb24sZS5fY3VycmVudEZyYW1lPXRoaXMuX2N1cnJlbnRGcmFtZSxlLl9za2lwQWR2YW5jZT10aGlzLl9za2lwQWR2YW5jZSxlfSxlLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbihlKXt0aGlzLnBhdXNlZHx8KHRoaXMuX3NraXBBZHZhbmNlfHx0aGlzLmFkdmFuY2UoZSYmZS5kZWx0YSksdGhpcy5fc2tpcEFkdmFuY2U9ITEpLHQucHJvdG90eXBlLl90aWNrLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuX25vcm1hbGl6ZUZyYW1lPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT10aGlzLl9hbmltYXRpb24saT10aGlzLnBhdXNlZCxuPXRoaXMuX2N1cnJlbnRGcmFtZTtpZihlKXt2YXIgcj1lLnNwZWVkfHwxLHM9dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWUsbz1lLmZyYW1lcy5sZW5ndGg7aWYocyt0KnI+PW8pe3ZhciBhPWUubmV4dDtpZih0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChlLG4saSxhLG8tMSkpcmV0dXJuO2lmKGEpcmV0dXJuIHRoaXMuX2dvdG8oYSx0LShvLXMpL3IpO3RoaXMucGF1c2VkPSEwLHM9ZS5mcmFtZXMubGVuZ3RoLTF9ZWxzZSBzKz10KnI7dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9cyx0aGlzLl9jdXJyZW50RnJhbWU9ZS5mcmFtZXNbMHxzXX1lbHNle249dGhpcy5fY3VycmVudEZyYW1lKz10O3ZhciBoPXRoaXMuc3ByaXRlU2hlZXQuZ2V0TnVtRnJhbWVzKCk7aWYobj49aCYmaD4wJiYhdGhpcy5fZGlzcGF0Y2hBbmltYXRpb25FbmQoZSxuLGksaC0xKSYmKHRoaXMuX2N1cnJlbnRGcmFtZS09aCk+PWgpcmV0dXJuIHRoaXMuX25vcm1hbGl6ZUZyYW1lKCl9bj0wfHRoaXMuX2N1cnJlbnRGcmFtZSx0aGlzLmN1cnJlbnRGcmFtZSE9biYmKHRoaXMuY3VycmVudEZyYW1lPW4sdGhpcy5kaXNwYXRjaEV2ZW50KFwiY2hhbmdlXCIpKX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoQW5pbWF0aW9uRW5kPWZ1bmN0aW9uKHQsZSxpLG4scil7dmFyIHM9dD90Lm5hbWU6bnVsbDtpZih0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIikpe3ZhciBvPW5ldyBoKFwiYW5pbWF0aW9uZW5kXCIpO28ubmFtZT1zLG8ubmV4dD1uLHRoaXMuZGlzcGF0Y2hFdmVudChvKX12YXIgYT10aGlzLl9hbmltYXRpb24hPXR8fHRoaXMuX2N1cnJlbnRGcmFtZSE9ZTtyZXR1cm4gYXx8aXx8IXRoaXMucGF1c2VkfHwodGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU9cixhPSEwKSxhfSxlLnByb3RvdHlwZS5fZ290bz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuY3VycmVudEFuaW1hdGlvbkZyYW1lPTAsaXNOYU4odCkpe3ZhciBpPXRoaXMuc3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9uKHQpO2kmJih0aGlzLl9hbmltYXRpb249aSx0aGlzLmN1cnJlbnRBbmltYXRpb249dCx0aGlzLl9ub3JtYWxpemVGcmFtZShlKSl9ZWxzZSB0aGlzLmN1cnJlbnRBbmltYXRpb249dGhpcy5fYW5pbWF0aW9uPW51bGwsdGhpcy5fY3VycmVudEZyYW1lPXQsdGhpcy5fbm9ybWFsaXplRnJhbWUoKX0sZX0obSksQz0xMDAsTT1bXSxEPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO24odGhpcyxlKTt2YXIgcz1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gcy50ZXh0PWkscy5zcHJpdGVTaGVldD1yLHMubGluZUhlaWdodD0wLHMubGV0dGVyU3BhY2luZz0wLHMuc3BhY2VXaWR0aD0wLHMuX29sZFByb3BzPXt0ZXh0OjAsc3ByaXRlU2hlZXQ6MCxsaW5lSGVpZ2h0OjAsbGV0dGVyU3BhY2luZzowLHNwYWNlV2lkdGg6MH0scy5fb2xkU3RhZ2U9bnVsbCxzLl9kcmF3QWN0aW9uPW51bGwsc31yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSxpKXt0aGlzLmRyYXdDYWNoZShlLGkpfHwodGhpcy5fdXBkYXRlU3RhdGUoKSx0LnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcyxlLGkpKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVRleHQoKSx0LnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8dGhpcy5zcHJpdGVTaGVldCYmdGhpcy5zcHJpdGVTaGVldC5jb21wbGV0ZSYmdGhpcy50ZXh0O3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT09dGhpcy5zY2FsZVgmJjAhPT10aGlzLnNjYWxlWSYmdCl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGUodGhpcy50ZXh0LHRoaXMuc3ByaXRlU2hlZXQpKX0sZS5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFkZENoaWxkQXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5yZW1vdmVBbGxDaGlsZHJlbj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VwZGF0ZVN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlVGV4dCgpfSxlLnByb3RvdHlwZS5fY2xvbmVQcm9wcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuX2Nsb25lUHJvcHMuY2FsbCh0aGlzLGUpLGUubGluZUhlaWdodD10aGlzLmxpbmVIZWlnaHQsZS5sZXR0ZXJTcGFjaW5nPXRoaXMubGV0dGVyU3BhY2luZyxlLnNwYWNlV2lkdGg9dGhpcy5zcGFjZVdpZHRoLGV9LGUucHJvdG90eXBlLl9nZXRGcmFtZUluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dm9pZCAwLG49ZS5nZXRBbmltYXRpb24odCk7cmV0dXJuIG58fCh0IT0oaT10LnRvVXBwZXJDYXNlKCkpfHx0IT0oaT10LnRvTG93ZXJDYXNlKCkpfHwoaT1udWxsKSxpJiYobj1lLmdldEFuaW1hdGlvbihpKSkpLG4mJm4uZnJhbWVzWzBdfSxlLnByb3RvdHlwZS5fZ2V0RnJhbWU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRGcmFtZUluZGV4KHQsZSk7cmV0dXJuIG51bGw9PWk/aTplLmdldEZyYW1lKGkpfSxlLnByb3RvdHlwZS5fZ2V0TGluZUhlaWdodD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRGcmFtZShcIjFcIix0KXx8dGhpcy5fZ2V0RnJhbWUoXCJUXCIsdCl8fHRoaXMuX2dldEZyYW1lKFwiTFwiLHQpfHx0LmdldEZyYW1lKDApO3JldHVybiBlP2UucmVjdC5oZWlnaHQ6MX0sZS5wcm90b3R5cGUuX2dldFNwYWNlV2lkdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0RnJhbWUoXCIxXCIsdCl8fHRoaXMuX2dldEZyYW1lKFwibFwiLHQpfHx0aGlzLl9nZXRGcmFtZShcImVcIix0KXx8dGhpcy5fZ2V0RnJhbWUoXCJhXCIsdCl8fHQuZ2V0RnJhbWUoMCk7cmV0dXJuIGU/ZS5yZWN0LndpZHRoOjF9LGUucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc3RhZ2U7aSYmaS5vbihcImRyYXdzdGFydFwiLHRoaXMuX3VwZGF0ZVRleHQsdGhpcywhMCksdC5wcm90b3R5cGUuX3RpY2suY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlVGV4dD1mdW5jdGlvbigpe3ZhciB0PTAsaT0wLG49dGhpcy5fb2xkUHJvcHMscj0hMSxzPXRoaXMuc3BhY2VXaWR0aCxvPXRoaXMubGluZUhlaWdodCxhPXRoaXMuc3ByaXRlU2hlZXQsaD1lLl9zcHJpdGVQb29sLGw9dGhpcy5jaGlsZHJlbix1PTAsYz1sLmxlbmd0aCxwPXZvaWQgMDtmb3IodmFyIGQgaW4gbiluW2RdIT10aGlzW2RdJiYobltkXT10aGlzW2RdLHI9ITApO2lmKHIpe3ZhciBmPSEhdGhpcy5fZ2V0RnJhbWUoXCIgXCIsYSk7Znx8c3x8KHM9dGhpcy5fZ2V0U3BhY2VXaWR0aChhKSksb3x8KG89dGhpcy5fZ2V0TGluZUhlaWdodChhKSk7Zm9yKHZhciB2PTAsZz10aGlzLnRleHQubGVuZ3RoO3Y8Zzt2Kyspe3ZhciBfPXRoaXMudGV4dC5jaGFyQXQodik7aWYoXCIgXCIhPT1ffHxmKWlmKFwiXFxuXCIhPT1fJiZcIlxcclwiIT09Xyl7dmFyIG09dGhpcy5fZ2V0RnJhbWVJbmRleChfLGEpO251bGwhPW0mJih1PGM/cD1sW3VdOihsLnB1c2gocD1oLmxlbmd0aD9oLnBvcCgpOm5ldyBUKSxwLnBhcmVudD10aGlzLGMrKykscC5zcHJpdGVTaGVldD1hLHAuZ290b0FuZFN0b3AobSkscC54PXQscC55PWksdSsrLHQrPXAuZ2V0Qm91bmRzKCkud2lkdGgrdGhpcy5sZXR0ZXJTcGFjaW5nKX1lbHNlXCJcXHJcIj09PV8mJlwiXFxuXCI9PT10aGlzLnRleHQuY2hhckF0KHYrMSkmJnYrKyx0PTAsaSs9bztlbHNlIHQrPXN9Zm9yKDtjPnU7KWgucHVzaChwPWwucG9wKCkpLHAucGFyZW50PW51bGwsYy0tO2gubGVuZ3RoPmUubWF4UG9vbFNpemUmJihoLmxlbmd0aD1lLm1heFBvb2xTaXplKX19LHIoZSxudWxsLFt7a2V5OlwibWF4UG9vbFNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ30sc2V0OmZ1bmN0aW9uKHQpe0M9dH19LHtrZXk6XCJfc3ByaXRlUG9vbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBNfX1dKSxlfSh3KSxMPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSl7bih0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKSksci5tb3VzZUVuYWJsZWQ9ITE7dmFyIHM9aS5zdHlsZTtyZXR1cm4gcy5wb3NpdGlvbj1cImFic29sdXRlXCIscy50cmFuc2Zvcm1PcmlnaW49cy5XZWJraXRUcmFuc2Zvcm1PcmlnaW49cy5tc1RyYW5zZm9ybU9yaWdpbj1zLk1velRyYW5zZm9ybU9yaWdpbj1zLk9UcmFuc2Zvcm1PcmlnaW49XCIwJSAwJVwiLHIuaHRtbEVsZW1lbnQ9aSxyLl9vbGRQcm9wcz1udWxsLHIuX29sZFN0YWdlPW51bGwsci5fZHJhd0FjdGlvbj1udWxsLHJ9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5odG1sRWxlbWVudH0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUpe3JldHVybiEwfSxlLnByb3RvdHlwZS5jYWNoZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUudW5jYWNoZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUudXBkYXRlQ2FjaGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmhpdFRlc3Q9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmxvY2FsVG9HbG9iYWw9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmdsb2JhbFRvTG9jYWw9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmxvY2FsVG9Mb2NhbD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt0aHJvd1wiRE9NRWxlbWVudCBjYW5ub3QgYmUgY2xvbmVkLlwifSxlLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbihlKXt2YXIgaT10aGlzLnN0YWdlO251bGwhPWkmJmkhPT10aGlzLl9vbGRTdGFnZSYmKHRoaXMuX2RyYXdBY3Rpb24mJmkub2ZmKFwiZHJhd2VuZFwiLHRoaXMuX2RyYXdBY3Rpb24pLHRoaXMuX2RyYXdBY3Rpb249aS5vbihcImRyYXdlbmRcIix0aGlzLl9oYW5kbGVEcmF3RW5kLHRoaXMpLHRoaXMuX29sZFN0YWdlPWkpLHQucHJvdG90eXBlLl90aWNrLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuX2hhbmRsZURyYXdFbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5odG1sRWxlbWVudDtpZihlKXt2YXIgaT1lLnN0eWxlLG49dGhpcy5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHModGhpcy5fcHJvcHMpLHI9bi5tYXRyaXgscz1uLnZpc2libGU/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIjtpZihzIT1pLnZpc2liaWxpdHkmJihpLnZpc2liaWxpdHk9cyksbi52aXNpYmxlKXt2YXIgbz10aGlzLl9vbGRQcm9wcyxhPW8mJm8ubWF0cml4LGg9MWU0O2lmKCFhfHwhYS5lcXVhbHMocikpe3ZhciBsPVwibWF0cml4KFwiKyhyLmEqaHwwKS9oK1wiLFwiKyhyLmIqaHwwKS9oK1wiLFwiKyhyLmMqaHwwKS9oK1wiLFwiKyhyLmQqaHwwKS9oK1wiLFwiKyhyLnR4Ky41fDApO2kudHJhbnNmb3JtPWkuV2Via2l0VHJhbnNmb3JtPWkuT1RyYW5zZm9ybT1pLm1zVHJhbnNmb3JtPWwrXCIsXCIrKHIudHkrLjV8MCkrXCIpXCIsaS5Nb3pUcmFuc2Zvcm09bCtcInB4LFwiKyhyLnR5Ky41fDApK1wicHgpXCIsb3x8KG89dGhpcy5fb2xkUHJvcHM9bmV3IGYoITAsbnVsbCkpLG8ubWF0cml4LmNvcHkocil9by5hbHBoYSE9bi5hbHBoYSYmKGkub3BhY2l0eT1cIlwiKyhuLmFscGhhKmh8MCkvaCxvLmFscGhhPW4uYWxwaGEpfX19LGV9KG0pLEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpLHRoaXMuY29tbWFuZD1udWxsLHRoaXMuX3N0cm9rZT1udWxsLHRoaXMuX3N0cm9rZVN0eWxlPW51bGwsdGhpcy5fb2xkU3Ryb2tlU3R5bGU9bnVsbCx0aGlzLl9zdHJva2VEYXNoPW51bGwsdGhpcy5fb2xkU3Ryb2tlRGFzaD1udWxsLHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPSExLHRoaXMuX2ZpbGw9bnVsbCx0aGlzLl9pbnN0cnVjdGlvbnM9W10sdGhpcy5fY29tbWl0SW5kZXg9MCx0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnM9W10sdGhpcy5fZGlydHk9ITEsdGhpcy5fc3RvcmVJbmRleD0wLHRoaXMuY3VydmVUbz10aGlzLnF1YWRyYXRpY0N1cnZlVG8sdGhpcy5kcmF3UmVjdD10aGlzLnJlY3QsdGhpcy5tdD10aGlzLm1vdmVUbyx0aGlzLmx0PXRoaXMubGluZVRvLHRoaXMuYXQ9dGhpcy5hcmNUbyx0aGlzLmJ0PXRoaXMuYmV6aWVyQ3VydmVUbyx0aGlzLnF0PXRoaXMucXVhZHJhdGljQ3VydmVUbyx0aGlzLmE9dGhpcy5hcmMsdGhpcy5yPXRoaXMucmVjdCx0aGlzLmNwPXRoaXMuY2xvc2VQYXRoLHRoaXMuYz10aGlzLmNsZWFyLHRoaXMuZj10aGlzLmJlZ2luRmlsbCx0aGlzLmxmPXRoaXMuYmVnaW5MaW5lYXJHcmFkaWVudEZpbGwsdGhpcy5yZj10aGlzLmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsLHRoaXMuYmY9dGhpcy5iZWdpbkJpdG1hcEZpbGwsdGhpcy5lZj10aGlzLmVuZEZpbGwsdGhpcy5zcz10aGlzLnNldFN0cm9rZVN0eWxlLHRoaXMuc2Q9dGhpcy5zZXRTdHJva2VEYXNoLHRoaXMucz10aGlzLmJlZ2luU3Ryb2tlLHRoaXMubHM9dGhpcy5iZWdpbkxpbmVhckdyYWRpZW50U3Ryb2tlLHRoaXMucnM9dGhpcy5iZWdpblJhZGlhbEdyYWRpZW50U3Ryb2tlLHRoaXMuYnM9dGhpcy5iZWdpbkJpdG1hcFN0cm9rZSx0aGlzLmVzPXRoaXMuZW5kU3Ryb2tlLHRoaXMuZHI9dGhpcy5kcmF3UmVjdCx0aGlzLnJyPXRoaXMuZHJhd1JvdW5kUmVjdCx0aGlzLnJjPXRoaXMuZHJhd1JvdW5kUmVjdENvbXBsZXgsdGhpcy5kYz10aGlzLmRyYXdDaXJjbGUsdGhpcy5kZT10aGlzLmRyYXdFbGxpcHNlLHRoaXMuZHA9dGhpcy5kcmF3UG9seVN0YXIsdGhpcy5wPXRoaXMuZGVjb2RlUGF0aCx0aGlzLmNsZWFyKCl9cmV0dXJuIHQuZ2V0UkdCPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBudWxsIT10JiZudWxsPT1pJiYobj1lLGk9MjU1JnQsZT10Pj44JjI1NSx0PXQ+PjE2JjI1NSksbnVsbD09bj9cInJnYihcIit0K1wiLFwiK2UrXCIsXCIraStcIilcIjpcInJnYmEoXCIrdCtcIixcIitlK1wiLFwiK2krXCIsXCIrbitcIilcIn0sdC5nZXRIU0w9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIG51bGw9PW4/XCJoc2woXCIrdCUzNjArXCIsXCIrZStcIiUsXCIraStcIiUpXCI6XCJoc2woXCIrdCUzNjArXCIsXCIrZStcIiUsXCIraStcIiUsXCIrbitcIilcIn0sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiEodGhpcy5faW5zdHJ1Y3Rpb25zLmxlbmd0aHx8dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLmxlbmd0aCl9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXt0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTtmb3IodmFyIGk9dGhpcy5faW5zdHJ1Y3Rpb25zLG49aS5sZW5ndGgscj10aGlzLl9zdG9yZUluZGV4O3I8bjtyKyspaVtyXS5leGVjKHQsZSl9LHQucHJvdG90eXBlLmRyYXdBc1BhdGg9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCk7Zm9yKHZhciBlPXZvaWQgMCxpPXRoaXMuX2luc3RydWN0aW9ucyxuPWkubGVuZ3RoLHI9dGhpcy5fc3RvcmVJbmRleDtyPG47cisrKSExIT09KGU9aVtyXSkucGF0aCYmZS5leGVjKHQpfSx0LnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hcHBlbmQobmV3IFAodCxlKSwhMCl9LHQucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFwcGVuZChuZXcgQSh0LGUpKX0sdC5wcm90b3R5cGUuYXJjVG89ZnVuY3Rpb24odCxlLGksbixyKXtyZXR1cm4gdGhpcy5hcHBlbmQobmV3IGsodCxlLGksbixyKSl9LHQucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LGUsaSxuLHIscyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBPKHQsZSxpLG4scixzKSl9LHQucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBSKHQsZSxpLG4pKX0sdC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsaSxuLHIscyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBGKHQsZSxpLG4scixzKSl9LHQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBCKHQsZSxpLG4pKX0sdC5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucy5sZW5ndGg/dGhpcy5hcHBlbmQobmV3IFgpOnRoaXN9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RydWN0aW9ucy5sZW5ndGg9dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLmxlbmd0aD10aGlzLl9jb21taXRJbmRleD0wLHRoaXMuX3N0cm9rZVN0eWxlPXRoaXMuX29sZFN0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZT10aGlzLl9maWxsPXRoaXMuX3N0cm9rZURhc2g9dGhpcy5fb2xkU3Ryb2tlRGFzaD1udWxsLHRoaXMuX2RpcnR5PXRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPSExLHRoaXN9LHQucHJvdG90eXBlLmJlZ2luRmlsbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0RmlsbCh0P25ldyBOKHQpOm51bGwpfSx0LnByb3RvdHlwZS5iZWdpbkxpbmVhckdyYWRpZW50RmlsbD1mdW5jdGlvbih0LGUsaSxuLHIscyl7cmV0dXJuIHRoaXMuX3NldEZpbGwoKG5ldyBOKS5saW5lYXJHcmFkaWVudCh0LGUsaSxuLHIscykpfSx0LnByb3RvdHlwZS5iZWdpblJhZGlhbEdyYWRpZW50RmlsbD1mdW5jdGlvbih0LGUsaSxuLHIscyxvLGEpe3JldHVybiB0aGlzLl9zZXRGaWxsKChuZXcgTikucmFkaWFsR3JhZGllbnQodCxlLGksbixyLHMsbyxhKSl9LHQucHJvdG90eXBlLmJlZ2luQml0bWFwRmlsbD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3NldEZpbGwobmV3IE4obnVsbCxpKS5iaXRtYXAodCxlKSl9LHQucHJvdG90eXBlLmVuZEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iZWdpbkZpbGwoKX0sdC5wcm90b3R5cGUuc2V0U3Ryb2tlU3R5bGU9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxMCxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF07cmV0dXJuIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyghMCksdGhpcy5fc3Ryb2tlU3R5bGU9dGhpcy5jb21tYW5kPW5ldyBVKHQsZSxpLG4sciksdGhpcy5fc3Ryb2tlJiYodGhpcy5fc3Ryb2tlLmlnbm9yZVNjYWxlPXIpLHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlPXIsdGhpc30sdC5wcm90b3R5cGUuc2V0U3Ryb2tlRGFzaD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCEwKSx0aGlzLl9zdHJva2VEYXNoPXRoaXMuY29tbWFuZD1uZXcgSCh0LGUpLHRoaXN9LHQucHJvdG90eXBlLmJlZ2luU3Ryb2tlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXRTdHJva2UodD9uZXcgWSh0KTpudWxsKX0sdC5wcm90b3R5cGUuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZT1mdW5jdGlvbih0LGUsaSxuLHIscyl7cmV0dXJuIHRoaXMuX3NldFN0cm9rZSgobmV3IFkpLmxpbmVhckdyYWRpZW50KHQsZSxpLG4scixzKSl9LHQucHJvdG90eXBlLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2U9ZnVuY3Rpb24odCxlLGksbixyLHMsbyxhKXtyZXR1cm4gdGhpcy5fc2V0U3Ryb2tlKChuZXcgWSkucmFkaWFsR3JhZGllbnQodCxlLGksbixyLHMsbyxhKSl9LHQucHJvdG90eXBlLmJlZ2luQml0bWFwU3Ryb2tlPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcInJlcGVhdFwiO3JldHVybiB0aGlzLl9zZXRTdHJva2UoKG5ldyBZKS5iaXRtYXAodCxlKSl9LHQucHJvdG90eXBlLmVuZFN0cm9rZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJlZ2luU3Ryb2tlKCl9LHQucHJvdG90eXBlLmRyYXdSb3VuZFJlY3Q9ZnVuY3Rpb24odCxlLGksbixyKXtyZXR1cm4gdGhpcy5kcmF3Um91bmRSZWN0Q29tcGxleCh0LGUsaSxuLHIscixyLHIpfSx0LnByb3RvdHlwZS5kcmF3Um91bmRSZWN0Q29tcGxleD1mdW5jdGlvbih0LGUsaSxuLHIscyxvLGEpe3JldHVybiB0aGlzLmFwcGVuZChuZXcgaih0LGUsaSxuLHIscyxvLGEpKX0sdC5wcm90b3R5cGUuZHJhd0NpcmNsZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBXKHQsZSxpKSl9LHQucHJvdG90eXBlLmRyYXdFbGxpcHNlPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB0aGlzLmFwcGVuZChuZXcgVih0LGUsaSxuKSl9LHQucHJvdG90eXBlLmRyYXdQb2x5U3Rhcj1mdW5jdGlvbih0LGUsaSxuLHIscyl7cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyB6KHQsZSxpLG4scixzKSl9LHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMucHVzaCh0KSx0aGlzLmNvbW1hbmQ9dCxlfHwodGhpcy5fZGlydHk9ITApLHRoaXN9LHQucHJvdG90eXBlLmRlY29kZVBhdGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVt0aGlzLm1vdmVUbyx0aGlzLmxpbmVUbyx0aGlzLnF1YWRyYXRpY0N1cnZlVG8sdGhpcy5iZXppZXJDdXJ2ZVRvLHRoaXMuY2xvc2VQYXRoXSxuPVsyLDIsNCw2LDBdLHI9MCxzPWUubGVuZ3RoLG89W10sYT0wLGg9MCxsPXQuQkFTRV82NDtyPHM7KXt2YXIgdT1sW2UuY2hhckF0KHIpXSxjPXU+PjMscD1pW2NdO2lmKCFwfHwzJnUpdGhyb3dcImJhZCBwYXRoIGRhdGEgKEBcIityK1wiKTpjXCI7dmFyIGQ9bltjXTtjfHwoYT1oPTApLG8ubGVuZ3RoPTAscisrO2Zvcih2YXIgZj0yKyh1Pj4yJjEpLHY9MDt2PGQ7disrKXt2YXIgZz1sW2UuY2hhckF0KHIpXSxfPWc+PjU/LTE6MTtnPSgzMSZnKTw8NnxsW2UuY2hhckF0KHIrMSldLDM9PT1mJiYoZz1nPDw2fGxbZS5jaGFyQXQocisyKV0pLGc9XypnLzEwLHYlMj9hPWcrPWE6aD1nKz1oLG9bdl09ZyxyKz1mfXAuYXBwbHkodGhpcyxvKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuc3RvcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCEwKSx0aGlzLl9zdG9yZUluZGV4PXRoaXMuX2luc3RydWN0aW9ucy5sZW5ndGgsdGhpc30sdC5wcm90b3R5cGUudW5zdG9yZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9yZUluZGV4PTAsdGhpc30sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdDtyZXR1cm4gZS5jb21tYW5kPXRoaXMuY29tbWFuZCxlLl9zdHJva2U9dGhpcy5fc3Ryb2tlLGUuX3N0cm9rZVN0eWxlPXRoaXMuX3N0cm9rZVN0eWxlLGUuX3N0cm9rZURhc2g9dGhpcy5fc3Ryb2tlRGFzaCxlLl9zdHJva2VJZ25vcmVTY2FsZT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZSxlLl9maWxsPXRoaXMuX2ZpbGwsZS5faW5zdHJ1Y3Rpb25zPXRoaXMuX2luc3RydWN0aW9ucy5zbGljZSgpLGUuX2NvbW1pdEluZGV4PXRoaXMuX2NvbW1pdEluZGV4LGUuX2FjdGl2ZUluc3RydWN0aW9ucz10aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMuc2xpY2UoKSxlLl9kaXJ0eT10aGlzLl9kaXJ0eSxlLl9zdG9yZUluZGV4PXRoaXMuX3N0b3JlSW5kZXgsZX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCJdXCJ9LHQucHJvdG90eXBlLl91cGRhdGVJbnN0cnVjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5faW5zdHJ1Y3Rpb25zLG49dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLHI9dGhpcy5fY29tbWl0SW5kZXg7aWYodGhpcy5fZGlydHkmJm4ubGVuZ3RoKXtpLmxlbmd0aD1yLGkucHVzaCh0LmJlZ2luQ21kKTt2YXIgcz1uLmxlbmd0aCxvPWkubGVuZ3RoO2kubGVuZ3RoPW8rcztmb3IodmFyIGE9MDthPHM7YSsrKWlbYStvXT1uW2FdO3RoaXMuX2ZpbGwmJmkucHVzaCh0aGlzLl9maWxsKSx0aGlzLl9zdHJva2UmJih0aGlzLl9zdHJva2VEYXNoIT09dGhpcy5fb2xkU3Ryb2tlRGFzaCYmaS5wdXNoKHRoaXMuX3N0cm9rZURhc2gpLHRoaXMuX3N0cm9rZVN0eWxlIT09dGhpcy5fb2xkU3Ryb2tlU3R5bGUmJmkucHVzaCh0aGlzLl9zdHJva2VTdHlsZSksZSYmKHRoaXMuX29sZFN0cm9rZURhc2g9dGhpcy5fc3Ryb2tlRGFzaCx0aGlzLl9vbGRTdHJva2VTdHlsZT10aGlzLl9zdHJva2VTdHlsZSksaS5wdXNoKHRoaXMuX3N0cm9rZSkpLHRoaXMuX2RpcnR5PSExfWUmJihuLmxlbmd0aD0wLHRoaXMuX2NvbW1pdEluZGV4PWkubGVuZ3RoKX0sdC5wcm90b3R5cGUuX3NldEZpbGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyghMCksdGhpcy5jb21tYW5kPXRoaXMuX2ZpbGw9dCx0aGlzfSx0LnByb3RvdHlwZS5fc2V0U3Ryb2tlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoITApLCh0aGlzLmNvbW1hbmQ9dGhpcy5fc3Ryb2tlPXQpJiYodC5pZ25vcmVTY2FsZT10aGlzLl9zdHJva2VJZ25vcmVTY2FsZSksdGhpc30scih0LFt7a2V5OlwiaW5zdHJ1Y3Rpb25zXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucygpLHRoaXMuX2luc3RydWN0aW9uc319XSksdH0oKSxBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe24odGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9aX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmxpbmVUbyh0aGlzLngsdGhpcy55KX0sdH0oKSxQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe24odGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9aX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0Lm1vdmVUbyh0aGlzLngsdGhpcy55KX0sdH0oKSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkscixzLG8pe24odGhpcyx0KSx0aGlzLngxPWUsdGhpcy55MT1pLHRoaXMueDI9cix0aGlzLnkyPXMsdGhpcy5yYWRpdXM9b31yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyY1RvKHRoaXMueDEsdGhpcy55MSx0aGlzLngyLHRoaXMueTIsdGhpcy5yYWRpdXMpfSx0fSgpLE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxyLHMsbyxhKXtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PWksdGhpcy5yYWRpdXM9cix0aGlzLnN0YXJ0QW5nbGU9cyx0aGlzLmVuZEFuZ2xlPW8sdGhpcy5hbnRpY2xvY2t3aXNlPSEhYX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyYyh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzLHRoaXMuc3RhcnRBbmdsZSx0aGlzLmVuZEFuZ2xlLHRoaXMuYW50aWNsb2Nrd2lzZSl9LHR9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLHIscyl7bih0aGlzLHQpLHRoaXMuY3B4PWUsdGhpcy5jcHk9aSx0aGlzLng9cix0aGlzLnk9c31yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LnF1YWRyYXRpY0N1cnZlVG8odGhpcy5jcHgsdGhpcy5jcHksdGhpcy54LHRoaXMueSl9LHR9KCksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLHIscyxvLGEpe24odGhpcyx0KSx0aGlzLmNwMXg9ZSx0aGlzLmNwMXk9aSx0aGlzLmNwMng9cix0aGlzLmNwMnk9cyx0aGlzLng9byx0aGlzLnk9YX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmJlemllckN1cnZlVG8odGhpcy5jcDF4LHRoaXMuY3AxeSx0aGlzLmNwMngsdGhpcy5jcDJ5LHRoaXMueCx0aGlzLnkpfSx0fSgpLEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxyLHMpe24odGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9aSx0aGlzLnc9cix0aGlzLmg9c31yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LnJlY3QodGhpcy54LHRoaXMueSx0aGlzLncsdGhpcy5oKX0sdH0oKSxYPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmNsb3NlUGF0aCgpfSx0fSgpLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3QuYmVnaW5QYXRoKCl9LHR9KCksTj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXtuKHRoaXMsdCksdGhpcy5zdHlsZT1lLHRoaXMubWF0cml4PWksdGhpcy5wYXRoPSExfXJldHVybiB0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe2lmKHRoaXMuc3R5bGUpe3QuZmlsbFN0eWxlPXRoaXMuc3R5bGU7dmFyIGU9dGhpcy5tYXRyaXg7ZSYmKHQuc2F2ZSgpLHQudHJhbnNmb3JtKGUuYSxlLmIsZS5jLGUuZCxlLnR4LGUudHkpKSx0LmZpbGwoKSxlJiZ0LnJlc3RvcmUoKX19LHQucHJvdG90eXBlLmxpbmVhckdyYWRpZW50PWZ1bmN0aW9uKHQsZSxpLG4scixzKXtmb3IodmFyIG89dGhpcy5zdHlsZT1JLl9jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoaSxuLHIscyksYT10Lmxlbmd0aCxoPTA7aDxhO2grKylvLmFkZENvbG9yU3RvcChlW2hdLHRbaF0pO3JldHVybiBvLnByb3BzPXtjb2xvcnM6dCxyYXRpb3M6ZSx4MDppLHkwOm4seDE6cix5MTpzLHR5cGU6XCJsaW5lYXJcIn0sdGhpc30sdC5wcm90b3R5cGUucmFkaWFsR3JhZGllbnQ9ZnVuY3Rpb24odCxlLGksbixyLHMsbyxhKXtmb3IodmFyIGg9dGhpcy5zdHlsZT1JLl9jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoaSxuLHIscyxvLGEpLGw9dC5sZW5ndGgsdT0wO3U8bDt1KyspaC5hZGRDb2xvclN0b3AoZVt1XSx0W3VdKTtyZXR1cm4gaC5wcm9wcz17Y29sb3JzOnQscmF0aW9zOmUseDA6aSx5MDpuLHIwOnIseDE6cyx5MTpvLHIxOmEsdHlwZTpcInJhZGlhbFwifSx0aGlzfSx0LnByb3RvdHlwZS5iaXRtYXA9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCI7KHQubmF0dXJhbFdpZHRofHx0LmdldENvbnRleHR8fHQucmVhZHlTdGF0ZT49MikmJigodGhpcy5zdHlsZT1JLl9jdHguY3JlYXRlUGF0dGVybih0LGUpKS5wcm9wcz17aW1hZ2U6dCxyZXBldGl0aW9uOmUsdHlwZTpcImJpdG1hcFwifSk7cmV0dXJuIHRoaXN9LHR9KCksWT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXtuKHRoaXMsdCksdGhpcy5zdHlsZT1lLHRoaXMuaWdub3JlU2NhbGU9aSx0aGlzLnBhdGg9ITF9cmV0dXJuIHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZSYmKHQuc3Ryb2tlU3R5bGU9dGhpcy5zdHlsZSx0aGlzLmlnbm9yZVNjYWxlJiYodC5zYXZlKCksdC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApKSx0LnN0cm9rZSgpLHRoaXMuaWdub3JlU2NhbGUmJnQucmVzdG9yZSgpKX0sdC5wcm90b3R5cGUubGluZWFyR3JhZGllbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO04ucHJvdG90eXBlLmxpbmVhckdyYWRpZW50LmFwcGx5KHRoaXMsZSl9LHQucHJvdG90eXBlLnJhZGlhbEdyYWRpZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtOLnByb3RvdHlwZS5yYWRpYWxHcmFkaWVudC5hcHBseSh0aGlzLGUpfSx0LnByb3RvdHlwZS5iaXRtYXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO04ucHJvdG90eXBlLmJpdG1hcC5hcHBseSh0aGlzLGUpfSx0fSgpLFU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImJ1dHRcIixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcIm1pdGVyXCIscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTAsbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdO24odGhpcyx0KSx0aGlzLndpZHRoPWUsdGhpcy5jYXBzPWksdGhpcy5qb2ludHM9cix0aGlzLm1pdGVyTGltaXQ9cyx0aGlzLmlnbm9yZVNjYWxlPW8sdGhpcy5wYXRoPSExfXJldHVybiB0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3QubGluZVdpZHRoPXRoaXMud2lkdGgsdC5saW5lQ2FwPWlzTmFOKHRoaXMuY2Fwcyk/dGhpcy5jYXBzOkkuU1RST0tFX0NBUFNfTUFQW3RoaXMuY2Fwc10sdC5saW5lSm9pbj1pc05hTih0aGlzLmpvaW50cyk/dGhpcy5qb2ludHM6SS5TVFJPS0VfSk9JTlRTX01BUFt0aGlzLmpvaW50c10sdC5taXRlckxpbWl0PXRoaXMubWl0ZXJMaW1pdCx0Lmlnbm9yZVNjYWxlPXRoaXMuaWdub3JlU2NhbGV9LHR9KCksSD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dC5FTVBUWV9TRUdNRU5UUyxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO24odGhpcyx0KSx0aGlzLnNlZ21lbnRzPWUsdGhpcy5vZmZzZXQ9aX1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LnNldExpbmVEYXNoJiYodC5zZXRMaW5lRGFzaCh0aGlzLnNlZ21lbnRzKSx0LmxpbmVEYXNoT2Zmc2V0PXRoaXMub2Zmc2V0KX0scih0LG51bGwsW3trZXk6XCJFTVBUWV9TRUdNRU5UU1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBfRU1QVFlfU0VHTUVOVFN9fV0pLHR9KCksaj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLHIscyxvLGEsaCxsKXtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PWksdGhpcy53PXIsdGhpcy5oPXMsdGhpcy5yYWRpdXNUTD1vLHRoaXMucmFkaXVzVFI9YSx0aGlzLnJhZGl1c0JSPWgsdGhpcy5yYWRpdXNCTD1sfXJldHVybiB0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBlPShoPGw/aDpsKS8yLGk9MCxuPTAscj0wLHM9MCxvPXRoaXMueCxhPXRoaXMueSxoPXRoaXMudyxsPXRoaXMuaCx1PXRoaXMucmFkaXVzVEwsYz10aGlzLnJhZGl1c1RSLHA9dGhpcy5yYWRpdXNCUixkPXRoaXMucmFkaXVzQkw7dTwwJiYodSo9aT0tMSksdT5lJiYodT1lKSxjPDAmJihjKj1uPS0xKSxjPmUmJihjPWUpLHA8MCYmKHAqPXI9LTEpLHA+ZSYmKHA9ZSksZDwwJiYoZCo9cz0tMSksZD5lJiYoZD1lKSx0Lm1vdmVUbyhvK2gtYyxhKSx0LmFyY1RvKG8raCtjKm4sYS1jKm4sbytoLGErYyxjKSx0LmxpbmVUbyhvK2gsYStsLXApLHQuYXJjVG8obytoK3AqcixhK2wrcCpyLG8raC1wLGErbCxwKSx0LmxpbmVUbyhvK2QsYStsKSx0LmFyY1RvKG8tZCpzLGErbCtkKnMsbyxhK2wtZCxkKSx0LmxpbmVUbyhvLGErdSksdC5hcmNUbyhvLXUqaSxhLXUqaSxvK3UsYSx1KSx0LmNsb3NlUGF0aCgpfSx0fSgpLFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxyKXtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PWksdGhpcy5yYWRpdXM9cn1yZXR1cm4gdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0KXt0LmFyYyh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzLDAsMipNYXRoLlBJKX0sdH0oKSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkscixzKXtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PWksdGhpcy53PXIsdGhpcy5oPXN9cmV0dXJuIHQucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LGk9dGhpcy55LG49dGhpcy53LHI9dGhpcy5oLHM9LjU1MjI4NDgsbz1uLzIqcyxhPXIvMipzLGg9ZStuLGw9aStyLHU9ZStuLzIsYz1pK3IvMjt0Lm1vdmVUbyhlLGMpLHQuYmV6aWVyQ3VydmVUbyhlLGMtYSx1LW8saSx1LGkpLHQuYmV6aWVyQ3VydmVUbyh1K28saSxoLGMtYSxoLGMpLHQuYmV6aWVyQ3VydmVUbyhoLGMrYSx1K28sbCx1LGwpLHQuYmV6aWVyQ3VydmVUbyh1LW8sbCxlLGMrYSxlLGMpfSx0fSgpLHo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxyLHMpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLGE9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7bih0aGlzLHQpLHRoaXMueD1lLHRoaXMueT1pLHRoaXMucmFkaXVzPXIsdGhpcy5zaWRlcz1zLHRoaXMucG9pbnRTaXplPW8sdGhpcy5hbmdsZT1hfXJldHVybiB0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueCxpPXRoaXMueSxuPXRoaXMucmFkaXVzLHI9dGhpcy5hbmdsZS8xODAqTWF0aC5QSSxzPXRoaXMuc2lkZXMsbz0xLXRoaXMucG9pbnRTaXplLGE9TWF0aC5QSS9zO3QubW92ZVRvKGUrTWF0aC5jb3MocikqbixpK01hdGguc2luKHIpKm4pO2Zvcih2YXIgaD0wO2g8cztoKyspcis9YSwxIT1vJiZ0LmxpbmVUbyhlK01hdGguY29zKHIpKm4qbyxpK01hdGguc2luKHIpKm4qbykscis9YSx0LmxpbmVUbyhlK01hdGguY29zKHIpKm4saStNYXRoLnNpbihyKSpuKTt0LmNsb3NlUGF0aCgpfSx0fSgpLHE9d2luZG93LmNyZWF0ZWpzJiZjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtxLmdldENvbnRleHQmJihJLl9jdHg9cS5nZXRDb250ZXh0KFwiMmRcIikscS53aWR0aD1xLmhlaWdodD0xKSxJLmJlZ2luQ21kPW5ldyBHLEkuQkFTRV82ND17QTowLEI6MSxDOjIsRDozLEU6NCxGOjUsRzo2LEg6NyxJOjgsSjo5LEs6MTAsTDoxMSxNOjEyLE46MTMsTzoxNCxQOjE1LFE6MTYsUjoxNyxTOjE4LFQ6MTksVToyMCxWOjIxLFc6MjIsWDoyMyxZOjI0LFo6MjUsYToyNixiOjI3LGM6MjgsZDoyOSxlOjMwLGY6MzEsZzozMixoOjMzLGk6MzQsajozNSxrOjM2LGw6MzcsbTozOCxuOjM5LG86NDAscDo0MSxxOjQyLHI6NDMsczo0NCx0OjQ1LHU6NDYsdjo0Nyx3OjQ4LHg6NDkseTo1MCx6OjUxLDA6NTIsMTo1MywyOjU0LDM6NTUsNDo1Niw1OjU3LDY6NTgsNzo1OSw4OjYwLDk6NjEsXCIrXCI6NjIsXCIvXCI6NjN9LEkuU1RST0tFX0NBUFNfTUFQPVtcImJ1dHRcIixcInJvdW5kXCIsXCJzcXVhcmVcIl0sSS5TVFJPS0VfSk9JTlRTX01BUD1bXCJtaXRlclwiLFwicm91bmRcIixcImJldmVsXCJdLEkuRU1QVFlfU0VHTUVOVFM9W107dmFyIEo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXt2YXIgcz1yLm1vZGUsYT12b2lkIDA9PT1zP2UuSU5ERVBFTkRFTlQ6cyxoPXIuc3RhcnRQb3NpdGlvbixsPXZvaWQgMD09PWg/MDpoLHU9ci5sb29wLGM9dm9pZCAwPT09dT8tMTp1LHA9ci5wYXVzZWQsZD12b2lkIDAhPT1wJiZwLGY9ci5mcmFtZUJvdW5kcyx2PXZvaWQgMD09PWY/bnVsbDpmLGc9ci5sYWJlbHMsXz12b2lkIDA9PT1nP251bGw6ZztuKHRoaXMsZSk7dmFyIG09byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIWUuaW5pdGVkJiZlLmluaXQoKSxtLm1vZGU9YSxtLnN0YXJ0UG9zaXRpb249bCxtLmxvb3A9ITA9PT1jPy0xOmN8fDAsbS5jdXJyZW50RnJhbWU9MCxtLnRpbWVsaW5lPW5ldyBpKHt1c2VUaWNrczohMCxwYXVzZWQ6ITAsbW9kZTphLHN0YXJ0UG9zaXRpb246bCxsb29wOmMsZnJhbWVCb3VuZHM6dixsYWJlbHM6X30pLG0ucGF1c2VkPWQsbS5hY3Rpb25zRW5hYmxlZD0hMCxtLmF1dG9SZXNldD0hMCxtLmZyYW1lQm91bmRzPW0uZnJhbWVCb3VuZHN8fHByb3BzLmZyYW1lQm91bmRzLG0uZnJhbWVyYXRlPW51bGwsbS5fc3luY2hPZmZzZXQ9MCxtLl9yYXdQb3NpdGlvbj0tMSxtLl90PTAsbS5fbWFuYWdlZD17fSxtLl9ib3VuZF9yZXNvbHZlU3RhdGU9bS5fcmVzb2x2ZVN0YXRlLmJpbmQobSksbX1yZXR1cm4gcyhlLHQpLGUuaW5pdD1mdW5jdGlvbigpe2UuaW5pdGVkfHwoUS5pbnN0YWxsKCksZS5pbml0ZWQ9ITApfSxlLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLGkpe3JldHVybiEhdGhpcy5kcmF3Q2FjaGUoZSxpKXx8KHRoaXMuX3VwZGF0ZVN0YXRlKCksdC5wcm90b3R5cGUuZHJhdy5jYWxsKHRoaXMsZSxpKSwhMCl9LGUucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfSxlLnByb3RvdHlwZS5nb3RvQW5kUGxheT1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMSx0aGlzLl9nb3RvKHQpfSxlLnByb3RvdHlwZS5nb3RvQW5kU3RvcD1mdW5jdGlvbih0KXt0aGlzLnBhdXNlZD0hMCx0aGlzLl9nb3RvKHQpfSxlLnByb3RvdHlwZS5hZHZhbmNlPWZ1bmN0aW9uKHQpe3ZhciBpPWUuSU5ERVBFTkRFTlQ7aWYodGhpcy5tb2RlPT09aSl7Zm9yKHZhciBuPXRoaXMscj1uLmZyYW1lcmF0ZTsobj1uLnBhcmVudCkmJm51bGw9PT1yOyluLm1vZGU9PT1pJiYocj1uLl9mcmFtZXJhdGUpO2lmKHRoaXMuX2ZyYW1lcmF0ZT1yLCF0aGlzLnBhdXNlZCl7dmFyIHM9bnVsbCE9PXImJi0xIT09ciYmbnVsbCE9PXQ/dC8oMWUzL3IpK3RoaXMuX3Q6MSxvPTB8cztmb3IodGhpcy5fdD1zLW87by0tOyl0aGlzLl91cGRhdGVUaW1lbGluZSh0aGlzLl9yYXdQb3NpdGlvbisxLCExKX19fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3Rocm93XCJNb3ZpZUNsaXAgY2Fubm90IGJlIGNsb25lZC5cIn0sZS5wcm90b3R5cGUuX3VwZGF0ZVN0YXRlPWZ1bmN0aW9uKCl7LTEhPT10aGlzLl9yYXdQb3NpdGlvbiYmdGhpcy5tb2RlPT09ZS5JTkRFUEVOREVOVHx8dGhpcy5fdXBkYXRlVGltZWxpbmUoLTEpfSxlLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbihlKXt0aGlzLmFkdmFuY2UoZSYmZS5kZWx0YSksdC5wcm90b3R5cGUuX3RpY2suY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fZ290bz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRpbWVsaW5lLnJlc29sdmUodCk7bnVsbCE9ZSYmKHRoaXMuX3Q9MCx0aGlzLl91cGRhdGVUaW1lbGluZShlLCEwKSl9LGUucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMuX3Jhd1Bvc2l0aW9uPS0xLHRoaXMuX3Q9dGhpcy5jdXJyZW50RnJhbWU9MCx0aGlzLnBhdXNlZD0hMX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRpbWVsaW5lPWZ1bmN0aW9uKHQsaSl7dmFyIG49dGhpcy5tb2RlIT09ZS5JTkRFUEVOREVOVCxyPXRoaXMudGltZWxpbmU7biYmKHQ9dGhpcy5zdGFydFBvc2l0aW9uKyh0aGlzLm1vZGU9PT1lLlNJTkdMRV9GUkFNRT8wOnRoaXMuX3N5bmNoT2Zmc2V0KSksdDwxJiYodD0wKSwodGhpcy5fcmF3UG9zaXRpb24hPT10fHxuKSYmKHRoaXMuX3Jhd1Bvc2l0aW9uPXQsci5sb29wPXRoaXMubG9vcCxyLnNldFBvc2l0aW9uKHQsbnx8IXRoaXMuYWN0aW9uc0VuYWJsZWQsaSx0aGlzLl9ib3VuZF9yZXNvbHZlU3RhdGUpKX0sZS5wcm90b3R5cGUuX3JlbmRlckZpcnN0RnJhbWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRpbWVsaW5lLGU9dC5yYXdQb3NpdGlvbjt0LnNldFBvc2l0aW9uKDAsITAsITAsdGhpcy5fYm91bmRfcmVzb2x2ZVN0YXRlKSx0LnJhd1Bvc2l0aW9uPWV9LGUucHJvdG90eXBlLl9yZXNvbHZlU3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRpbWVsaW5lO2Zvcih2YXIgZSBpbiB0aGlzLmN1cnJlbnRGcmFtZT10LnBvc2l0aW9uLHRoaXMuX21hbmFnZWQpdGhpcy5fbWFuYWdlZFtlXT0xO3ZhciBpPXQudHdlZW5zLG49QXJyYXkuaXNBcnJheShpKSxyPTA7Zm9yKGk9bj9pOmlbU3ltYm9sLml0ZXJhdG9yXSgpOzspe3ZhciBzO2lmKG4pe2lmKHI+PWkubGVuZ3RoKWJyZWFrO3M9aVtyKytdfWVsc2V7aWYoKHI9aS5uZXh0KCkpLmRvbmUpYnJlYWs7cz1yLnZhbHVlfXZhciBvPXMsYT1vLnRhcmdldDtpZihhIT09dGhpcyYmIW8ucGFzc2l2ZSl7dmFyIGg9by5fc3RlcFBvc2l0aW9uO2EgaW5zdGFuY2VvZiBtP3RoaXMuX2FkZE1hbmFnZWRDaGlsZChhLGgpOnRoaXMuX3NldFN0YXRlKGEuc3RhdGUsaCl9fWZvcih2YXIgbD10aGlzLmNoaWxkcmVuLHU9bC5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIGM9bFt1XS5pZDsxPT09dGhpcy5fbWFuYWdlZFtjXSYmKHRoaXMucmVtb3ZlQ2hpbGRBdCh1KSxkZWxldGUgdGhpcy5fbWFuYWdlZFtjXSl9fSxlLnByb3RvdHlwZS5fc2V0U3RhdGU9ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaT10Lmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbj10W2ldLHI9bi50LHM9bi5wO2Zvcih2YXIgbyBpbiBzKXJbb109c1tvXTt0aGlzLl9hZGRNYW5hZ2VkQ2hpbGQocixlKX19LGUucHJvdG90eXBlLl9hZGRNYW5hZ2VkQ2hpbGQ9ZnVuY3Rpb24odCxpKXt0Ll9vZmZ8fCh0aGlzLmFkZENoaWxkQXQodCwwKSx0IGluc3RhbmNlb2YgZSYmKHQuX3N5bmNoT2Zmc2V0PWksdC5tb2RlPT09ZS5JTkRFUEVOREVOVCYmdC5hdXRvUmVzZXQmJiF0aGlzLl9tYW5hZ2VkW3QuaWRdJiZ0Ll9yZXNldCgpKSx0aGlzLl9tYW5hZ2VkW3QuaWRdPTIpfSxlLnByb3RvdHlwZS5fZ2V0Qm91bmRzPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcy5nZXRCb3VuZHMoKTtyZXR1cm4hbiYmdGhpcy5mcmFtZUJvdW5kcyYmKG49dGhpcy5fcmVjdGFuZ2xlLmNvcHkodGhpcy5mcmFtZUJvdW5kc1t0aGlzLmN1cnJlbnRGcmFtZV0pKSxuP3RoaXMuX3RyYW5zZm9ybUJvdW5kcyhuLGUsaSk6dC5wcm90b3R5cGUuX2dldEJvdW5kcy5jYWxsKHRoaXMsZSxpKX0scihlLFt7a2V5OlwibGFiZWxzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZWxpbmUubGFiZWxzfX0se2tleTpcImN1cnJlbnRMYWJlbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVsaW5lLmdldEN1cnJlbnRMYWJlbCgpfX0se2tleTpcImR1cmF0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZWxpbmUuZHVyYXRpb259fSx7a2V5OlwidG90YWxGcmFtZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbn19XSksZX0odyk7Si5JTkRFUEVOREVOVD1cImluZGVwZW5kZW50XCIsSi5TSU5HTEVfRlJBTUU9XCJzaW5nbGVcIixKLlNZTkNIRUQ9XCJzeW5jaGVkXCIsSi5pbml0ZWQ9ITE7dmFyIFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhyb3cgbih0aGlzLHQpLFwiTW92aWVDbGlwUGx1Z2luIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXCJ9cmV0dXJuIHQuaW5zdGFsbD1mdW5jdGlvbigpe2UuaW5zdGFsbFBsdWdpbih0KX0sdC5pbml0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaX0sdC50d2Vlbj1mdW5jdGlvbih0LGUsaSxuLHIscyxvLGEpe3JldHVybiB0LnRhcmdldCBpbnN0YW5jZW9mIEo/MT09PXM/cltlXTpuW2VdOml9LHR9KCk7US5wcmlvcml0eT0xMDA7dmFyIEs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiYmxhY2tcIixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtuKHRoaXMsdCksdGhpcy5jb2xvcj1lLHRoaXMub2Zmc2V0WD1pLHRoaXMub2Zmc2V0WT1yLHRoaXMuYmx1cj1zfXJldHVybiB0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuY29uc3RydWN0b3IubmFtZStcIl1cIn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5jb2xvcix0aGlzLm9mZnNldFgsdGhpcy5vZmZzZXRZLHRoaXMuYmx1cil9LHR9KCk7Sy5pZGVudGl0eT1uZXcgSyhcInRyYW5zcGFyZW50XCIpO3ZhciBaPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IEk7bih0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLmdyYXBoaWNzPWkscn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FjaGVDYW52YXN8fHRoaXMuZ3JhcGhpY3MmJiF0aGlzLmdyYXBoaWNzLmlzRW1wdHkoKTtyZXR1cm4hISh0aGlzLnZpc2libGUmJnRoaXMuYWxwaGE+MCYmMCE9dGhpcy5zY2FsZVgmJjAhPXRoaXMuc2NhbGVZJiZ0KX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiEhdC5wcm90b3R5cGUuZHJhdy5jYWxsKHRoaXMsZSxpKXx8KHRoaXMuZ3JhcGhpY3MuZHJhdyhlLHRoaXMpLCEwKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdJiZ0aGlzLmdyYXBoaWNzP3RoaXMuZ3JhcGhpY3MuY2xvbmUoKTp0aGlzLmdyYXBoaWNzO3JldHVybiB0aGlzLl9jbG9uZVByb3BzKG5ldyBlKHQpKX0sZX0obSksJD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe24odGhpcyxlKTt2YXIgcj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5jb21wbGV0ZT0hMCxyLmZyYW1lcmF0ZT0wLHIuX2FuaW1hdGlvbnM9bnVsbCxyLl9mcmFtZXM9bnVsbCxyLl9pbWFnZXM9bnVsbCxyLl9kYXRhPW51bGwsci5fbG9hZENvdW50PTAsci5fZnJhbWVIZWlnaHQ9MCxyLl9mcmFtZVdpZHRoPTAsci5fbnVtRnJhbWVzPTAsci5fcmVnWD0wLHIuX3JlZ1k9MCxyLl9zcGFjaW5nPTAsci5fbWFyZ2luPTAsci5fcGFyc2VEYXRhKGkpLHJ9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5nZXROdW1GcmFtZXM9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gdGhpcy5fZnJhbWVzP3RoaXMuX2ZyYW1lcy5sZW5ndGg6dGhpcy5fbnVtRnJhbWVzfHwwO3ZhciBlPXRoaXMuX2RhdGFbdF07cmV0dXJuIG51bGw9PWU/MDplLmZyYW1lcy5sZW5ndGh9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGF0YVt0XX0sZS5wcm90b3R5cGUuZ2V0RnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwO3JldHVybiB0aGlzLl9mcmFtZXMmJihlPXRoaXMuX2ZyYW1lc1t0XSk/ZTpudWxsfSxlLnByb3RvdHlwZS5nZXRGcmFtZUJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bmV3IHYsaT10aGlzLmdldEZyYW1lKHQpO3JldHVybiBpP2Uuc2V0VmFsdWVzKC1pLnJlZ1gsLWkucmVnWSxpLnJlY3Qud2lkdGgsaS5yZWN0LmhlaWdodCk6bnVsbH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCJdXCJ9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3dcIlNwcml0ZVNoZWV0IGNhbm5vdCBiZSBjbG9uZWQuXCJ9LGUucHJvdG90eXBlLl9wYXJzZURhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZihudWxsIT10KXtpZih0aGlzLmZyYW1lcmF0ZT10LmZyYW1lcmF0ZXx8MCx0LmltYWdlcyl7dmFyIGk9ZnVuY3Rpb24odCl7dmFyIGk9ZS5faW1hZ2VzPVtdLG49dm9pZCAwO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYobj10LCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpLnNyYz1uKSxpLnB1c2godCksdC5nZXRDb250ZXh0fHx0Lm5hdHVyYWxXaWR0aHx8KGUuX2xvYWRDb3VudCsrLGUuY29tcGxldGU9ITEsdC5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5faGFuZGxlSW1hZ2VMb2FkKG4pfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZS5faGFuZGxlSW1hZ2VFcnJvcihuKX0pLGE9dH0sbj10LmltYWdlcyxyPUFycmF5LmlzQXJyYXkobikscz0wO2ZvcihuPXI/bjpuW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgbztpZihyKXtpZihzPj1uLmxlbmd0aClicmVhaztvPW5bcysrXX1lbHNle2lmKChzPW4ubmV4dCgpKS5kb25lKWJyZWFrO289cy52YWx1ZX12YXIgYT1vO2koYSl9fWlmKG51bGwhPXQuZnJhbWVzKWlmKEFycmF5LmlzQXJyYXkodC5mcmFtZXMpKXt0aGlzLl9mcmFtZXM9W107dmFyIGg9dC5mcmFtZXMsbD1BcnJheS5pc0FycmF5KGgpLHU9MDtmb3IoaD1sP2g6aFtTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIGM7aWYobCl7aWYodT49aC5sZW5ndGgpYnJlYWs7Yz1oW3UrK119ZWxzZXtpZigodT1oLm5leHQoKSkuZG9uZSlicmVhaztjPXUudmFsdWV9dmFyIHA9Yzt0aGlzLl9mcmFtZXMucHVzaCh7aW1hZ2U6dGhpcy5faW1hZ2VzW3BbNF0/cFs0XTowXSxyZWN0Om5ldyB2KHBbMF0scFsxXSxwWzJdLHBbM10pLHJlZ1g6cFs1XXx8MCxyZWdZOnBbNl18fDB9KX19ZWxzZXt2YXIgZD10LmZyYW1lczt0aGlzLl9mcmFtZVdpZHRoPWQud2lkdGgsdGhpcy5fZnJhbWVIZWlnaHQ9ZC5oZWlnaHQsdGhpcy5fcmVnWD1kLnJlZ1h8fDAsdGhpcy5fcmVnWT1kLnJlZ1l8fDAsdGhpcy5fc3BhY2luZz1kLnNwYWNpbmd8fDAsdGhpcy5fbWFyZ2luPWQubWFyZ2lufHwwLHRoaXMuX251bUZyYW1lcz1kLmNvdW50LDA9PT10aGlzLl9sb2FkQ291bnQmJnRoaXMuX2NhbGN1bGF0ZUZyYW1lcygpfWlmKHRoaXMuX2FuaW1hdGlvbnM9W10sbnVsbCE9dC5hbmltYXRpb25zKXt0aGlzLl9kYXRhPXt9O3ZhciBmPXQuYW5pbWF0aW9ucztmb3IodmFyIGcgaW4gZil7dmFyIF89e25hbWU6Z30sbT1mW2ddLHk9dm9pZCAwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBtKXk9Xy5mcmFtZXM9W21dO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShtKSlpZigxPT09bS5sZW5ndGgpXy5mcmFtZXM9W21bMF1dO2Vsc2V7Xy5zcGVlZD1tWzNdLF8ubmV4dD1tWzJdLHk9Xy5mcmFtZXM9W107Zm9yKHZhciB3PW1bMF07dzw9bVsxXTt3KyspeS5wdXNoKHcpfWVsc2V7Xy5zcGVlZD1tLnNwZWVkLF8ubmV4dD1tLm5leHQ7dmFyIHg9bS5mcmFtZXM7eT1fLmZyYW1lcz1cIm51bWJlclwiPT10eXBlb2YgeD9beF06eC5zbGljZSgwKX0hMCE9PV8ubmV4dCYmdm9pZCAwIT09Xy5uZXh0fHwoXy5uZXh0PWcpLCghMT09PV8ubmV4dHx8eS5sZW5ndGg8MiYmXy5uZXh0PT09ZykmJihfLm5leHQ9bnVsbCksXy5zcGVlZHx8KF8uc3BlZWQ9MSksdGhpcy5fYW5pbWF0aW9ucy5wdXNoKGcpLHRoaXMuX2RhdGFbZ109X319fX0sZS5wcm90b3R5cGUuX2hhbmRsZUltYWdlTG9hZD1mdW5jdGlvbih0KXswPT0tLXRoaXMuX2xvYWRDb3VudCYmKHRoaXMuX2NhbGN1bGF0ZUZyYW1lcygpLHRoaXMuY29tcGxldGU9ITAsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIikpfSxlLnByb3RvdHlwZS5faGFuZGxlSW1hZ2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaChcImVycm9yXCIpO2Uuc3JjPXQsdGhpcy5kaXNwYXRjaEV2ZW50KGUpLDA9PS0tdGhpcy5fbG9hZENvdW50JiZ0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKX0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUZyYW1lcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9mcmFtZXMmJjAhPT10aGlzLl9mcmFtZVdpZHRoKXt0aGlzLl9mcmFtZXM9W107dmFyIHQ9dGhpcy5fbnVtRnJhbWVzfHwxZTUsZT0wLGk9dGhpcy5fZnJhbWVXaWR0aCxuPXRoaXMuX2ZyYW1lSGVpZ2h0LHI9dGhpcy5fc3BhY2luZyxzPXRoaXMuX21hcmdpbjt0OmZvcih2YXIgbz0wLGE9dGhpcy5faW1hZ2VzLGg9YS5sZW5ndGg7bzxoO28rKylmb3IodmFyIGw9YVtvXSx1PWwud2lkdGh8fGwubmF0dXJhbFdpZHRoLGM9bC5oZWlnaHR8fGwubmF0dXJhbEhlaWdodCxwPXM7cDw9Yy1zLW47KXtmb3IodmFyIGQ9cztkPD11LXMtaTspe2lmKGU+PXQpYnJlYWsgdDtlKyssdGhpcy5fZnJhbWVzLnB1c2goe2ltYWdlOmwscmVjdDpuZXcgdihkLHAsaSxuKSxyZWdYOnRoaXMuX3JlZ1gscmVnWTp0aGlzLl9yZWdZfSksZCs9aStyfXArPW4rcn10aGlzLl9udW1GcmFtZXM9ZX19LHIoZSxbe2tleTpcImFuaW1hdGlvbnNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9ucy5zbGljZSgpfX1dKSxlfShsKSx0dD17c3RhcnQ6MCxsZWZ0OjAsY2VudGVyOi0uNSxlbmQ6LTEscmlnaHQ6LTF9LGV0PXt0b3A6MCxoYW5naW5nOi0uMDEsbWlkZGxlOi0uNCxhbHBoYWJldGljOi0uOCxpZGVvZ3JhcGhpYzotLjg1LGJvdHRvbTotMX0saXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShpLHIscyl7bih0aGlzLGUpO3ZhciBhPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBhLnRleHQ9aSxhLmZvbnQ9cixhLmNvbG9yPXMsYS50ZXh0QWxpZ249XCJsZWZ0XCIsYS50ZXh0QmFzZWxpbmU9XCJ0b3BcIixhLm1heFdpZHRoPW51bGwsYS5vdXRsaW5lPTAsYS5saW5lSGVpZ2h0PTAsYS5saW5lV2lkdGg9bnVsbCxhfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYWNoZUNhbnZhc3x8bnVsbCE9dGhpcy50ZXh0JiZcIlwiIT09dGhpcy50ZXh0O3JldHVybiEhKHRoaXMudmlzaWJsZSYmdGhpcy5hbHBoYT4wJiYwIT10aGlzLnNjYWxlWCYmMCE9dGhpcy5zY2FsZVkmJnQpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUsaSl7aWYodC5wcm90b3R5cGUuZHJhdy5jYWxsKHRoaXMsZSxpKSlyZXR1cm4hMDt2YXIgbj10aGlzLmNvbG9yfHxcIiMwMDBcIjtyZXR1cm4gdGhpcy5vdXRsaW5lPyhlLnN0cm9rZVN0eWxlPW4sZS5saW5lV2lkdGg9MSp0aGlzLm91dGxpbmUpOmUuZmlsbFN0eWxlPW4sdGhpcy5fZHJhd1RleHQodGhpcy5fcHJlcENvbnRleHQoZSkpLCEwfSxlLnByb3RvdHlwZS5nZXRNZWFzdXJlZFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldE1lYXN1cmVkV2lkdGgodGhpcy50ZXh0KX0sZS5wcm90b3R5cGUuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIDEuMip0aGlzLl9nZXRNZWFzdXJlZFdpZHRoKFwiTVwiKX0sZS5wcm90b3R5cGUuZ2V0TWVhc3VyZWRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1RleHQobnVsbCx7fSkuaGVpZ2h0fSxlLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgaT10LnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzKTtpZihpKXJldHVybiBpO2lmKG51bGw9PXRoaXMudGV4dHx8XCJcIj09PXRoaXMudGV4dClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLl9kcmF3VGV4dChudWxsLHt9KSxyPXRoaXMubWF4V2lkdGgmJnRoaXMubWF4V2lkdGg8bi53aWR0aD90aGlzLm1heFdpZHRoOm4ud2lkdGgscz1yKmUuSF9PRkZTRVRTW3RoaXMudGV4dEFsaWdufHxcImxlZnRcIl0sbz0odGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpKSplLlZfT0ZGU0VUU1t0aGlzLnRleHRCYXNlbGluZXx8XCJ0b3BcIl07cmV0dXJuIHRoaXMuX3JlY3RhbmdsZS5zZXRWYWx1ZXMocyxvLHIsbi5oZWlnaHQpfSxlLnByb3RvdHlwZS5nZXRNZXRyaWNzPWZ1bmN0aW9uKCl7dmFyIHQ9e2xpbmVzOltdfTtyZXR1cm4gdC5saW5lSGVpZ2h0PXRoaXMubGluZUhlaWdodHx8dGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKSx0LnZPZmZzZXQ9dC5saW5lSGVpZ2h0KmUuVl9PRkZTRVRTW3RoaXMudGV4dEJhc2VsaW5lfHxcInRvcFwiXSx0aGlzLl9kcmF3VGV4dChudWxsLHQsdC5saW5lcyl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IGUodGhpcy50ZXh0LHRoaXMuZm9udCx0aGlzLmNvbG9yKSl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiICh0ZXh0PVwiKyh0aGlzLnRleHQubGVuZ3RoPjIwP3RoaXMudGV4dC5zdWJzdHIoMCwxNykrXCIuLi5cIjp0aGlzLnRleHQpK1wiKV1cIn0sZS5wcm90b3R5cGUuX2Nsb25lUHJvcHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLl9jbG9uZVByb3BzLmNhbGwodGhpcyxlKSxlLnRleHRBbGlnbj10aGlzLnRleHRBbGlnbixlLnRleHRCYXNlbGluZT10aGlzLnRleHRCYXNlbGluZSxlLm1heFdpZHRoPXRoaXMubWF4V2lkdGgsZS5vdXRsaW5lPXRoaXMub3V0bGluZSxlLmxpbmVIZWlnaHQ9dGhpcy5saW5lSGVpZ2h0LGUubGluZVdpZHRoPXRoaXMubGluZVdpZHRoLGV9LGUucHJvdG90eXBlLl9wcmVwQ29udGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5mb250PXRoaXMuZm9udHx8XCIxMHB4IHNhbnMtc2VyaWZcIix0LnRleHRBbGlnbj10aGlzLnRleHRBbGlnbnx8XCJsZWZ0XCIsdC50ZXh0QmFzZWxpbmU9dGhpcy50ZXh0QmFzZWxpbmV8fFwidG9wXCIsdC5saW5lSm9pbj1cIm1pdGVyXCIsdC5taXRlckxpbWl0PTIuNSx0fSxlLnByb3RvdHlwZS5fZHJhd1RleHQ9ZnVuY3Rpb24odCxpLG4pe3ZhciByPSEhdDtyfHwoKHQ9ZS5fd29ya2luZ0NvbnRleHQpLnNhdmUoKSx0aGlzLl9wcmVwQ29udGV4dCh0KSk7dmFyIHM9dGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpLG89MCxhPTAsaD1TdHJpbmcodGhpcy50ZXh0KS5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyksbD1BcnJheS5pc0FycmF5KGgpLHU9MDtmb3IoaD1sP2g6aFtTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIGM7aWYobCl7aWYodT49aC5sZW5ndGgpYnJlYWs7Yz1oW3UrK119ZWxzZXtpZigodT1oLm5leHQoKSkuZG9uZSlicmVhaztjPXUudmFsdWV9dmFyIHA9YyxkPW51bGw7aWYobnVsbCE9dGhpcy5saW5lV2lkdGgmJihkPXQubWVhc3VyZVRleHQocCkud2lkdGgpPnRoaXMubGluZVdpZHRoKXt2YXIgZj1wLnNwbGl0KC8oXFxzKS8pO3A9ZlswXSxkPXQubWVhc3VyZVRleHQocCkud2lkdGg7Zm9yKHZhciB2PWYubGVuZ3RoLGc9MTtnPHY7Zys9Mil7dmFyIF89dC5tZWFzdXJlVGV4dChmW2ddK2ZbZysxXSkud2lkdGg7ZCtfPnRoaXMubGluZVdpZHRoPyhyJiZ0aGlzLl9kcmF3VGV4dExpbmUodCxwLGEqcyksbiYmbi5wdXNoKHApLGQ+byYmKG89ZCkscD1mW2crMV0sZD10Lm1lYXN1cmVUZXh0KHApLndpZHRoLGErKyk6KHArPWZbZ10rZltnKzFdLGQrPV8pfX1yJiZ0aGlzLl9kcmF3VGV4dExpbmUodCxwLGEqcyksbiYmbi5wdXNoKHApLGkmJm51bGw9PWQmJihkPXQubWVhc3VyZVRleHQocCkud2lkdGgpLGQ+byYmKG89ZCksYSsrfXJldHVybiBpJiYoaS53aWR0aD1vLGkuaGVpZ2h0PWEqcykscnx8dC5yZXN0b3JlKCksaX0sZS5wcm90b3R5cGUuX2RyYXdUZXh0TGluZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5vdXRsaW5lP3Quc3Ryb2tlVGV4dChlLDAsaSx0aGlzLm1heFdpZHRofHw2NTUzNSk6dC5maWxsVGV4dChlLDAsaSx0aGlzLm1heFdpZHRofHw2NTUzNSl9LGUucHJvdG90eXBlLl9nZXRNZWFzdXJlZFdpZHRoPWZ1bmN0aW9uKHQpe3ZhciBpPWUuX3dvcmtpbmdDb250ZXh0O2kuc2F2ZSgpO3ZhciBuPXRoaXMuX3ByZXBDb250ZXh0KGkpLm1lYXN1cmVUZXh0KHQpLndpZHRoO3JldHVybiBpLnJlc3RvcmUoKSxufSxyKGUsbnVsbCxbe2tleTpcIkhfT0ZGU0VUU1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0dH19LHtrZXk6XCJWX09GRlNFVFNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZXR9fV0pLGV9KG0pLG50PXdpbmRvdy5jcmVhdGVqcyYmY3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bnQuZ2V0Q29udGV4dCYmKGl0Ll93b3JraW5nQ29udGV4dD1udC5nZXRDb250ZXh0KFwiMmRcIiksbnQud2lkdGg9bnQuaGVpZ2h0PTEpO3ZhciBydD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe24odGhpcyxlKTt2YXIgcj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5hbHBoYU1hcD1pLHIuX2FscGhhTWFwPW51bGwsci5fbWFwRGF0YT1udWxsLHIuX21hcFRleHR1cmU9bnVsbCxyLkZSQUdfU0hBREVSX0JPRFk9XCJcXG5cXHRcXHRcXHR1bmlmb3JtIHNhbXBsZXIyRCB1QWxwaGFTYW1wbGVyO1xcblxcblxcdFxcdFxcdHZvaWQgbWFpbiAodm9pZCkge1xcblxcdFxcdFxcdFxcdHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7XFxuXFx0XFx0XFx0XFx0dmVjNCBhbHBoYU1hcCA9IHRleHR1cmUyRCh1QWxwaGFTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBzb21lIGltYWdlIGZvcm1hdHMgY2FuIGhhdmUgdHJhbnNwYXJlbnQgd2hpdGUgcmdiYSgxLDEsMSwgMCkgd2hlbiBwdXQgb24gdGhlIEdQVSwgdGhpcyBtZWFucyB3ZSBuZWVkIGEgc2xpZ2h0IHR3ZWFrXFxuXFx0XFx0XFx0XFx0Ly8gdXNpbmcgY2VpbCBlbnN1cmUgdGhhdCB0aGUgY29sb3VyIHdpbGwgYmUgdXNlZCBzbyBsb25nIGFzIGl0IGV4aXN0cyBidXQgcHVyZSB0cmFuc3BhcmVuY3kgd2lsbCBiZSB0cmVhdGVkIGJsYWNrXFxuXFx0XFx0XFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiAoYWxwaGFNYXAuciAqIGNlaWwoYWxwaGFNYXAuYSkpKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XCIscn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnNoYWRlclBhcmFtU2V0dXA9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX21hcFRleHR1cmV8fCh0aGlzLl9tYXBUZXh0dXJlPXQuY3JlYXRlVGV4dHVyZSgpKSx0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMSksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsdGhpcy5fbWFwVGV4dHVyZSksZS5zZXRUZXh0dXJlUGFyYW1zKHQpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSx0aGlzLmFscGhhTWFwKSx0LnVuaWZvcm0xaSh0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUFscGhhU2FtcGxlclwiKSwxKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZSh0aGlzLmFscGhhTWFwKTtyZXR1cm4gdC5fYWxwaGFNYXA9dGhpcy5fYWxwaGFNYXAsdC5fbWFwRGF0YT10aGlzLl9tYXBEYXRhLHR9LGUucHJvdG90eXBlLl9hcHBseUZpbHRlcj1mdW5jdGlvbih0KXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMDtpZighdGhpcy5fcHJlcEFscGhhTWFwKCkpcmV0dXJuITE7Zm9yKHZhciBlPXQuZGF0YSxpPXRoaXMuX21hcERhdGEsbj1lLmxlbmd0aCxyPTA7cjxuO3IrPTQpZVtyKzNdPWlbcl18fDA7cmV0dXJuITB9LGUucHJvdG90eXBlLl9wcmVwQWxwaGFNYXA9ZnVuY3Rpb24oKXtpZighdGhpcy5hbHBoYU1hcClyZXR1cm4hMTtpZih0aGlzLmFscGhhTWFwPT09dGhpcy5fYWxwaGFNYXAmJnRoaXMuX21hcERhdGEpcmV0dXJuITA7dGhpcy5fbWFwRGF0YT1udWxsO3ZhciB0PXRoaXMuX2FscGhhTWFwPXRoaXMuYWxwaGFNYXAsZT10LGk9dm9pZCAwO3QgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD9pPWUuZ2V0Q29udGV4dChcIjJkXCIpOigoZT13aW5kb3cuY3JlYXRlanMmJmNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKS53aWR0aD10LndpZHRoLGUuaGVpZ2h0PXQuaGVpZ2h0LChpPWUuZ2V0Q29udGV4dChcIjJkXCIpKS5kcmF3SW1hZ2UodCwwLDApKTt0cnl7cmV0dXJuIHRoaXMuX21hcERhdGE9aS5nZXRJbWFnZURhdGEoMCwwLHQud2lkdGgsdC5oZWlnaHQpLmRhdGEsITB9Y2F0Y2godCl7cmV0dXJuITF9fSxlfShnKSxzdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe24odGhpcyxlKTt2YXIgcj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5tYXNrPWksci51c2VzQ29udGV4dD0hMCxyLkZSQUdfU0hBREVSX0JPRFk9XCJcXG5cXHRcXHRcXHR1bmlmb3JtIHNhbXBsZXIyRCB1QWxwaGFTYW1wbGVyO1xcblxcblxcdFxcdFxcdHZvaWQgbWFpbiAodm9pZCkge1xcblxcdFxcdFxcdFxcdHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7XFxuXFx0XFx0XFx0XFx0dmVjNCBhbHBoYU1hcCA9IHRleHR1cmUyRCh1QWxwaGFTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIGFscGhhTWFwLmEpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcIixyfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCxlLGksbixyLHMsbyxhKXtyZXR1cm4hdGhpcy5tYXNrfHwocz1zfHx0LG51bGw9PW8mJihvPWUpLG51bGw9PWEmJihhPWkpLHMuc2F2ZSgpLHQ9PXMmJihzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImRlc3RpbmF0aW9uLWluXCIscy5kcmF3SW1hZ2UodGhpcy5tYXNrLG8sYSkscy5yZXN0b3JlKCksITApKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5tYXNrKX0sZS5wcm90b3R5cGUuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dGhpcy5fbWFwVGV4dHVyZXx8KHRoaXMuX21hcFRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCkpLHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUxKSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCx0aGlzLl9tYXBUZXh0dXJlKSxlLnNldFRleHR1cmVQYXJhbXModCksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLHRoaXMubWFzayksdC51bmlmb3JtMWkodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVBbHBoYVNhbXBsZXJcIiksMSl9LGV9KGcpLG90PVsxLDE3MSwyMDUsMjkzLDU3LDM3Myw3OSwxMzcsMjQxLDI3LDM5MSwzNTcsNDEsMTksMjgzLDI2NSw0OTcsNDY5LDQ0Myw0MjEsMjUsMTkxLDM2NSwzNDksMzM1LDE2MSwxNTUsMTQ5LDksMjc4LDI2OSwyNjEsNTA1LDI0NSw0NzUsMjMxLDQ0OSw0MzcsMjEzLDQxNSw0MDUsMzk1LDE5MywzNzcsMzY5LDM2MSwzNTMsMzQ1LDE2OSwzMzEsMzI1LDMxOSwzMTMsMzA3LDMwMSwzNywxNDUsMjg1LDI4MSw2OSwyNzEsMjY3LDI2MywyNTksNTA5LDUwMSw0OTMsMjQzLDQ3OSwxMTgsNDY1LDQ1OSwxMTMsNDQ2LDU1LDQzNSw0MjksNDIzLDIwOSw0MTMsNTEsNDAzLDE5OSwzOTMsOTcsMywzNzksMzc1LDM3MSwzNjcsMzYzLDM1OSwzNTUsMzUxLDM0Nyw0Myw4NSwzMzcsMzMzLDE2NSwzMjcsMzIzLDUsMzE3LDE1NywzMTEsNzcsMzA1LDMwMyw3NSwyOTcsMjk0LDczLDI4OSwyODcsNzEsMTQxLDI3OSwyNzcsMjc1LDY4LDEzNSw2NywxMzMsMzMsMjYyLDI2MCwxMjksNTExLDUwNyw1MDMsNDk5LDQ5NSw0OTEsNjEsMTIxLDQ4MSw0NzcsMjM3LDIzNSw0NjcsMjMyLDExNSw0NTcsMjI3LDQ1MSw3LDQ0NSwyMjEsNDM5LDIxOCw0MzMsMjE1LDQyNyw0MjUsMjExLDQxOSw0MTcsMjA3LDQxMSw0MDksMjAzLDIwMiw0MDEsMzk5LDM5NiwxOTcsNDksMzg5LDM4NywzODUsMzgzLDk1LDE4OSw0NywxODcsOTMsMTg1LDIzLDE4Myw5MSwxODEsNDUsMTc5LDg5LDE3NywxMSwxNzUsODcsMTczLDM0NSwzNDMsMzQxLDMzOSwzMzcsMjEsMTY3LDgzLDMzMSwzMjksMzI3LDE2Myw4MSwzMjMsMzIxLDMxOSwxNTksNzksMzE1LDMxMywzOSwxNTUsMzA5LDMwNywxNTMsMzA1LDMwMywxNTEsNzUsMjk5LDE0OSwzNywyOTUsMTQ3LDczLDI5MSwxNDUsMjg5LDI4NywxNDMsMjg1LDcxLDE0MSwyODEsMzUsMjc5LDEzOSw2OSwyNzUsMTM3LDI3MywxNywyNzEsMTM1LDI2OSwyNjcsMTMzLDI2NSwzMywyNjMsMTMxLDI2MSwxMzAsMjU5LDEyOSwyNTcsMV0sYXQ9WzAsOSwxMCwxMSw5LDEyLDEwLDExLDEyLDksMTMsMTMsMTAsOSwxMywxMywxNCwxNCwxNCwxNCwxMCwxMywxNCwxNCwxNCwxMywxMywxMyw5LDE0LDE0LDE0LDE1LDE0LDE1LDE0LDE1LDE1LDE0LDE1LDE1LDE1LDE0LDE1LDE1LDE1LDE1LDE1LDE0LDE1LDE1LDE1LDE1LDE1LDE1LDEyLDE0LDE1LDE1LDEzLDE1LDE1LDE1LDE1LDE2LDE2LDE2LDE1LDE2LDE0LDE2LDE2LDE0LDE2LDEzLDE2LDE2LDE2LDE1LDE2LDEzLDE2LDE1LDE2LDE0LDksMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTMsMTQsMTYsMTYsMTUsMTYsMTYsMTAsMTYsMTUsMTYsMTQsMTYsMTYsMTQsMTYsMTYsMTQsMTYsMTYsMTQsMTUsMTYsMTYsMTYsMTQsMTUsMTQsMTUsMTMsMTYsMTYsMTUsMTcsMTcsMTcsMTcsMTcsMTcsMTQsMTUsMTcsMTcsMTYsMTYsMTcsMTYsMTUsMTcsMTYsMTcsMTEsMTcsMTYsMTcsMTYsMTcsMTYsMTcsMTcsMTYsMTcsMTcsMTYsMTcsMTcsMTYsMTYsMTcsMTcsMTcsMTYsMTQsMTcsMTcsMTcsMTcsMTUsMTYsMTQsMTYsMTUsMTYsMTMsMTYsMTUsMTYsMTQsMTYsMTUsMTYsMTIsMTYsMTUsMTYsMTcsMTcsMTcsMTcsMTcsMTMsMTYsMTUsMTcsMTcsMTcsMTYsMTUsMTcsMTcsMTcsMTYsMTUsMTcsMTcsMTQsMTYsMTcsMTcsMTYsMTcsMTcsMTYsMTUsMTcsMTYsMTQsMTcsMTYsMTUsMTcsMTYsMTcsMTcsMTYsMTcsMTUsMTYsMTcsMTQsMTcsMTYsMTUsMTcsMTYsMTcsMTMsMTcsMTYsMTcsMTcsMTYsMTcsMTQsMTcsMTYsMTcsMTYsMTcsMTYsMTcsOV0saHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTtuKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIGEuX2JsdXJYPWksYS5fYmx1clhUYWJsZT1bXSxhLl9sYXN0Qmx1clg9bnVsbCxhLl9ibHVyWT1yLGEuX2JsdXJZVGFibGU9W10sYS5fbGFzdEJsdXJZPW51bGwsYS5fcXVhbGl0eT1pc05hTihzKXx8czwxPzE6cyxhLl9sYXN0UXVhbGl0eT1udWxsLGEucXVhbGl0eT0wfGEuX3F1YWxpdHksYS5GUkFHX1NIQURFUl9URU1QTEFURT1cIlxcblxcdFxcdFxcdHVuaWZvcm0gZmxvYXQgeFdlaWdodFt7e2JsdXJYfX1dO1xcblxcdFxcdFxcdHVuaWZvcm0gZmxvYXQgeVdlaWdodFt7e2JsdXJZfX1dO1xcblxcdFxcdFxcdHVuaWZvcm0gdmVjMiB0ZXh0dXJlT2Zmc2V0O1xcblxcdFxcdFxcdHZvaWQgbWFpbiAodm9pZCkge1xcblxcdFxcdFxcdFxcdHZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgeEFkaiA9ICh7e2JsdXJYfX0uMC0xLjApLzIuMDtcXG5cXHRcXHRcXHRcXHRmbG9hdCB5QWRqID0gKHt7Ymx1cll9fS4wLTEuMCkvMi4wO1xcblxcdFxcdFxcdFxcdHZlYzIgc2FtcGxlT2Zmc2V0O1xcblxcblxcdFxcdFxcdFxcdGZvcihpbnQgaT0wOyBpPHt7Ymx1clh9fTsgaSsrKSB7XFxuXFx0XFx0XFx0XFx0XFx0Zm9yKGludCBqPTA7IGo8e3tibHVyWX19OyBqKyspIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRzYW1wbGVPZmZzZXQgPSB2UmVuZGVyQ29vcmQgKyAodGV4dHVyZU9mZnNldCAqIHZlYzIoZmxvYXQoaSkteEFkaiwgZmxvYXQoaikteUFkaikpO1xcblxcdFxcdFxcdFxcdFxcdFxcdGNvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgc2FtcGxlT2Zmc2V0KSAqICh4V2VpZ2h0W2ldICogeVdlaWdodFtqXSk7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRnbF9GcmFnQ29sb3IgPSBjb2xvci5yZ2JhO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcIixhfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dC51bmlmb3JtMWZ2KHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJ4V2VpZ2h0XCIpLHRoaXMuX2JsdXJYVGFibGUpLHQudW5pZm9ybTFmdih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwieVdlaWdodFwiKSx0aGlzLl9ibHVyWVRhYmxlKSx0LnVuaWZvcm0yZih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidGV4dHVyZU9mZnNldFwiKSwyLyhlLl92aWV3cG9ydFdpZHRoKnRoaXMuX3F1YWxpdHkpLDIvKGUuX3ZpZXdwb3J0SGVpZ2h0KnRoaXMuX3F1YWxpdHkpKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKHQpe3ZhciBlPTB8dGhpcy5ibHVyWCxpPTB8dGhpcy5ibHVyWTtpZihlPD0wJiZpPD0wKXJldHVybiB0O3ZhciBuPU1hdGgucG93KHRoaXMucXVhbGl0eSwuMik7cmV0dXJuKHR8fG5ldyB2KS5wYWQoaSpuKzEsZSpuKzEsaSpuKzEsZSpuKzEpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmJsdXJYLHRoaXMuYmx1clksdGhpcy5xdWFsaXR5KX0sZS5wcm90b3R5cGUuX3VwZGF0ZVNoYWRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuRlJBR19TSEFERVJfVEVNUExBVEU7dD0odD10LnJlcGxhY2UoL3t7Ymx1clh9fS9nLHRoaXMuX2JsdXJYVGFibGUubGVuZ3RoLnRvRml4ZWQoMCkpKS5yZXBsYWNlKC97e2JsdXJZfX0vZyx0aGlzLl9ibHVyWVRhYmxlLmxlbmd0aC50b0ZpeGVkKDApKSx0aGlzLkZSQUdfU0hBREVSX0JPRFk9dH0sZS5wcm90b3R5cGUuX2dldFRhYmxlPWZ1bmN0aW9uKHQpe2lmKHQ8PTEpcmV0dXJuWzFdO2Zvcih2YXIgZT1bXSxpPU1hdGguY2VpbCgyKnQpLG49KGkrPWklMj8wOjEpLzJ8MCxyPS1uO3I8PW47cisrKXt2YXIgcz1yL24qNC4yO2UucHVzaCgxL01hdGguc3FydCgyKk1hdGguUEkpKk1hdGgucG93KE1hdGguRSwtTWF0aC5wb3cocywyKS80KSl9dmFyIG89ZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSwwKTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQvb30pfSxlLnByb3RvdHlwZS5fYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fYmx1clg+PjE7aWYoaXNOYU4oaSl8fGk8MClyZXR1cm4hMTt2YXIgbj10aGlzLl9ibHVyWT4+MTtpZihpc05hTihuKXx8bjwwKXJldHVybiExO2lmKDA9PT1pJiYwPT09bilyZXR1cm4hMTt2YXIgcj10aGlzLnF1YWxpdHk7KGlzTmFOKHIpfHxyPDEpJiYocj0xKSwocnw9MCk+MyYmKHI9MykscjwxJiYocj0xKTt2YXIgcz10LmRhdGEsbz0wLGE9MCxoPTAsbD0wLHU9MCxjPTAscD0wLGQ9MCxmPTAsdj0wLGc9MCxfPTAsbT0wLHk9MCx3PTAseD1pK2krMXwwLGI9bituKzF8MCxFPTB8dC53aWR0aCxTPTB8dC5oZWlnaHQsVD1FLTF8MCxDPVMtMXwwLE09aSsxfDAsRD1uKzF8MCxMPXtyOjAsYjowLGc6MCxhOjB9LEk9TDtmb3IoaD0xO2g8eDtoKyspST1JLm49e3I6MCxiOjAsZzowLGE6MH07SS5uPUw7dmFyIEE9e3I6MCxiOjAsZzowLGE6MH0sUD1BO2ZvcihoPTE7aDxiO2grKylQPVAubj17cjowLGI6MCxnOjAsYTowfTtQLm49QTtmb3IodmFyIGs9bnVsbCxPPTB8ZS5NVUxfVEFCTEVbaV0sUj0wfGUuU0hHX1RBQkxFW2ldLEY9MHxlLk1VTF9UQUJMRVtuXSxCPTB8ZS5TSEdfVEFCTEVbbl07ci0tID4wOyl7cD1jPTA7dmFyIFg9TyxHPVI7Zm9yKGE9UzstLWE+LTE7KXtmb3IoZD1NKihfPXNbMHxjXSksZj1NKihtPXNbYysxfDBdKSx2PU0qKHk9c1tjKzJ8MF0pLGc9TSoodz1zW2MrM3wwXSksST1MLGg9TTstLWg+LTE7KUkucj1fLEkuZz1tLEkuYj15LEkuYT13LEk9SS5uO2ZvcihoPTE7aDxNO2grKylsPWMrKChUPGg/VDpoKTw8Mil8MCxkKz1JLnI9c1tsXSxmKz1JLmc9c1tsKzFdLHYrPUkuYj1zW2wrMl0sZys9SS5hPXNbbCszXSxJPUkubjtmb3Ioaz1MLG89MDtvPEU7bysrKXNbYysrXT1kKlg+Pj5HLHNbYysrXT1mKlg+Pj5HLHNbYysrXT12Klg+Pj5HLHNbYysrXT1nKlg+Pj5HLGw9cCsoKGw9bytpKzEpPFQ/bDpUKTw8MixkLT1rLnItKGsucj1zW2xdKSxmLT1rLmctKGsuZz1zW2wrMV0pLHYtPWsuYi0oay5iPXNbbCsyXSksZy09ay5hLShrLmE9c1tsKzNdKSxrPWsubjtwKz1FfWZvcihYPUYsRz1CLG89MDtvPEU7bysrKXtmb3IoZD1EKihfPXNbYz1vPDwyfDBdKXwwLGY9RCoobT1zW2MrMXwwXSl8MCx2PUQqKHk9c1tjKzJ8MF0pfDAsZz1EKih3PXNbYyszfDBdKXwwLFA9QSxoPTA7aDxEO2grKylQLnI9XyxQLmc9bSxQLmI9eSxQLmE9dyxQPVAubjtmb3IodT1FLGg9MTtoPD1uO2grKyljPXUrbzw8MixkKz1QLnI9c1tjXSxmKz1QLmc9c1tjKzFdLHYrPVAuYj1zW2MrMl0sZys9UC5hPXNbYyszXSxQPVAubixoPEMmJih1Kz1FKTtpZihjPW8saz1BLHI+MClmb3IoYT0wO2E8UzthKyspc1sobD1jPDwyKSszXT13PWcqWD4+Pkcsdz4wPyhzW2xdPWQqWD4+Pkcsc1tsKzFdPWYqWD4+Pkcsc1tsKzJdPXYqWD4+PkcpOnNbbF09c1tsKzFdPXNbbCsyXT0wLGw9bysoKGw9YStEKTxDP2w6QykqRTw8MixkLT1rLnItKGsucj1zW2xdKSxmLT1rLmctKGsuZz1zW2wrMV0pLHYtPWsuYi0oay5iPXNbbCsyXSksZy09ay5hLShrLmE9c1tsKzNdKSxrPWsubixjKz1FO2Vsc2UgZm9yKGE9MDthPFM7YSsrKXNbKGw9Yzw8MikrM109dz1nKlg+Pj5HLHc+MD8odz0yNTUvdyxzW2xdPShkKlg+Pj5HKSp3LHNbbCsxXT0oZipYPj4+RykqdyxzW2wrMl09KHYqWD4+PkcpKncpOnNbbF09c1tsKzFdPXNbbCsyXT0wLGw9bysoKGw9YStEKTxDP2w6QykqRTw8MixkLT1rLnItKGsucj1zW2xdKSxmLT1rLmctKGsuZz1zW2wrMV0pLHYtPWsuYi0oay5iPXNbbCsyXSksZy09ay5hLShrLmE9c1tsKzNdKSxrPWsubixjKz1FfX1yZXR1cm4hMH0scihlLFt7a2V5OlwiYmx1clhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1clh9LHNldDpmdW5jdGlvbih0KXsoaXNOYU4odCl8fHQ8MCkmJih0PTApLHRoaXMuX2JsdXJYPXR9fSx7a2V5OlwiYmx1cllcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1cll9LHNldDpmdW5jdGlvbih0KXsoaXNOYU4odCl8fHQ8MCkmJih0PTApLHRoaXMuX2JsdXJZPXR9fSx7a2V5OlwicXVhbGl0eVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWFsaXR5fSxzZXQ6ZnVuY3Rpb24odCl7KGlzTmFOKHQpfHx0PDApJiYodD0wKSx0aGlzLl9xdWFsaXR5PTB8dH19LHtrZXk6XCJfYnVpbGRTaGFkZXJcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXN0Qmx1clghPT10aGlzLl9ibHVyWCxlPXRoaXMuX2xhc3RCbHVyWSE9PXRoaXMuX2JsdXJZLGk9dGhpcy5fbGFzdFF1YWxpdHkhPT10aGlzLl9xdWFsaXR5O3JldHVybiB0fHxlfHxpPygodHx8aSkmJih0aGlzLl9ibHVyWFRhYmxlPXRoaXMuX2dldFRhYmxlKHRoaXMuX2JsdXJYKnRoaXMuX3F1YWxpdHkpKSwoZXx8aSkmJih0aGlzLl9ibHVyWVRhYmxlPXRoaXMuX2dldFRhYmxlKHRoaXMuX2JsdXJZKnRoaXMuX3F1YWxpdHkpKSx0aGlzLl91cGRhdGVTaGFkZXIoKSx0aGlzLl9sYXN0Qmx1clg9dGhpcy5fYmx1clgsdGhpcy5fbGFzdEJsdXJZPXRoaXMuX2JsdXJZLHZvaWQodGhpcy5fbGFzdFF1YWxpdHk9dGhpcy5fcXVhbGl0eSkpOnRoaXMuX2NvbXBpbGVkU2hhZGVyfX0se2tleTpcIl9idWlsdFNoYWRlclwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb21waWxlZFNoYWRlcn19XSxbe2tleTpcIk1VTF9UQUJMRVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBvdH19LHtrZXk6XCJTSEdfVEFCTEVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXR9fV0pLGV9KGcpLGx0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxLHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsYT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxoPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLGw9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjAsdT1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06MCxjPWFyZ3VtZW50cy5sZW5ndGg+NyYmdm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTowO24odGhpcyxlKTt2YXIgcD1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gcC5yZWRNdWx0aXBsaWVyPWkscC5ncmVlbk11bHRpcGxpZXI9cixwLmJsdWVNdWx0aXBsaWVyPXMscC5hbHBoYU11bHRpcGxpZXI9YSxwLnJlZE9mZnNldD1oLHAuZ3JlZW5PZmZzZXQ9bCxwLmJsdWVPZmZzZXQ9dSxwLmFscGhhT2Zmc2V0PWMscC5GUkFHX1NIQURFUl9CT0RZPVwiXFxuXFx0XFx0XFx0dW5pZm9ybSB2ZWM0IHVDb2xvck11bHRpcGxpZXI7XFxuXFx0XFx0XFx0dW5pZm9ybSB2ZWM0IHVDb2xvck9mZnNldDtcXG5cXG5cXHRcXHRcXHR2b2lkIG1haW4gKHZvaWQpIHtcXG5cXHRcXHRcXHRcXHR2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO1xcblxcblxcdFxcdFxcdFxcdGdsX0ZyYWdDb2xvciA9IChjb2xvciAqIHVDb2xvck11bHRpcGxpZXIpICsgdUNvbG9yT2Zmc2V0O1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcIixwfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dC51bmlmb3JtNGYodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVDb2xvck11bHRpcGxpZXJcIiksdGhpcy5yZWRNdWx0aXBsaWVyLHRoaXMuZ3JlZW5NdWx0aXBsaWVyLHRoaXMuYmx1ZU11bHRpcGxpZXIsdGhpcy5hbHBoYU11bHRpcGxpZXIpLHQudW5pZm9ybTRmKHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGksXCJ1Q29sb3JPZmZzZXRcIiksdGhpcy5yZWRPZmZzZXQvMjU1LHRoaXMuZ3JlZW5PZmZzZXQvMjU1LHRoaXMuYmx1ZU9mZnNldC8yNTUsdGhpcy5hbHBoYU9mZnNldC8yNTUpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLnJlZE11bHRpcGxpZXIsdGhpcy5ncmVlbk11bHRpcGxpZXIsdGhpcy5ibHVlTXVsdGlwbGllcix0aGlzLmFscGhhTXVsdGlwbGllcix0aGlzLnJlZE9mZnNldCx0aGlzLmdyZWVuT2Zmc2V0LHRoaXMuYmx1ZU9mZnNldCx0aGlzLmFscGhhT2Zmc2V0KX0sZS5wcm90b3R5cGUuX2FwcGx5RmlsdGVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmRhdGEsaT1lLmxlbmd0aCxuPTA7bjxpO24rPTQpZVtuXT1lW25dKnRoaXMucmVkTXVsdGlwbGllcit0aGlzLnJlZE9mZnNldCxlW24rMV09ZVtuKzFdKnRoaXMuZ3JlZW5NdWx0aXBsaWVyK3RoaXMuZ3JlZW5PZmZzZXQsZVtuKzJdPWVbbisyXSp0aGlzLmJsdWVNdWx0aXBsaWVyK3RoaXMuYmx1ZU9mZnNldCxlW24rM109ZVtuKzNdKnRoaXMuYWxwaGFNdWx0aXBsaWVyK3RoaXMuYWxwaGFPZmZzZXQ7cmV0dXJuITB9LGV9KGcpLHV0PVswLC4wMSwuMDIsLjA0LC4wNSwuMDYsLjA3LC4wOCwuMSwuMTEsLjEyLC4xNCwuMTUsLjE2LC4xNywuMTgsLjIsLjIxLC4yMiwuMjQsLjI1LC4yNywuMjgsLjMsLjMyLC4zNCwuMzYsLjM4LC40LC40MiwuNDQsLjQ2LC40OCwuNSwuNTMsLjU2LC41OSwuNjIsLjY1LC42OCwuNzEsLjc0LC43NywuOCwuODMsLjg2LC44OSwuOTIsLjk1LC45OCwxLDEuMDYsMS4xMiwxLjE4LDEuMjQsMS4zLDEuMzYsMS40MiwxLjQ4LDEuNTQsMS42LDEuNjYsMS43MiwxLjc4LDEuODQsMS45LDEuOTYsMiwyLjEyLDIuMjUsMi4zNywyLjUsMi42MiwyLjc1LDIuODcsMywzLjIsMy40LDMuNiwzLjgsNCw0LjMsNC43LDQuOSw1LDUuNSw2LDYuNSw2LjgsNyw3LjMsNy41LDcuOCw4LDguNCw4LjcsOSw5LjQsOS42LDkuOCwxMF0sY3Q9WzEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDFdLHB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkscixzKXtuKHRoaXMsdCksdGhpcy5zZXRDb2xvcihlLGkscixzKX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0Q29sb3I9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMucmVzZXQoKS5hZGp1c3RDb2xvcih0LGUsaSxuKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5KHQuSURFTlRJVFlfTUFUUklYKX0sdC5wcm90b3R5cGUuYWRqdXN0Q29sb3I9ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHRoaXMuYWRqdXN0SHVlKG4pLHRoaXMuYWRqdXN0Q29udHJhc3QoZSksdGhpcy5hZGp1c3RCcmlnaHRuZXNzKHQpLHRoaXMuYWRqdXN0U2F0dXJhdGlvbihpKX0sdC5wcm90b3R5cGUuYWRqdXN0QnJpZ2h0bmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXR8fGlzTmFOKHQpP3RoaXM6KHQ9dGhpcy5fY2xlYW5WYWx1ZSh0LDI1NSksdGhpcy5fbXVsdGlwbHlNYXRyaXgoWzEsMCwwLDAsdCwwLDEsMCwwLHQsMCwwLDEsMCx0LDAsMCwwLDEsMCwwLDAsMCwwLDFdKSx0aGlzKX0sdC5wcm90b3R5cGUuYWRqdXN0Q29udHJhc3Q9ZnVuY3Rpb24oZSl7aWYoMD09PWV8fGlzTmFOKGUpKXJldHVybiB0aGlzO3ZhciBpPXZvaWQgMDtyZXR1cm4gaT0oZT10aGlzLl9jbGVhblZhbHVlKGUsMTAwKSk8MD8xMjcrZS8xMDAqMTI3OjEyNyooaT0wPT09KGk9ZSUxKT90LkRFTFRBX0lOREVYW2VdOnQuREVMVEFfSU5ERVhbZTw8MF0qKDEtaSkrdC5ERUxUQV9JTkRFWFsxKyhlPDwwKV0qaSkrMTI3LHRoaXMuX211bHRpcGx5TWF0cml4KFtpLzEyNywwLDAsMCwuNSooMTI3LWkpLDAsaS8xMjcsMCwwLC41KigxMjctaSksMCwwLGkvMTI3LDAsLjUqKDEyNy1pKSwwLDAsMCwxLDAsMCwwLDAsMCwxXSksdGhpc30sdC5wcm90b3R5cGUuYWRqdXN0U2F0dXJhdGlvbj1mdW5jdGlvbih0KXtpZigwPT09dHx8aXNOYU4odCkpcmV0dXJuIHRoaXM7dmFyIGU9MSsoKHQ9dGhpcy5fY2xlYW5WYWx1ZSh0LDEwMCkpPjA/Myp0LzEwMDp0LzEwMCk7cmV0dXJuIHRoaXMuX211bHRpcGx5TWF0cml4KFsuMzA4NiooMS1lKStlLC42MDk0KigxLWUpLC4wODIqKDEtZSksMCwwLC4zMDg2KigxLWUpLC42MDk0KigxLWUpK2UsLjA4MiooMS1lKSwwLDAsLjMwODYqKDEtZSksLjYwOTQqKDEtZSksLjA4MiooMS1lKStlLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwxXSksdGhpc30sdC5wcm90b3R5cGUuYWRqdXN0SHVlPWZ1bmN0aW9uKHQpe2lmKDA9PT10fHxpc05hTih0KSlyZXR1cm4gdGhpczt0PXRoaXMuX2NsZWFuVmFsdWUodCwxODApLzE4MCpNYXRoLlBJO3ZhciBlPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuX211bHRpcGx5TWF0cml4KFsuMjEzKy43ODcqZSstLjIxMyppLC43MTUrLS43MTUqZSstLjcxNSppLC4wNzIrLS4wNzIqZSsuOTI4KmksMCwwLC4yMTMrLS4yMTMqZSsuMTQzKmksLjcxNStlKigxLS43MTUpKy4xNCppLC4wNzIrLS4wNzIqZSstLjI4MyppLDAsMCwuMjEzKy0uMjEzKmUrLS43ODcqaSwuNzE1Ky0uNzE1KmUrLjcxNSppLC4wNzIrLjkyOCplKy4wNzIqaSwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMV0pLHRoaXN9LHQucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihlKXtyZXR1cm4oZT10aGlzLl9maXhNYXRyaXgoZSkpLmxlbmd0aCE9dC5MRU5HVEg/dGhpczoodGhpcy5fbXVsdGlwbHlNYXRyaXgoZSksdGhpcyl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0KS5jb3B5KHRoaXMpfSx0LnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLGk9dC5MRU5HVEgsbj0wO248aTtuKyspZVtuXT10aGlzW25dO3JldHVybiBlfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT10LkxFTkdUSCxuPTA7bjxpO24rKyl0aGlzW25dPWVbbl07cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiXVwifSx0LnByb3RvdHlwZS5fbXVsdGlwbHlNYXRyaXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPDU7aSsrKXtmb3IodmFyIG49MDtuPDU7bisrKWVbbl09dGhpc1tuKzUqaV07Zm9yKHZhciByPTA7cjw1O3IrKyl7Zm9yKHZhciBzPTAsbz0wO288NTtvKyspcys9dFtyKzUqb10qZVtvXTt0aGlzW3IrNSppXT1zfX19LHQucHJvdG90eXBlLl9jbGVhblZhbHVlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKGUsTWF0aC5tYXgoLWUsdCkpfSx0LnByb3RvdHlwZS5fZml4TWF0cml4PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmKGU9ZS50b0FycmF5KCkpLGUubGVuZ3RoPHQuTEVOR1RIP2U9ZS5zbGljZSgwLGUubGVuZ3RoKS5jb25jYXQodC5JREVOVElUWV9NQVRSSVguc2xpY2UoZS5sZW5ndGgsdC5MRU5HVEgpKTplLmxlbmd0aD50LkxFTkdUSCYmKGU9ZS5zbGljZSgwLHQuTEVOR1RIKSksZX0scih0LG51bGwsW3trZXk6XCJERUxUQV9JTkRFWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1dH19LHtrZXk6XCJJREVOVElUWV9NQVRSSVhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY3R9fSx7a2V5OlwiTEVOR1RIXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDI1fX1dKSx0fSgpLGR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSl7bih0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLm1hdHJpeD1pLHIuRlJBR19TSEFERVJfQk9EWT1cIlxcblxcdFxcdFxcdHVuaWZvcm0gbWF0NCB1Q29sb3JNYXRyaXg7XFxuXFx0XFx0XFx0dW5pZm9ybSB2ZWM0IHVDb2xvck1hdHJpeE9mZnNldDtcXG5cXG5cXHRcXHRcXHR2b2lkIG1haW4gKHZvaWQpIHtcXG5cXHRcXHRcXHRcXHR2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO1xcblxcblxcdFxcdFxcdFxcdG1hdDQgbSA9IHVDb2xvck1hdHJpeDtcXG5cXHRcXHRcXHRcXHR2ZWM0IG5ld0NvbG9yID0gdmVjNCgwLDAsMCwwKTtcXG5cXHRcXHRcXHRcXHRuZXdDb2xvci5yID0gY29sb3IuciptWzBdWzBdICsgY29sb3IuZyptWzBdWzFdICsgY29sb3IuYiptWzBdWzJdICsgY29sb3IuYSptWzBdWzNdO1xcblxcdFxcdFxcdFxcdG5ld0NvbG9yLmcgPSBjb2xvci5yKm1bMV1bMF0gKyBjb2xvci5nKm1bMV1bMV0gKyBjb2xvci5iKm1bMV1bMl0gKyBjb2xvci5hKm1bMV1bM107XFxuXFx0XFx0XFx0XFx0bmV3Q29sb3IuYiA9IGNvbG9yLnIqbVsyXVswXSArIGNvbG9yLmcqbVsyXVsxXSArIGNvbG9yLmIqbVsyXVsyXSArIGNvbG9yLmEqbVsyXVszXTtcXG5cXHRcXHRcXHRcXHRuZXdDb2xvci5hID0gY29sb3IuciptWzNdWzBdICsgY29sb3IuZyptWzNdWzFdICsgY29sb3IuYiptWzNdWzJdICsgY29sb3IuYSptWzNdWzNdO1xcblxcblxcdFxcdFxcdFxcdGdsX0ZyYWdDb2xvciA9IG5ld0NvbG9yICsgdUNvbG9yTWF0cml4T2Zmc2V0O1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcIixyfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuc2hhZGVyUGFyYW1TZXR1cD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5tYXRyaXgscj1uZXcgRmxvYXQzMkFycmF5KFtuWzBdLG5bMV0sblsyXSxuWzNdLG5bNV0sbls2XSxuWzddLG5bOF0sblsxMF0sblsxMV0sblsxMl0sblsxM10sblsxNV0sblsxNl0sblsxN10sblsxOF1dKTt0LnVuaWZvcm1NYXRyaXg0ZnYodC5nZXRVbmlmb3JtTG9jYXRpb24oaSxcInVDb2xvck1hdHJpeFwiKSwhMSxyKSx0LnVuaWZvcm00Zih0LmdldFVuaWZvcm1Mb2NhdGlvbihpLFwidUNvbG9yTWF0cml4T2Zmc2V0XCIpLG5bNF0vMjU1LG5bOV0vMjU1LG5bMTRdLzI1NSxuWzE5XS8yNTUpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLm1hdHJpeCl9LGUucHJvdG90eXBlLl9hcHBseUZpbHRlcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5kYXRhLGk9ZS5sZW5ndGgsbj12b2lkIDAscj12b2lkIDAscz12b2lkIDAsbz12b2lkIDAsYT10aGlzLm1hdHJpeCxoPWFbMF0sbD1hWzFdLHU9YVsyXSxjPWFbM10scD1hWzRdLGQ9YVs1XSxmPWFbNl0sdj1hWzddLGc9YVs4XSxfPWFbOV0sbT1hWzEwXSx5PWFbMTFdLHc9YVsxMl0seD1hWzEzXSxiPWFbMTRdLEU9YVsxNV0sUz1hWzE2XSxUPWFbMTddLEM9YVsxOF0sTT1hWzE5XSxEPTA7RDxpO0QrPTQpbj1lW0RdLHI9ZVtEKzFdLHM9ZVtEKzJdLG89ZVtEKzNdLGVbRF09bipoK3IqbCtzKnUrbypjK3AsZVtEKzFdPW4qZCtyKmYrcyp2K28qZytfLGVbRCsyXT1uKm0rcip5K3MqdytvKngrYixlW0QrM109bipFK3IqUytzKlQrbypDK007cmV0dXJuITB9LGV9KGcpLGZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJvdXRcIixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcIm92ZXJcIixzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpcImRvd25cIixvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYT1hcmd1bWVudHNbNV0saD1hcmd1bWVudHNbNl07bih0aGlzLHQpLGUuYWRkRXZlbnRMaXN0ZW5lciYmKHRoaXMudGFyZ2V0PWUsdGhpcy5vdmVyTGFiZWw9cix0aGlzLm91dExhYmVsPWksdGhpcy5kb3duTGFiZWw9bnVsbD09cyx0aGlzLnBsYXk9byx0aGlzLl9pc1ByZXNzZWQ9ITEsdGhpcy5faXNPdmVyPSExLHRoaXMuX2VuYWJsZWQ9ITEsZS5tb3VzZUNoaWxkcmVuPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLmhhbmRsZUV2ZW50KHt9KSxhJiYoaCYmKGEuYWN0aW9uc0VuYWJsZWQ9ITEsYS5nb3RvQW5kU3RvcCYmYS5nb3RvQW5kU3RvcChoKSksZS5oaXRBcmVhPWEpKX1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCJdXCJ9LHQucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMCxpPXRoaXMudGFyZ2V0LG49dC50eXBlO1wibW91c2Vkb3duXCI9PT1uPyh0aGlzLl9pc1ByZXNzZWQ9ITAsZT10aGlzLmRvd25MYWJlbCk6XCJwcmVzc3VwXCI9PT1uPyh0aGlzLl9pc1ByZXNzZWQ9ITEsZT10aGlzLl9pc092ZXI/dGhpcy5vdmVyTGFiZWw6dGhpcy5vdXRMYWJlbCk6XCJyb2xsb3ZlclwiPT09bj8odGhpcy5faXNPdmVyPSEwLGU9dGhpcy5faXNQcmVzc2VkP3RoaXMuZG93bkxhYmVsOnRoaXMub3ZlckxhYmVsKToodGhpcy5faXNPdmVyPSExLGU9dGhpcy5faXNQcmVzc2VkP3RoaXMub3ZlckxhYmVsOnRoaXMub3V0TGFiZWwpLHRoaXMucGxheT9pLmdvdG9BbmRQbGF5JiZpLmdvdG9BbmRQbGF5KGUpOmkuZ290b0FuZFN0b3AmJmkuZ290b0FuZFN0b3AoZSl9LHQucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGF1c2VkO3RoaXMuX19yZXNldCgpLHRoaXMucGF1c2VkPXR9LHIodCxbe2tleTpcImVuYWJsZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLl9lbmFibGVkKXt2YXIgZT10aGlzLnRhcmdldDt0aGlzLl9lbmFibGVkPXQsdD8oZS5jdXJzb3I9XCJwb2ludGVyXCIsZS5hZGRFdmVudExpc3RlbmVyKFwicm9sbG92ZXJcIix0aGlzKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJyb2xsb3V0XCIsdGhpcyksZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcyksZS5hZGRFdmVudExpc3RlbmVyKFwicHJlc3N1cFwiLHRoaXMpLGUuX3Jlc2V0JiYoZS5fX3Jlc2V0PWUuX3Jlc2V0LGUuX3Jlc2V0PXRoaXMuX3Jlc2V0KSk6KGUuY3Vyc29yPW51bGwsZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicm9sbG92ZXJcIix0aGlzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyb2xsb3V0XCIsdGhpcyksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcyksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJlc3N1cFwiLHRoaXMpLGUuX19yZXNldCYmKGUuX3Jlc2V0PWUuX19yZXNldCxkZWxldGUgZS5fX3Jlc2V0KSl9fX1dKSx0fSgpLHZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3Rocm93IG4odGhpcyx0KSxcIlRvdWNoIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcIn1yZXR1cm4gdC5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhKFwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCYmd2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzPjB8fHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQmJndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MCl9LHQuZW5hYmxlPWZ1bmN0aW9uKGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO3JldHVybiEhKGUmJmUuY2FudmFzJiZ0LmlzU3VwcG9ydGVkKCkpJiYoISFlLl9fdG91Y2h8fChlLl9fdG91Y2g9e3BvaW50ZXJzOnt9LG11bHRpdG91Y2g6IWkscHJldmVudERlZmF1bHQ6IW4sY291bnQ6MH0sXCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdz90Ll9JT1NfZW5hYmxlKGUpOih3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWR8fHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpJiZ0Ll9JRV9lbmFibGUoZSksITApKX0sdC5kaXNhYmxlPWZ1bmN0aW9uKGUpe2UmJihcIm9udG91Y2hzdGFydFwiaW4gd2luZG93P3QuX0lPU19kaXNhYmxlKGUpOih3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWR8fHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpJiZ0Ll9JRV9kaXNhYmxlKGUpLGRlbGV0ZSBlLl9fdG91Y2gpfSx0Ll9JT1NfZW5hYmxlPWZ1bmN0aW9uKGUpe3ZhciBpPWUuY2FudmFzLG49ZS5fX3RvdWNoLmY9ZnVuY3Rpb24oaSl7cmV0dXJuIHQuX0lPU19oYW5kbGVFdmVudChlLGkpfTtpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsbiwhMSksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsbiwhMSksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixuLCExKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLG4sITEpfSx0Ll9JT1NfZGlzYWJsZT1mdW5jdGlvbih0KXt2YXIgZT10LmNhbnZhcztpZihlKXt2YXIgaT10Ll9fdG91Y2guZjtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsaSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsaSwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixpLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLGksITEpfX0sdC5fSU9TX2hhbmRsZUV2ZW50PWZ1bmN0aW9uKHQsZSl7aWYodCl7dC5fX3RvdWNoLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9ZS5jaGFuZ2VkVG91Y2hlcyxuPWUudHlwZSxyPShpLmxlbmd0aCxpKSxzPUFycmF5LmlzQXJyYXkociksbz0wO2ZvcihyPXM/cjpyW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgYTtpZihzKXtpZihvPj1yLmxlbmd0aClicmVhazthPXJbbysrXX1lbHNle2lmKChvPXIubmV4dCgpKS5kb25lKWJyZWFrO2E9by52YWx1ZX12YXIgaD1hLGw9aC5pZGVudGlmaWVyO2gudGFyZ2V0PT10LmNhbnZhcyYmKFwidG91Y2hzdGFydFwiPT09bj90aGlzLl9oYW5kbGVTdGFydCh0LGwsZSxoLnBhZ2VYLGgucGFnZVkpOlwidG91Y2htb3ZlXCI9PT1uP3RoaXMuX2hhbmRsZU1vdmUodCxsLGUsaC5wYWdlWCxoLnBhZ2VZKTpcInRvdWNoZW5kXCIhPT1uJiZcInRvdWNoY2FuY2VsXCIhPT1ufHx0aGlzLl9oYW5kbGVFbmQodCxsLGUpKX19fSx0Ll9JRV9lbmFibGU9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5jYW52YXMsbj1lLl9fdG91Y2guZj1mdW5jdGlvbihpKXtyZXR1cm4gdC5fSUVfaGFuZGxlRXZlbnQoZSxpKX07dm9pZCAwPT09d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZD8oaS5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLG4sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLG4sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIixuLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckNhbmNlbFwiLG4sITEpLGUuX190b3VjaC5wcmV2ZW50RGVmYXVsdCYmKGkuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIikpOihpLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLG4sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixuLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLG4sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLG4sITEpLGUuX190b3VjaC5wcmV2ZW50RGVmYXVsdCYmKGkuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIpKSxlLl9fdG91Y2guYWN0aXZlSURzPXt9fSx0Ll9JRV9kaXNhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX190b3VjaC5mO3ZvaWQgMD09PXdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQ/KHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLGUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIixlLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckNhbmNlbFwiLGUsITEpLHQuY2FudmFzJiZ0LmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLGUsITEpKTood2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLGUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsZSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsZSwhMSksdC5jYW52YXMmJnQuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLGUsITEpKX0sdC5fSUVfaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCxlKXtpZih0KXt0Ll9fdG91Y2gucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKTt2YXIgaT1lLnR5cGUsbj1lLnBvaW50ZXJJZCxyPXQuX190b3VjaC5hY3RpdmVJRHM7aWYoXCJNU1BvaW50ZXJEb3duXCI9PT1pfHxcInBvaW50ZXJkb3duXCI9PT1pKXtpZihlLnNyY0VsZW1lbnQhPXQuY2FudmFzKXJldHVybjtyW25dPSEwLHRoaXMuX2hhbmRsZVN0YXJ0KHQsbixlLGUucGFnZVgsZS5wYWdlWSl9ZWxzZSByW25dJiYoXCJNU1BvaW50ZXJNb3ZlXCI9PT1pfHxcInBvaW50ZXJtb3ZlXCI9PT1pP3RoaXMuX2hhbmRsZU1vdmUodCxuLGUsZS5wYWdlWCxlLnBhZ2VZKTpcIk1TUG9pbnRlclVwXCIhPT1pJiZcIk1TUG9pbnRlckNhbmNlbFwiIT09aSYmXCJwb2ludGVydXBcIiE9PWkmJlwicG9pbnRlcmNhbmNlbFwiIT09aXx8KGRlbGV0ZSByW25dLHRoaXMuX2hhbmRsZUVuZCh0LG4sZSkpKX19LHQuX2hhbmRsZVN0YXJ0PWZ1bmN0aW9uKHQsZSxpLG4scil7dmFyIHM9dC5fX3RvdWNoO2lmKHMubXVsdGl0b3VjaHx8IXMuY291bnQpe3ZhciBvPXMucG9pbnRlcnM7b1tlXXx8KG9bZV09ITAscy5jb3VudCsrLHQuX2hhbmRsZVBvaW50ZXJEb3duKGUsaSxuLHIpKX19LHQuX2hhbmRsZU1vdmU9ZnVuY3Rpb24odCxlLGksbixyKXt0Ll9fdG91Y2gucG9pbnRlcnNbZV0mJnQuX2hhbmRsZVBvaW50ZXJNb3ZlKGUsaSxuLHIpfSx0Ll9oYW5kbGVFbmQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQuX190b3VjaCxyPW4ucG9pbnRlcnM7cltlXSYmKG4uY291bnQtLSx0Ll9oYW5kbGVQb2ludGVyVXAoZSxpLCEwKSxkZWxldGUgcltlXSl9LHR9KCksZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO24odGhpcyxlKTt2YXIgcj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gci5tYXhXaWR0aD0yMDQ4LHIubWF4SGVpZ2h0PTIwNDgsci5zcHJpdGVTaGVldD1udWxsLHIuc2NhbGU9MSxyLnBhZGRpbmc9MSxyLnRpbWVTbGljZT0uMyxyLnByb2dyZXNzPS0xLHIuZnJhbWVyYXRlPWksci5fZnJhbWVzPVtdLHIuX2FuaW1hdGlvbnM9e30sci5fZGF0YT1udWxsLHIuX25leHRGcmFtZUluZGV4PTAsci5faW5kZXg9MCxyLl90aW1lcklEPW51bGwsci5fc2NhbGU9MSxyfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuYWRkRnJhbWU9ZnVuY3Rpb24odCxpKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPWFyZ3VtZW50c1szXSxzPWFyZ3VtZW50c1s0XTtpZih0aGlzLl9kYXRhKXRocm93IGUuRVJSX1JVTk5JTkc7dmFyIG89aXx8dC5ib3VuZHN8fHQubm9taW5hbEJvdW5kc3x8dC5nZXRCb3VuZHMmJnQuZ2V0Qm91bmRzKCk7cmV0dXJuIG8/dGhpcy5fZnJhbWVzLnB1c2goe3NvdXJjZTp0LHNvdXJjZVJlY3Q6byxzY2FsZTpuLGZ1bmN0OnIsZGF0YTpzLGluZGV4OnRoaXMuX2ZyYW1lcy5sZW5ndGgsaGVpZ2h0Om8uaGVpZ2h0Km59KS0xOm51bGx9LGUucHJvdG90eXBlLmFkZEFuaW1hdGlvbj1mdW5jdGlvbih0LGksbixyKXtpZih0aGlzLl9kYXRhKXRocm93IGUuRVJSX1JVTk5JTkc7dGhpcy5fYW5pbWF0aW9uc1t0XT17ZnJhbWVzOmksbmV4dDpuLHNwZWVkOnJ9fSxlLnByb3RvdHlwZS5hZGRNb3ZpZUNsaXA9ZnVuY3Rpb24odCxpKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPWFyZ3VtZW50c1szXSxzPWFyZ3VtZW50c1s0XSxvPWFyZ3VtZW50c1s1XTtpZih0aGlzLl9kYXRhKXRocm93IGUuRVJSX1JVTk5JTkc7dmFyIGE9dC5mcmFtZUJvdW5kcyxoPWl8fHQuYm91bmRzfHx0Lm5vbWluYWxCb3VuZHN8fHQuZ2V0Qm91bmRzJiZ0LmdldEJvdW5kcygpO2lmKGh8fGEpe2Zvcih2YXIgbD10aGlzLl9mcmFtZXMubGVuZ3RoLHU9dC50aW1lbGluZS5kdXJhdGlvbixjPTA7Yzx1O2MrKyl7dmFyIHA9YSYmYVtjXT9hW2NdOmg7dGhpcy5hZGRGcmFtZSh0LHAsbix0aGlzLl9zZXR1cE1vdmllQ2xpcEZyYW1lLHtpOmMsZjpyLGQ6c30pfXZhciBkPXQudGltZWxpbmUuX2xhYmVscyxmPVtdO2Zvcih2YXIgdiBpbiBkKWYucHVzaCh7aW5kZXg6ZFt2XSxsYWJlbDp2fSk7aWYoZi5sZW5ndGgpe2Yuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4LWUuaW5kZXh9KTtmb3IodmFyIGc9MCxfPWYubGVuZ3RoO2c8XztnKyspe2Zvcih2YXIgbT1mW2ddLmxhYmVsLHk9bCtmW2ddLmluZGV4LHc9bCsoZz09PV8tMT91OmZbZysxXS5pbmRleCkseD1bXSxiPXk7Yjx3O2IrKyl4LnB1c2goYik7byYmIShtPW8obSx0LHksdykpfHx0aGlzLmFkZEFuaW1hdGlvbihtLHgsITApfX19fSxlLnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEpdGhyb3cgZS5FUlJfUlVOTklORztmb3IodGhpcy5fc3RhcnRCdWlsZCgpO3RoaXMuX2RyYXdOZXh0KCk7KTtyZXR1cm4gdGhpcy5fZW5kQnVpbGQoKSx0aGlzLnNwcml0ZVNoZWV0fSxlLnByb3RvdHlwZS5idWlsZEFzeW5jPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aWYodGhpcy5fZGF0YSl0aHJvdyBlLkVSUl9SVU5OSU5HO3RoaXMudGltZVNsaWNlPXQsdGhpcy5fc3RhcnRCdWlsZCgpLHRoaXMuX3RpbWVySUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBpLl9ydW4oKX0sNTAtNTAqTWF0aC5tYXgoLjAxLE1hdGgubWluKC45OSx0aGlzLnRpbWVTbGljZXx8LjMpKSl9LGUucHJvdG90eXBlLnN0b3BBc3luYz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lcklEKSx0aGlzLl9kYXRhPW51bGx9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dGhyb3dcIlNwcml0ZVNoZWV0QnVpbGRlciBjYW5ub3QgYmUgY2xvbmVkLlwifSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuY29uc3RydWN0b3IubmFtZStcIl1cIn0sZS5wcm90b3R5cGUuX3N0YXJ0QnVpbGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhZGRpbmd8fDA7dGhpcy5wcm9ncmVzcz0wLHRoaXMuc3ByaXRlU2hlZXQ9bnVsbCx0aGlzLl9pbmRleD0wLHRoaXMuX3NjYWxlPXRoaXMuc2NhbGU7dmFyIGk9W107dGhpcy5fZGF0YT17aW1hZ2VzOltdLGZyYW1lczppLGZyYW1lcmF0ZTp0aGlzLmZyYW1lcmF0ZSxhbmltYXRpb25zOnRoaXMuX2FuaW1hdGlvbnN9O3ZhciBuPXRoaXMuX2ZyYW1lcy5zbGljZSgpO2lmKG4uc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmhlaWdodDw9ZS5oZWlnaHQ/LTE6MX0pLG5bbi5sZW5ndGgtMV0uaGVpZ2h0KzIqdD50aGlzLm1heEhlaWdodCl0aHJvdyBlLkVSUl9ESU1FTlNJT05TO2Zvcih2YXIgcj0wLHM9MCxvPTA7bi5sZW5ndGg7KXt2YXIgYT10aGlzLl9maWxsUm93KG4scixvLGksdCk7aWYoYS53PnMmJihzPWEudykscis9YS5oLCFhLmh8fCFuLmxlbmd0aCl7dmFyIGg9d2luZG93LmNyZWF0ZWpzJiZjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtoLndpZHRoPXRoaXMuX2dldFNpemUocyx0aGlzLm1heFdpZHRoKSxoLmhlaWdodD10aGlzLl9nZXRTaXplKHIsdGhpcy5tYXhIZWlnaHQpLHRoaXMuX2RhdGEuaW1hZ2VzW29dPWgsYS5ofHwocz1yPTAsbysrKX19fSxlLnByb3RvdHlwZS5fc2V0dXBNb3ZpZUNsaXBGcmFtZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuYWN0aW9uc0VuYWJsZWQ7dC5hY3Rpb25zRW5hYmxlZD0hMSx0LmdvdG9BbmRTdG9wKGUuaSksdC5hY3Rpb25zRW5hYmxlZD1pLGUuZiYmZS5mKHQsZS5kLGUuaSl9LGUucHJvdG90eXBlLl9nZXRTaXplPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTQ7TWF0aC5wb3coMiwrK2kpPHQ7KTtyZXR1cm4gTWF0aC5taW4oZSxNYXRoLnBvdygyLGkpKX0sZS5wcm90b3R5cGUuX2ZpbGxSb3c9ZnVuY3Rpb24odCxpLG4scixzKXtmb3IodmFyIG89dGhpcy5tYXhXaWR0aCxhPXRoaXMubWF4SGVpZ2h0LShpKz1zKSxoPXMsbD0wLHU9dC5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIGM9dFt1XSxwPXRoaXMuX3NjYWxlKmMuc2NhbGUsZD1jLnNvdXJjZVJlY3QsZj1jLnNvdXJjZSxnPU1hdGguZmxvb3IocCpkLngtcyksXz1NYXRoLmZsb29yKHAqZC55LXMpLG09TWF0aC5jZWlsKHAqZC5oZWlnaHQrMipzKSx5PU1hdGguY2VpbChwKmQud2lkdGgrMipzKTtpZih5Pm8pdGhyb3cgZS5FUlJfRElNRU5TSU9OUzttPmF8fGgreT5vfHwoYy5pbWc9bixjLnJlY3Q9bmV3IHYoaCxpLHksbSksbD1sfHxtLHQuc3BsaWNlKHUsMSkscltjLmluZGV4XT1baCxpLHksbSxuLE1hdGgucm91bmQoLWcrcCpmLnJlZ1gtcyksTWF0aC5yb3VuZCgtXytwKmYucmVnWS1zKV0saCs9eSl9cmV0dXJue3c6aCxoOmx9fSxlLnByb3RvdHlwZS5fZW5kQnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLnNwcml0ZVNoZWV0PW5ldyAkKHRoaXMuX2RhdGEpLHRoaXMuX2RhdGE9bnVsbCx0aGlzLnByb2dyZXNzPTEsdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIil9LGUucHJvdG90eXBlLl9ydW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTUwKk1hdGgubWF4KC4wMSxNYXRoLm1pbiguOTksdGhpcy50aW1lU2xpY2V8fC4zKSksaT0obmV3IERhdGUpLmdldFRpbWUoKStlLG49ITE7aT4obmV3IERhdGUpLmdldFRpbWUoKTspaWYoIXRoaXMuX2RyYXdOZXh0KCkpe249ITA7YnJlYWt9bj90aGlzLl9lbmRCdWlsZCgpOnRoaXMuX3RpbWVySUQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0Ll9ydW4oKX0sNTAtZSk7dmFyIHI9dGhpcy5wcm9ncmVzcz10aGlzLl9pbmRleC90aGlzLl9mcmFtZXMubGVuZ3RoO2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIpKXt2YXIgcz1uZXcgaChcInByb2dyZXNzXCIpO3MucHJvZ3Jlc3M9cix0aGlzLmRpc3BhdGNoRXZlbnQocyl9fSxlLnByb3RvdHlwZS5fZHJhd05leHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9mcmFtZXNbdGhpcy5faW5kZXhdLGU9dC5zY2FsZSp0aGlzLl9zY2FsZSxpPXQucmVjdCxuPXQuc291cmNlUmVjdCxyPXRoaXMuX2RhdGEuaW1hZ2VzW3QuaW1nXS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHQuZnVuY3QmJnQuZnVuY3QodC5zb3VyY2UsdC5kYXRhKSxyLnNhdmUoKSxyLmJlZ2luUGF0aCgpLHIucmVjdChpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLHIuY2xpcCgpLHIudHJhbnNsYXRlKE1hdGguY2VpbChpLngtbi54KmUpLE1hdGguY2VpbChpLnktbi55KmUpKSxyLnNjYWxlKGUsZSksdC5zb3VyY2UuZHJhdyhyKSxyLnJlc3RvcmUoKSwrK3RoaXMuX2luZGV4PHRoaXMuX2ZyYW1lcy5sZW5ndGh9LHIoZSxudWxsLFt7a2V5OlwiRVJSX0RJTUVOU0lPTlNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImZyYW1lIGRpbWVuc2lvbnMgZXhjZWVkIG1heCBzcHJpdGVzaGVldCBkaW1lbnNpb25zXCJ9fSx7a2V5OlwiRVJSX1JVTk5JTkdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImEgYnVpbGQgaXMgYWxyZWFkeSBydW5uaW5nXCJ9fV0pLGV9KGwpLF90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3Rocm93IG4odGhpcyx0KSxcIlNwcml0ZVNoZWV0VXRpbHMgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwifXJldHVybiB0LmV4dHJhY3RGcmFtZT1mdW5jdGlvbihlLGkpe2lzTmFOKGkpJiYoaT1lLmdldEFuaW1hdGlvbihpKS5mcmFtZXNbMF0pO3ZhciBuPWUuZ2V0RnJhbWUoaSk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIHI9bi5yZWN0LHM9dC5fd29ya2luZ0NhbnZhcztzLndpZHRoPXIud2lkdGgscy5oZWlnaHQ9ci5oZWlnaHQsdC5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKG4uaW1hZ2Usci54LHIueSxyLndpZHRoLHIuaGVpZ2h0LDAsMCxyLndpZHRoLHIuaGVpZ2h0KTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3JldHVybiBvLnNyYz1zLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSxvfSx0Lm1lcmdlQWxwaGE9ZnVuY3Rpb24odCxlLGkpe2l8fChpPXdpbmRvdy5jcmVhdGVqcyYmY3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLGkud2lkdGg9TWF0aC5tYXgoZS53aWR0aCx0LndpZHRoKSxpLmhlaWdodD1NYXRoLm1heChlLmhlaWdodCx0LmhlaWdodCk7dmFyIG49aS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4uc2F2ZSgpLG4uZHJhd0ltYWdlKHQsMCwwKSxuLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImRlc3RpbmF0aW9uLWluXCIsbi5kcmF3SW1hZ2UoZSwwLDApLG4ucmVzdG9yZSgpLGl9LHQuX2ZsaXA9ZnVuY3Rpb24oZSxpLG4scil7Zm9yKHZhciBzPWUuX2ltYWdlcyxvPXQuX3dvcmtpbmdDYW52YXMsYT10Ll93b3JraW5nQ29udGV4dCxoPXMubGVuZ3RoL2ksbD0wO2w8aDtsKyspe3ZhciB1PXNbbF07dS5fX3RtcD1sLGEuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxhLmNsZWFyUmVjdCgwLDAsby53aWR0aCsxLG8uaGVpZ2h0KzEpLG8ud2lkdGg9dS53aWR0aCxvLmhlaWdodD11LmhlaWdodCxhLnNldFRyYW5zZm9ybShuPy0xOjEsMCwwLHI/LTE6MSxuP3Uud2lkdGg6MCxyP3UuaGVpZ2h0OjApLGEuZHJhd0ltYWdlKHUsMCwwKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO2Muc3JjPW8udG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLGMud2lkdGg9dS53aWR0aHx8dS5uYXR1cmFsV2lkdGgsYy5oZWlnaHQ9dS5oZWlnaHR8fHUubmF0dXJhbEhlaWdodCxzLnB1c2goYyl9Zm9yKHZhciBwPWUuX2ZyYW1lcyxkPXAubGVuZ3RoL2ksZj0wO2Y8ZDtmKyspe3ZhciB2PXBbZl0sZz12LnJlY3QuY2xvbmUoKSxfPXNbdi5pbWFnZS5fX3RtcCtoKmldLG09e2ltYWdlOl8scmVjdDpnLHJlZ1g6di5yZWdYLHJlZ1k6di5yZWdZfTtuJiYoZy54PShfLndpZHRofHxfLm5hdHVyYWxXaWR0aCktZy54LWcud2lkdGgsbS5yZWdYPWcud2lkdGgtdi5yZWdYKSxyJiYoZy55PShfLmhlaWdodHx8Xy5uYXR1cmFsSGVpZ2h0KS1nLnktZy5oZWlnaHQsbS5yZWdZPWcuaGVpZ2h0LXYucmVnWSkscC5wdXNoKG0pfWZvcih2YXIgeT1cIl9cIisobj9cImhcIjpcIlwiKSsocj9cInZcIjpcIlwiKSx3PWUuX2FuaW1hdGlvbnMseD1lLl9kYXRhLGI9dy5sZW5ndGgvaSxFPTA7RTxiO0UrKyl7dmFyIFM9d1tFXSxUPXhbU10sQz17bmFtZTpTK3ksc3BlZWQ6VC5zcGVlZCxuZXh0OlQubmV4dCxmcmFtZXM6W119O1QubmV4dCYmKEMubmV4dCs9eSk7Zm9yKHZhciBNPVQuZnJhbWVzLEQ9MCxMPU0ubGVuZ3RoO0Q8TDtEKyspQy5mcmFtZXMucHVzaChNW0RdK2QqaSk7eFtDLm5hbWVdPUMsdy5wdXNoKEMubmFtZSl9fSx0fSgpLG10PXdpbmRvdy5jcmVhdGVqcyYmY3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bXQuZ2V0Q29udGV4dCYmKF90Ll93b3JraW5nQ2FudmFzPW10LF90Ll93b3JraW5nQ29udGV4dD1tdC5nZXRDb250ZXh0KFwiMmRcIiksbXQud2lkdGg9bXQuaGVpZ2h0PTEpO3ZhciB5dD1udWxsLHd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSl7bih0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLl9zdGFnZT1pLHJ9cmV0dXJuIHMoZSx0KSxlLmRpc3BQcm9wcz1mdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIixuPVwiXFx0UDogXCIrdC54LnRvRml4ZWQoMikrXCJ4XCIrdC55LnRvRml4ZWQoMikrXCJcXHRcIixyPVwiXFx0UjogXCIrdC5yZWdYLnRvRml4ZWQoMikrXCJ4XCIrdC5yZWdZLnRvRml4ZWQoMikrXCJcXHRcIjtlLl9sb2coaSx0LnRvU3RyaW5nKCkrXCJcXHRcIixuLHIpfSxlLl9sb2c9ZnVuY3Rpb24oKXt2YXIgdCxpO2UuYWx0ZXJuYXRlT3V0cHV0Pyh0PWUuYWx0ZXJuYXRlT3V0cHV0KS5sb2cuYXBwbHkodCxhcmd1bWVudHMpOihpPWNvbnNvbGUpLmxvZy5hcHBseShpLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0KXt0fHwodD10aGlzLl9zdGFnZSksZS5fbG9nKFwiQmF0Y2hlcyBQZXIgRHJhdzogXCIrKHQuX2JhdGNoSUQvdC5fZHJhd0lEKS50b0ZpeGVkKDQpKSx0aGlzLmxvZ0NvbnRleHRJbmZvKHQuX3dlYkdMQ29udGV4dCksdGhpcy5sb2dEZXB0aCh0LmNoaWxkcmVuLFwiXCIpLHRoaXMubG9nVGV4dHVyZUZpbGwodCl9LGUucHJvdG90eXBlLnRvZ2dsZUdQVURyYXc9ZnVuY3Rpb24odCxpKXt0fHwodD10aGlzLl9zdGFnZSksdm9pZCAwPT09aSYmKGk9ISF0Ll9kcmF3QnVmZmVyc18pLGkmJnQuX2RyYXdCdWZmZXJzXz8odC5fZHJhd0J1ZmZlcnM9dC5fZHJhd0J1ZmZlcnNfLHQuX2RyYXdCdWZmZXJzXz12b2lkIDApOih0Ll9kcmF3QnVmZmVyc189dC5fZHJhd0J1ZmZlcnMsdC5fZHJhd0J1ZmZlcnM9ZnVuY3Rpb24odCl7dGhpcy52b2NhbERlYnVnJiZlLl9sb2coXCJCbGFua0RyYXdbXCIrdGhpcy5fZHJhd0lEK1wiOlwiK3RoaXMuX2JhdGNoSUQrXCJdIDogXCIrdGhpcy5iYXRjaFJlYXNvbil9KX0sZS5wcm90b3R5cGUubG9nRGVwdGg9ZnVuY3Rpb24odCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ZS5fbG9nO3R8fCh0PXRoaXMuX3N0YWdlLmNoaWxkcmVuKTtmb3IodmFyIHI9dC5sZW5ndGgscz0wO3M8cjtzKyspe3ZhciBvPXRbc107bihpK1wiLVwiLG8pLG8uY2hpbGRyZW4mJm8uY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmxvZ0RlcHRoKG8uY2hpbGRyZW4sXCJ8XCIraSxuKX19LGUucHJvdG90eXBlLmxvZ0NvbnRleHRJbmZvPWZ1bmN0aW9uKHQpe3R8fCh0PXRoaXMuX3N0YWdlLl93ZWJHTENvbnRleHQpO3ZhciBpPVwiXFxuXFx0XFx0XFx0PT0gTE9HOlxcblxcblxcdFxcdFxcdE1heCB0ZXh0dXJlcyBwZXIgZHJhdzogXCIrdC5nZXRQYXJhbWV0ZXIodC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUykrXCJcXG5cXG5cXHRcXHRcXHRNYXggdGV4dHVyZXMgYWN0aXZlOiBcIit0LmdldFBhcmFtZXRlcih0Lk1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTKStcIlxcblxcblxcdFxcdFxcdFxcblxcblxcdFxcdFxcdE1heCB0ZXh0dXJlIHNpemU6IFwiK3QuZ2V0UGFyYW1ldGVyKHQuTUFYX1RFWFRVUkVfU0laRSkvMitcIlxcblxcblxcdFxcdFxcdE1heCBjYWNoZSBzaXplOiBcIit0LmdldFBhcmFtZXRlcih0Lk1BWF9SRU5ERVJCVUZGRVJfU0laRSkvMitcIlxcblxcblxcdFxcdFxcdFxcblxcblxcdFxcdFxcdE1heCBhdHRyaWJ1dGVzIHBlciB2ZXJ0ZXg6IFwiK3QuZ2V0UGFyYW1ldGVyKHQuTUFYX1ZFUlRFWF9BVFRSSUJTKStcIlxcblxcblxcdFxcdFxcdFdlYkdMIFZlcnNpb24gc3RyaW5nOiBcIit0LmdldFBhcmFtZXRlcih0LlZFUlNJT04pK1wiXFxuXFxuXFx0XFx0XFx0PT09PT09XFxuXFx0XFx0XCI7ZS5fbG9nKGkpfSxlLnByb3RvdHlwZS5sb2dUZXh0dXJlRmlsbD1mdW5jdGlvbih0KXt0fHwodD10aGlzLl9zdGFnZSk7dmFyIGk9dC5fdGV4dHVyZURpY3Rpb25hcnksbj10Ll9iYXRjaFRleHR1cmVDb3VudDtlLl9sb2codGV4dHVyZU1heCtcIjogXCIrbik7dmFyIHI9W107Zm9yKHZhciBzIGluIGkpe3MucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ub3JpZ2luLFwiXCIpO3ZhciBvPWlbc10sYT0hIW8uX2xhc3RBY3RpdmVJbmRleCYmby5fbGFzdEFjdGl2ZUluZGV4PT09by5fYWN0aXZlSW5kZXg7ci5wdXNoKHtzcmM6c3JjLGVsZW1lbnQ6byxzaGlmdGVkOmF9KSxvLl9sYXN0QWN0aXZlSW5kZXg9by5fYWN0aXZlSW5kZXh9ci5zb3J0KGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUuZWxlbWVudC5fZHJhd0lEPT09dC5fZHJhd0lEPzE6ZS5lbGVtZW50Ll9kcmF3SUQ8aS5lbGVtZW50Ll9kcmF3SUQ/LTE6MH0pO2Zvcih2YXIgaD1yLmxlbmd0aCxsPTA7bDxoO2wrKyl7dmFyIHU9cltsXSxjPXUuZWxlbWVudC5fZHJhd0lEPT09dC5fZHJhd0lEO2UuX2xvZyhcIltcIit1LnNyYytcIl0gXCIrKGM/XCJBQ1RJVkVcIjpcInN0YWxlXCIpK1wiIFwiKyh1LnNoaWZ0ZWQ/XCJzdGVhZHlcIjpcIkRSSUZUXCIpLHUuZWxlbWVudCl9fSxyKGUsbnVsbCxbe2tleTpcImFsdGVybmF0ZU91dHB1dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB5dH0sc2V0OmZ1bmN0aW9uKHQpe3l0PXR9fV0pLGV9KGwpO3QuU3RhZ2VHTD1hLHQuU3RhZ2U9Yix0LkNvbnRhaW5lcj13LHQuRGlzcGxheU9iamVjdD1tLHQuQml0bWFwPVMsdC5CaXRtYXBUZXh0PUQsdC5ET01FbGVtZW50PUwsdC5HcmFwaGljcz1JLHQuQXJjPU8sdC5BcmNUbz1rLHQuQmVnaW5QYXRoPUcsdC5CZXppZXJDdXJ2ZVRvPUYsdC5DaXJjbGU9Vyx0LkNsb3NlUGF0aD1YLHQuRWxsaXBzZT1WLHQuRmlsbD1OLHQuTGluZVRvPUEsdC5Nb3ZlVG89UCx0LlBvbHlTdGFyPXosdC5RdWFkcmF0aWNDdXJ2ZVRvPVIsdC5SZWN0PUIsdC5Sb3VuZFJlY3Q9aix0LlN0cm9rZT1ZLHQuU3Ryb2tlRGFzaD1ILHQuU3Ryb2tlU3R5bGU9VSx0Lk1vdmllQ2xpcD1KLHQuU2hhZG93PUssdC5TaGFwZT1aLHQuU3ByaXRlPVQsdC5TcHJpdGVTaGVldD0kLHQuVGV4dD1pdCx0Lk1vdXNlRXZlbnQ9eCx0LkFscGhhTWFwRmlsdGVyPXJ0LHQuQWxwaGFNYXNrRmlsdGVyPXN0LHQuQml0bWFwQ2FjaGU9Xyx0LkJsdXJGaWx0ZXI9aHQsdC5Db2xvckZpbHRlcj1sdCx0LkNvbG9yTWF0cml4PXB0LHQuQ29sb3JNYXRyaXhGaWx0ZXI9ZHQsdC5GaWx0ZXI9Zyx0LkRpc3BsYXlQcm9wcz1mLHQuTWF0cml4MkQ9ZCx0LlBvaW50PXAsdC5SZWN0YW5nbGU9dix0LkJ1dHRvbkhlbHBlcj1mdCx0LlRvdWNoPXZ0LHQuU3ByaXRlU2hlZXRCdWlsZGVyPWd0LHQuU3ByaXRlU2hlZXRVdGlscz1fdCx0LlVJRD1jLHQuV2ViR0xJbnNwZWN0b3I9d3QsKHQudmVyc2lvbnM9dC52ZXJzaW9uc3x8e30pLmVhc2VsanM9XCIyLjAuMFwifSh0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LHRoaXMuY3JlYXRlanMmJnRoaXMuY3JlYXRlanMuVHdlZW4sdGhpcy5jcmVhdGVqcyYmdGhpcy5jcmVhdGVqcy5UaW1lbGluZSk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIG1hcmdpbjogMDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJpbXBvcnQgJy4vYXNzZXRzL3Njc3MvYXBwLnNjc3MnO1xyXG4vLyBpbXBvcnQgJy4vcmVhY3QtYXBwJztcclxuXHJcbigoKSA9PiB7XHJcbiAgaWYoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zZXJ2aWNlLXdvcmtlci5qcycpO1xyXG4gIH1cclxufSkoKTtcclxuXHJcbi8vIERyYXcgYSBzcXVhcmUgb24gc2NyZWVuLlxyXG5pbXBvcnQgeyBjcmVhdGVqcyB9IGZyb20gJ0BjcmVhdGVqcy9lYXNlbGpzJztcclxuaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lL2dhbWUnO1xyXG5jb25zdCBzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZSgnZ2FtZScpO1xyXG5jb25zdCBCVUJCTEVfU0laRSA9IDUwO1xyXG5jb25zdCBQT1NTSUJMRV9DT0xPUlMgPSBbXHJcbiAgJyM0NEQ3QTgnLCAvLyBHcmVlblxyXG4gICcjREEyNjQ3JywgLy8gUmVkXHJcbiAgJyNGRkZGNjYnLCAvLyBZZWxsb3dcclxuICAnIzRGODZGNycsIC8vIEJsdWVcclxuXTtcclxuY29uc3QgQkdfQ09MT1IgPSAnIzAwMDAwMCc7XHJcbmNvbnN0IEJVQkJMRV9PVVRMSU5FX1dJRFRIID0gODtcclxubGV0IGdhbWU7XHJcblxyXG5jb25zdCB3aW5HYW1lID0gKCkgPT4ge1xyXG4gIGFsZXJ0KGBZb3Ugd2luIHdpdGggJHtnYW1lLnNjb3JlfSBwb2ludHMhYCk7XHJcbiAgbmV3R2FtZSgpO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHJlcGFpbnQgPSAoKSA9PiB7XHJcbiAgLy8gY2xlYXIgc3RhZ2VcclxuICBzdGFnZS5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gIC8vIGJhY2tncm91bmRcclxuICBjb25zdCBiZyA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG4gIGJnLmdyYXBoaWNzLmJlZ2luRmlsbChCR19DT0xPUikuZHJhd1JlY3QoMCwgMCwgc3RhZ2UuY2FudmFzLndpZHRoLCBzdGFnZS5jYW52YXMuaGVpZ2h0KTtcclxuICBzdGFnZS5hZGRDaGlsZChiZyk7XHJcbiAgLy8gYnViYmxlc1xyXG4gIGNvbnN0IEJVQkJMRV9SQURJVVMgPSBCVUJCTEVfU0laRS8yICogMC43NTtcclxuICBjb25zdCBCVUJCTEVfTUFSR0lOID0gQlVCQkxFX1NJWkUgLSBCVUJCTEVfUkFESVVTKjIgLSBCVUJCTEVfT1VUTElORV9XSURUSC8yO1xyXG4gIGZvcihsZXQgeSA9IDA7IHkgPCBnYW1lLmRpbXk7IHkrKykge1xyXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8IGdhbWUuZGlteDsgeCsrKSB7XHJcbiAgICAgIGlmKCFnYW1lLmdyaWRbeV1beF0pIGNvbnRpbnVlO1xyXG4gICAgICBjb25zdCBoaXRib3ggPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcclxuICAgICAgaGl0Ym94LmdyYXBoaWNzLmJlZ2luRmlsbChCR19DT0xPUikuZHJhd1JlY3QoXHJcbiAgICAgICAgeCpCVUJCTEVfU0laRSxcclxuICAgICAgICB5KkJVQkJMRV9TSVpFLFxyXG4gICAgICAgIEJVQkJMRV9TSVpFLFxyXG4gICAgICAgIEJVQkJMRV9TSVpFLFxyXG4gICAgICApO1xyXG4gICAgICBoaXRib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgZ2FtZS5jbGlja09uKHgseSk7XHJcbiAgICAgICAgcmVwYWludCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgc3RhZ2UuYWRkQ2hpbGQoaGl0Ym94KTtcclxuICAgICAgLy8gdGhlIGJ1YmJsZSBpdHNlbGZcclxuICAgICAgY29uc3QgYnViYmxlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCk7XHJcbiAgICAgIGJ1YmJsZS5ncmFwaGljcy5iZWdpbkZpbGwoXHJcbiAgICAgICAgZ2FtZS5ncmlkW3ldW3hdLnNlbGVjdGVkID8gUE9TU0lCTEVfQ09MT1JTWyhnYW1lLmdyaWRbeV1beF0pLmNvbG9yXSA6IEJHX0NPTE9SXHJcbiAgICAgICkuZHJhd0NpcmNsZShcclxuICAgICAgICBCVUJCTEVfUkFESVVTICsgQlVCQkxFX01BUkdJTiArIHgqQlVCQkxFX1NJWkUsXHJcbiAgICAgICAgQlVCQkxFX1JBRElVUyArIEJVQkJMRV9NQVJHSU4gKyB5KkJVQkJMRV9TSVpFLFxyXG4gICAgICAgIEJVQkJMRV9SQURJVVNcclxuICAgICAgKTtcclxuICAgICAgYnViYmxlLmdyYXBoaWNzLnNldFN0cm9rZVN0eWxlKEJVQkJMRV9PVVRMSU5FX1dJRFRILCdyb3VuZCcpLmJlZ2luU3Ryb2tlKFxyXG4gICAgICAgIFBPU1NJQkxFX0NPTE9SU1soZ2FtZS5ncmlkW3ldW3hdKS5jb2xvcl1cclxuICAgICAgKS5kcmF3Q2lyY2xlKFxyXG4gICAgICAgIEJVQkJMRV9SQURJVVMgKyBCVUJCTEVfTUFSR0lOICsgeCpCVUJCTEVfU0laRSxcclxuICAgICAgICBCVUJCTEVfUkFESVVTICsgQlVCQkxFX01BUkdJTiArIHkqQlVCQkxFX1NJWkUsXHJcbiAgICAgICAgQlVCQkxFX1JBRElVU1xyXG4gICAgICApO1xyXG4gICAgICBzdGFnZS5hZGRDaGlsZChidWJibGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyBkaXNwbGF5IHNjb3JlXHJcbiAgY29uc3QgdGV4dCA9IG5ldyBjcmVhdGVqcy5UZXh0KGdhbWUuc2NvcmUudG9TdHJpbmcoKSwgJzIwcHggSGVsdmV0aWNhJywgJ3doaXRlJyk7XHJcbiAgY29uc3QgdGV4dEJvdW5kcyA9IHRleHQuZ2V0Qm91bmRzKCk7XHJcbiAgdGV4dC54ID0gc3RhZ2UuY2FudmFzLndpZHRoIC0gdGV4dEJvdW5kcy53aWR0aDtcclxuICB0ZXh0LnkgPSAwO1xyXG4gIHN0YWdlLmFkZENoaWxkKHRleHQpO1xyXG4gIC8vIHJlbmRlclxyXG4gIHN0YWdlLnVwZGF0ZSgpO1xyXG59O1xyXG5jb25zdCByZXNpemUgPSAoKSA9PiB7XHJcbiAgc3RhZ2UuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgc3RhZ2UuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICBpZihnYW1lKSB7XHJcbiAgICByZXBhaW50KCk7XHJcbiAgfVxyXG59O1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplLCBmYWxzZSk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZXZlbnQgPT4ge1xyXG4gIHJlc2l6ZSgpO1xyXG4gIG5ld0dhbWUoKTtcclxufSk7XHJcblxyXG5jb25zdCBuZXdHYW1lID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbHMgPSBNYXRoLmZsb29yKHN0YWdlLmNhbnZhcy53aWR0aCAvIEJVQkJMRV9TSVpFKTtcclxuICBjb25zdCByb3dzID0gTWF0aC5mbG9vcihzdGFnZS5jYW52YXMuaGVpZ2h0IC8gQlVCQkxFX1NJWkUpO1xyXG4gIGdhbWUgPSBuZXcgR2FtZSh3aW5HYW1lLCBjb2xzLCByb3dzKTtcclxuICByZXBhaW50KCk7XHJcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9hcHAuc2Nzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9hcHAuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vYXBwLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJjb25zdCBOVU1fQ09MT1JTID0gNDtcclxuXHJcbmNsYXNzIFBpZWNlIHtcclxuICBjb25zdHJ1Y3Rvcihjb2xvcikge1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yIHx8IHRoaXMuX2dldFJhbmRvbUNvbG9yQ29kZSgpO1xyXG4gICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy52aXNpdGVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIF9nZXRSYW5kb21Db2xvckNvZGUoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKk5VTV9DT0xPUlMpO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgR2FtZSB7XHJcbiAgY29uc3RydWN0b3Iod2luQ2FsbGJhY2sgPSBudWxsLCBjb2xzVG90YWwgPSAwLCByb3dzVG90YWwgPSAwKSB7XHJcbiAgICB0aGlzLndpbkNhbGxiYWNrID0gd2luQ2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgdGhpcy5kaW14ID0gY29sc1RvdGFsO1xyXG4gICAgdGhpcy5kaW15ID0gcm93c1RvdGFsO1xyXG4gICAgdGhpcy5ncmlkID0gW107XHJcbiAgICBmb3IobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3NUb3RhbDsgcm93KyspIHtcclxuICAgICAgbGV0IGdyaWRfcm93ID0gW107XHJcbiAgICAgIGZvcihsZXQgY29sID0gMDsgY29sIDwgY29sc1RvdGFsOyBjb2wrKykge1xyXG4gICAgICAgIGdyaWRfcm93LnB1c2gobmV3IFBpZWNlKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZ3JpZC5wdXNoKGdyaWRfcm93KTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgc2V0R3JpZChzZXR1cCkge1xyXG4gICAgdGhpcy5ncmlkID0gc2V0dXAuc3BsaXQoJ1xcbicpLm1hcChsaW5lID0+IHtcclxuICAgICAgcmV0dXJuIGxpbmUuc3BsaXQoJycpLm1hcChjb2xvckNvZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiBjb2xvckNvZGUgPT09ICcgJyA/IG51bGwgOiBuZXcgUGllY2UoY29sb3JDb2RlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZGlteSA9IHRoaXMuZ3JpZC5sZW5ndGg7XHJcbiAgICB0aGlzLmRpbXggPSB0aGlzLmdyaWRbMF0ubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgY2xpY2tPbih4LHkpIHtcclxuICAgIC8vIGlnbm9yZSBjbGlja3Mgb24gZW1wdHkgc3BhY2VzXHJcbiAgICBpZih0aGlzLmdyaWRbeV1beF0gPT09IG51bGwpIHJldHVybjtcclxuICAgIGlmKHRoaXMuZ3JpZFt5XVt4XS5zZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLl9kZXN0cm95UGllY2VzKCk7XHJcbiAgICAgIHRoaXMuX2ZhbGxQaWVjZXMoKTtcclxuICAgICAgdGhpcy5fY29tcGFjdENvbHVtbnMoKTtcclxuICAgICAgaWYodGhpcy5fY2hlY2tXaW4oKSkge1xyXG4gICAgICAgIHRoaXMud2luQ2FsbGJhY2soKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2VsZWN0UGllY2VzKHgseSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2VsZWN0UGllY2VzKHgsIHkpIHtcclxuICAgIC8vIGlnbm9yZSBjbGlja3Mgb24gZW1wdHkgc3BhY2VzXHJcbiAgICBpZih0aGlzLmdyaWRbeV1beF0gPT09IG51bGwpIHJldHVybjtcclxuICAgIC8vIHJlc2V0IFxyXG4gICAgdGhpcy5ncmlkLmZvckVhY2gobGluZSA9PiB7XHJcbiAgICAgIGxpbmUuZm9yRWFjaChwaWVjZSA9PiB7XHJcbiAgICAgICAgaWYocGllY2UgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgICBwaWVjZS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHBpZWNlLnZpc2l0ZWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG1hdGNoQ29sb3IgPSB0aGlzLmdyaWRbeV1beF0uY29sb3I7XHJcbiAgICBjb25zdCBzZWFyY2hEaXJlY3Rpb25zID0gW1xyXG4gICAgICB7eDogMSwgeTogMH0sIC8vIHJpZ2h0XHJcbiAgICAgIHt4OiAtMSwgeTogMH0sIC8vIGxlZnRcclxuICAgICAge3g6IDAsIHk6IDF9LCAvLyBkb3duXHJcbiAgICAgIHt4OiAwLCB5OiAtMX0sIC8vIHVwXHJcbiAgICBdO1xyXG4gICAgLy8gaW5pdGlhbGl6ZSBxdWV1ZVxyXG4gICAgbGV0IHEgPSBbe3gsIHl9XTtcclxuICAgIHdoaWxlKHEubGVuZ3RoID4gMCkge1xyXG4gICAgICBsZXQgYyA9IHEucG9wKCk7XHJcbiAgICAgIHRoaXMuZ3JpZFtjLnldW2MueF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICBzZWFyY2hEaXJlY3Rpb25zLmZvckVhY2goZGlyID0+IHtcclxuICAgICAgICAvLyBjaGVjayBmb3Igb3V0LW9mLWJvdW5kcyBjYXNlc1xyXG4gICAgICAgIGlmKGMueSArIGRpci55IDwgMCB8fCBjLnkgKyBkaXIueSA+PSB0aGlzLmRpbXkpIHJldHVybjtcclxuICAgICAgICBpZihjLnggKyBkaXIueCA8IDAgfHwgYy54ICsgZGlyLnggPj0gdGhpcy5kaW14KSByZXR1cm47XHJcbiAgICAgICAgbGV0IG5laWdoYm9yID0gIHRoaXMuZ3JpZFtjLnkgKyBkaXIueV1bYy54ICsgZGlyLnhdO1xyXG4gICAgICAgIGlmKG5laWdoYm9yID09PSBudWxsIHx8IG5laWdoYm9yLnZpc2l0ZWQpIHJldHVybjtcclxuICAgICAgICBuZWlnaGJvci52aXNpdGVkID0gdHJ1ZTtcclxuICAgICAgICBpZihuZWlnaGJvci5jb2xvciA9PT0gbWF0Y2hDb2xvcikge1xyXG4gICAgICAgICAgcS51bnNoaWZ0KHtcclxuICAgICAgICAgICAgeDogYy54ICsgZGlyLngsXHJcbiAgICAgICAgICAgIHk6IGMueSArIGRpci55LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9kZXN0cm95UGllY2VzKCkge1xyXG4gICAgbGV0IGN1cnJlbnRWYWx1ZSA9IDEwO1xyXG4gICAgZm9yKGxldCB5ID0gMDsgeSA8IHRoaXMuZGlteTsgeSsrKSB7XHJcbiAgICAgIGZvcihsZXQgeCA9IDA7IHggPCB0aGlzLmRpbXg7IHgrKykge1xyXG4gICAgICAgIGlmKHRoaXMuZ3JpZFt5XVt4XSA9PT0gbnVsbCkgY29udGludWU7XHJcbiAgICAgICAgaWYodGhpcy5ncmlkW3ldW3hdLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICB0aGlzLnNjb3JlICs9IGN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSAxMDtcclxuICAgICAgICAgIHRoaXMuZ3JpZFt5XVt4XSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZmFsbFBpZWNlcygpIHtcclxuICAgIC8vIGl0ZXJhdGUgb3ZlciBlYWNoIGNvbHVtbiBpbnN0ZWFkIG9mIGVhY2ggcm93XHJcbiAgICBmb3IobGV0IHggPSAwOyB4IDwgdGhpcy5kaW14OyB4KyspIHtcclxuICAgICAgLy8gYnVpbGQgYSBjb21wYWN0ZWQgYXJyYXkgd2l0aG91dCBhbnkgZW1wdHkgc3BvdHNcclxuICAgICAgbGV0IGNvbXBhY3RlZExpc3QgPSBbXTtcclxuICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IHRoaXMuZGlteTsgeSsrKSB7XHJcbiAgICAgICAgaWYodGhpcy5ncmlkW3ldW3hdID09PSBudWxsKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29tcGFjdGVkTGlzdC5wdXNoKHRoaXMuZ3JpZFt5XVt4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIHBhZCB0aGUgY29tcGFjdGVkIGxpc3QgYXMgbmVlZGVkXHJcbiAgICAgIHdoaWxlKGNvbXBhY3RlZExpc3QubGVuZ3RoIDwgdGhpcy5kaW15KSB7XHJcbiAgICAgICAgY29tcGFjdGVkTGlzdC51bnNoaWZ0KG51bGwpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEdvIGRvd24gdGhlIGNvbHVtbiBhZ2FpbiBhbmQgcmVjb25maWd1cmVcclxuICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IHRoaXMuZGlteTsgeSsrKSB7XHJcbiAgICAgICAgdGhpcy5ncmlkW3ldW3hdID0gY29tcGFjdGVkTGlzdFt5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NvbXBhY3RDb2x1bW5zKCkge1xyXG4gICAgbGV0IGNhbkJlQ29tcGFjdGVkID0gKCkgPT4ge1xyXG4gICAgICBsZXQgYm90dG9tUm93ID0gdGhpcy5ncmlkW3RoaXMuZGlteS0xXTtcclxuICAgICAgbGV0IGVtcHR5RW5jb3VudGVyZWQgPSBmYWxzZTtcclxuICAgICAgZm9yKGxldCBpPTA7IGk8Ym90dG9tUm93Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYoYm90dG9tUm93W2ldID09PSBudWxsKSB7XHJcbiAgICAgICAgICBlbXB0eUVuY291bnRlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYoZW1wdHlFbmNvdW50ZXJlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHdoaWxlKGNhbkJlQ29tcGFjdGVkKCkpIHtcclxuICAgICAgLy8gaXRlcmF0ZSBvdmVyIGVhY2ggY29sdW1uIGluc3RlYWQgb2YgZWFjaCByb3dcclxuICAgICAgLy8gaWdub3JlIGxhc3Qgcm93IGJlY2F1c2UgdGhlcmUncyBub3RoaW5nIHRvIGNvbXBhY3RcclxuICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IHRoaXMuZGlteC0xOyB4KyspIHtcclxuICAgICAgICAvLyBjaGVjayBpZiB0aGUgY29sdW1uIGNvbnRhaW5zIGFueSBwaWVjZXNcclxuICAgICAgICBsZXQgY29sdW1uQ29udGFpbnNQaWVjZXMgPSBmYWxzZTtcclxuICAgICAgICBmb3IobGV0IHkgPSAwOyB5IDwgdGhpcy5kaW15OyB5KyspIHtcclxuICAgICAgICAgIGlmKHRoaXMuZ3JpZFt5XVt4XSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbHVtbkNvbnRhaW5zUGllY2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFjb2x1bW5Db250YWluc1BpZWNlcykge1xyXG4gICAgICAgICAgLy8gR28gZG93biB0aGUgY29sdW1uIGFnYWluIGFuZCByZWNvbmZpZ3VyZVxyXG4gICAgICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IHRoaXMuZGlteTsgeSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JpZFt5XVt4XSA9IHRoaXMuZ3JpZFt5XVt4KzFdO1xyXG4gICAgICAgICAgICB0aGlzLmdyaWRbeV1beCsxXSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2hlY2tXaW4oKSB7XHJcbiAgICBmb3IobGV0IHkgPSAwOyB5IDwgdGhpcy5kaW15OyB5KyspIHtcclxuICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IHRoaXMuZGlteDsgeCsrKSB7XHJcbiAgICAgICAgaWYodGhpcy5ncmlkW3ldW3hdICE9PSBudWxsKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5ncmlkLm1hcChsaW5lID0+IHtcclxuICAgICAgcmV0dXJuIGxpbmUubWFwKHBpZWNlID0+IHtcclxuICAgICAgICBpZihwaWVjZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuICcgJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHBpZWNlLnNlbGVjdGVkID8gJyonIDogcGllY2UuY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5qb2luKCcnKTtcclxuICAgIH0pLmpvaW4oJ1xcbicpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBHYW1lOyJdLCJzb3VyY2VSb290IjoiIn0=